/*! For license information please see main.37705c47.js.LICENSE.txt */
!function(){var e={472:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},948:function(e){"use strict";var t=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)};var n="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?u((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function i(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function a(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function o(e,t){try{return t in e}catch(n){return!1}}function s(e,t,n){var i={};return n.isMergeableObject(e)&&a(e).forEach((function(t){i[t]=r(e[t],n)})),a(t).forEach((function(a){(function(e,t){return o(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,a)||(o(e,a)&&n.isMergeableObject(t[a])?i[a]=function(e,t){if(!t.customMerge)return u;var n=t.customMerge(e);return"function"===typeof n?n:u}(a,n)(e[a],t[a],n):i[a]=r(t[a],n))})),i}function u(e,n,a){(a=a||{}).arrayMerge=a.arrayMerge||i,a.isMergeableObject=a.isMergeableObject||t,a.cloneUnlessOtherwiseSpecified=r;var o=Array.isArray(n);return o===Array.isArray(e)?o?a.arrayMerge(e,n,a):s(e,n,a):r(n,a)}u.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return u(e,n,t)}),{})};var c=u;e.exports=c},110:function(e,t,n){"use strict";var r=n(441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);h&&(o=o.concat(h(n)));for(var s=u(t),v=u(n),g=0;g<o.length;++g){var y=o[g];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var m=f(n,y);try{c(t,y,m)}catch(b){}}}}return t}},313:function(e,t){var n={userAgent:!1},r={},i=i||function(e,t){var n={},r=n.lib={},i=r.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),a=r.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=undefined!=t?t:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var a=0;a<i;a++){var o=n[a>>>2]>>>24-a%4*8&255;t[r+a>>>2]|=o<<24-(r+a)%4*8}else for(a=0;a<i;a+=4)t[r+a>>>2]=n[a>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],r=0;r<t;r+=4)n.push(4294967296*e.random()|0);return new a.init(n,t)}}),o=n.enc={},s=o.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push((a>>>4).toString(16)),r.push((15&a).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new a.init(n,t/2)}},u=o.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new a.init(n,t)}},c=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},l=r.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,s=i/(4*o),u=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,c=e.min(4*u,i);if(u){for(var l=0;l<u;l+=o)this._doProcessBlock(r,l);var h=r.splice(0,u);n.sigBytes-=c}return new a.init(h,c)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),h=(r.Hasher=l.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new h.HMAC.init(e,n).finalize(t)}}}),n.algo={});return n}(Math);!function(e){var t,n=(t=i).lib,r=n.Base,a=n.WordArray;(t=t.x64={}).Word=r.extend({init:function(e,t){this.high=e,this.low=t}}),t.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=undefined!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var i=e[r];n.push(i.high),n.push(i.low)}return a.create(n,this.sigBytes)},clone:function(){for(var e=r.clone.call(this),t=e.words=this.words.slice(0),n=t.length,i=0;i<n;i++)t[i]=t[i].clone();return e}})}(),i.lib.Cipher||function(e){var t=(p=i).lib,n=t.Base,r=t.WordArray,a=t.BufferedBlockAlgorithm,o=p.enc.Base64,s=p.algo.EvpKDF,u=t.Cipher=a.extend({cfg:n.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,n,r){return("string"==typeof n?v:d).encrypt(e,t,n,r)},decrypt:function(t,n,r){return("string"==typeof n?v:d).decrypt(e,t,n,r)}}}});t.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var c=p.mode={},l=function(e,t,n){var r=this._iv;r?this._iv=undefined:r=this._prevBlock;for(var i=0;i<n;i++)e[t+i]^=r[i]},h=(t.BlockCipherMode=n.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();h.Encryptor=h.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize;l.call(this,e,t,r),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+r)}}),h.Decryptor=h.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=e.slice(t,t+r);n.decryptBlock(e,t),l.call(this,e,t,r),this._prevBlock=i}}),c=c.CBC=h,h=(p.pad={}).Pkcs7={pad:function(e,t){for(var n,i=(n=(n=4*t)-e.sigBytes%n)<<24|n<<16|n<<8|n,a=[],o=0;o<n;o+=4)a.push(i);n=r.create(a,n),e.concat(n)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},t.BlockCipher=u.extend({cfg:u.cfg.extend({mode:c,padding:h}),reset:function(){u.reset.call(this);var e=(t=this.cfg).iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=t.createEncryptor;else n=t.createDecryptor,this._minBufferSize=1;this._mode=n.call(t,this,e&&e.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var f=t.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),d=(c=(p.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return((e=e.salt)?r.create([1398893684,1701076831]).concat(e).concat(t):t).toString(o)},parse:function(e){var t=(e=o.parse(e)).words;if(1398893684==t[0]&&1701076831==t[1]){var n=r.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return f.create({ciphertext:e,salt:n})}},t.SerializableCipher=n.extend({cfg:n.extend({format:c}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r);return t=i.finalize(t),i=i.cfg,f.create({ciphertext:t,key:n,iv:i.iv,algorithm:e,mode:i.mode,padding:i.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}})),p=(p.kdf={}).OpenSSL={execute:function(e,t,n,i){return i||(i=r.random(8)),e=s.create({keySize:t+n}).compute(e,i),n=r.create(e.words.slice(t),4*n),e.sigBytes=4*t,f.create({key:e,iv:n,salt:i})}},v=t.PasswordBasedCipher=d.extend({cfg:d.cfg.extend({kdf:p}),encrypt:function(e,t,n,r){return n=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize),r.iv=n.iv,(e=d.encrypt.call(this,e,t,n.key,r)).mixIn(n),e},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),n=r.kdf.execute(n,e.keySize,e.ivSize,t.salt),r.iv=n.iv,d.decrypt.call(this,e,t,n.key,r)}})}(),function(){for(var e=i,t=e.lib.BlockCipher,n=e.algo,r=[],a=[],o=[],s=[],u=[],c=[],l=[],h=[],f=[],d=[],p=[],v=0;256>v;v++)p[v]=128>v?v<<1:v<<1^283;var g=0,y=0;for(v=0;256>v;v++){var m=(m=y^y<<1^y<<2^y<<3^y<<4)>>>8^255&m^99;r[g]=m,a[m]=g;var b=p[g],w=p[b],x=p[w],_=257*p[m]^16843008*m;o[g]=_<<24|_>>>8,s[g]=_<<16|_>>>16,u[g]=_<<8|_>>>24,c[g]=_,_=16843009*x^65537*w^257*b^16843008*g,l[m]=_<<24|_>>>8,h[m]=_<<16|_>>>16,f[m]=_<<8|_>>>24,d[m]=_,g?(g=b^p[p[p[x^b]]],y^=p[p[y]]):g=y=1}var S=[0,1,2,4,8,16,32,64,128,27,54];n=n.AES=t.extend({_doReset:function(){for(var e=(n=this._key).words,t=n.sigBytes/4,n=4*((this._nRounds=t+6)+1),i=this._keySchedule=[],a=0;a<n;a++)if(a<t)i[a]=e[a];else{var o=i[a-1];a%t?6<t&&4==a%t&&(o=r[o>>>24]<<24|r[o>>>16&255]<<16|r[o>>>8&255]<<8|r[255&o]):(o=r[(o=o<<8|o>>>24)>>>24]<<24|r[o>>>16&255]<<16|r[o>>>8&255]<<8|r[255&o],o^=S[a/t|0]<<24),i[a]=i[a-t]^o}for(e=this._invKeySchedule=[],t=0;t<n;t++)a=n-t,o=t%4?i[a]:i[a-4],e[t]=4>t||4>=a?o:l[r[o>>>24]]^h[r[o>>>16&255]]^f[r[o>>>8&255]]^d[r[255&o]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,s,u,c,r)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,l,h,f,d,a),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,a,o,s){for(var u=this._nRounds,c=e[t]^n[0],l=e[t+1]^n[1],h=e[t+2]^n[2],f=e[t+3]^n[3],d=4,p=1;p<u;p++){var v=r[c>>>24]^i[l>>>16&255]^a[h>>>8&255]^o[255&f]^n[d++],g=r[l>>>24]^i[h>>>16&255]^a[f>>>8&255]^o[255&c]^n[d++],y=r[h>>>24]^i[f>>>16&255]^a[c>>>8&255]^o[255&l]^n[d++];f=r[f>>>24]^i[c>>>16&255]^a[l>>>8&255]^o[255&h]^n[d++],c=v,l=g,h=y}v=(s[c>>>24]<<24|s[l>>>16&255]<<16|s[h>>>8&255]<<8|s[255&f])^n[d++],g=(s[l>>>24]<<24|s[h>>>16&255]<<16|s[f>>>8&255]<<8|s[255&c])^n[d++],y=(s[h>>>24]<<24|s[f>>>16&255]<<16|s[c>>>8&255]<<8|s[255&l])^n[d++],f=(s[f>>>24]<<24|s[c>>>16&255]<<16|s[l>>>8&255]<<8|s[255&h])^n[d++],e[t]=v,e[t+1]=g,e[t+2]=y,e[t+3]=f},keySize:8});e.AES=t._createHelper(n)}(),function(){function e(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function t(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}var n=i,r=(a=n.lib).WordArray,a=a.BlockCipher,o=n.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],f=o.DES=a.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;56>n;n++){var r=s[n]-1;t[n]=e[r>>>5]>>>31-r%32&1}for(e=this._subKeys=[],r=0;16>r;r++){var i=e[r]=[],a=c[r];for(n=0;24>n;n++)i[n/6|0]|=t[(u[n]-1+a)%28]<<31-n%6,i[4+(n/6|0)]|=t[28+(u[n+24]-1+a)%28]<<31-n%6;for(i[0]=i[0]<<1|i[0]>>>31,n=1;7>n;n++)i[n]>>>=4*(n-1)+3;i[7]=i[7]<<5|i[7]>>>27}for(t=this._invSubKeys=[],n=0;16>n;n++)t[n]=e[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(n,r,i){this._lBlock=n[r],this._rBlock=n[r+1],e.call(this,4,252645135),e.call(this,16,65535),t.call(this,2,858993459),t.call(this,8,16711935),e.call(this,1,1431655765);for(var a=0;16>a;a++){for(var o=i[a],s=this._lBlock,u=this._rBlock,c=0,f=0;8>f;f++)c|=l[f][((u^o[f])&h[f])>>>0];this._lBlock=u,this._rBlock=s^c}i=this._lBlock,this._lBlock=this._rBlock,this._rBlock=i,e.call(this,1,1431655765),t.call(this,8,16711935),t.call(this,2,858993459),e.call(this,16,65535),e.call(this,4,252645135),n[r]=this._lBlock,n[r+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});n.DES=a._createHelper(f),o=o.TripleDES=a.extend({_doReset:function(){var e=this._key.words;this._des1=f.createEncryptor(r.create(e.slice(0,2))),this._des2=f.createEncryptor(r.create(e.slice(2,4))),this._des3=f.createEncryptor(r.create(e.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2}),n.TripleDES=a._createHelper(o)}(),function(){var e=i,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp(),e=[];for(var i=0;i<n;i+=3)for(var a=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,o=0;4>o&&i+.75*o<n;o++)e.push(r.charAt(a>>>6*(3-o)&63));if(t=r.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var n=e.length,r=this._map;(i=r.charAt(64))&&(-1!=(i=e.indexOf(i))&&(n=i));for(var i=[],a=0,o=0;o<n;o++)if(o%4){var s=r.indexOf(e.charAt(o-1))<<o%4*2,u=r.indexOf(e.charAt(o))>>>6-o%4*2;i[a>>>2]|=(s|u)<<24-a%4*8,a++}return t.create(i,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){function t(e,t,n,r,i,a,o){return((e=e+(t&n|~t&r)+i+o)<<a|e>>>32-a)+t}function n(e,t,n,r,i,a,o){return((e=e+(t&r|n&~r)+i+o)<<a|e>>>32-a)+t}function r(e,t,n,r,i,a,o){return((e=e+(t^n^r)+i+o)<<a|e>>>32-a)+t}function a(e,t,n,r,i,a,o){return((e=e+(n^(t|~r))+i+o)<<a|e>>>32-a)+t}for(var o=i,s=(c=o.lib).WordArray,u=c.Hasher,c=o.algo,l=[],h=0;64>h;h++)l[h]=4294967296*e.abs(e.sin(h+1))|0;c=c.MD5=u.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,i){for(var o=0;16>o;o++){var s=e[u=i+o];e[u]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}o=this._hash.words;var u=e[i+0],c=(s=e[i+1],e[i+2]),h=e[i+3],f=e[i+4],d=e[i+5],p=e[i+6],v=e[i+7],g=e[i+8],y=e[i+9],m=e[i+10],b=e[i+11],w=e[i+12],x=e[i+13],_=e[i+14],S=e[i+15],E=t(E=o[0],A=o[1],C=o[2],k=o[3],u,7,l[0]),k=t(k,E,A,C,s,12,l[1]),C=t(C,k,E,A,c,17,l[2]),A=t(A,C,k,E,h,22,l[3]);E=t(E,A,C,k,f,7,l[4]),k=t(k,E,A,C,d,12,l[5]),C=t(C,k,E,A,p,17,l[6]),A=t(A,C,k,E,v,22,l[7]),E=t(E,A,C,k,g,7,l[8]),k=t(k,E,A,C,y,12,l[9]),C=t(C,k,E,A,m,17,l[10]),A=t(A,C,k,E,b,22,l[11]),E=t(E,A,C,k,w,7,l[12]),k=t(k,E,A,C,x,12,l[13]),C=t(C,k,E,A,_,17,l[14]),E=n(E,A=t(A,C,k,E,S,22,l[15]),C,k,s,5,l[16]),k=n(k,E,A,C,p,9,l[17]),C=n(C,k,E,A,b,14,l[18]),A=n(A,C,k,E,u,20,l[19]),E=n(E,A,C,k,d,5,l[20]),k=n(k,E,A,C,m,9,l[21]),C=n(C,k,E,A,S,14,l[22]),A=n(A,C,k,E,f,20,l[23]),E=n(E,A,C,k,y,5,l[24]),k=n(k,E,A,C,_,9,l[25]),C=n(C,k,E,A,h,14,l[26]),A=n(A,C,k,E,g,20,l[27]),E=n(E,A,C,k,x,5,l[28]),k=n(k,E,A,C,c,9,l[29]),C=n(C,k,E,A,v,14,l[30]),E=r(E,A=n(A,C,k,E,w,20,l[31]),C,k,d,4,l[32]),k=r(k,E,A,C,g,11,l[33]),C=r(C,k,E,A,b,16,l[34]),A=r(A,C,k,E,_,23,l[35]),E=r(E,A,C,k,s,4,l[36]),k=r(k,E,A,C,f,11,l[37]),C=r(C,k,E,A,v,16,l[38]),A=r(A,C,k,E,m,23,l[39]),E=r(E,A,C,k,x,4,l[40]),k=r(k,E,A,C,u,11,l[41]),C=r(C,k,E,A,h,16,l[42]),A=r(A,C,k,E,p,23,l[43]),E=r(E,A,C,k,y,4,l[44]),k=r(k,E,A,C,w,11,l[45]),C=r(C,k,E,A,S,16,l[46]),E=a(E,A=r(A,C,k,E,c,23,l[47]),C,k,u,6,l[48]),k=a(k,E,A,C,v,10,l[49]),C=a(C,k,E,A,_,15,l[50]),A=a(A,C,k,E,d,21,l[51]),E=a(E,A,C,k,w,6,l[52]),k=a(k,E,A,C,h,10,l[53]),C=a(C,k,E,A,m,15,l[54]),A=a(A,C,k,E,s,21,l[55]),E=a(E,A,C,k,g,6,l[56]),k=a(k,E,A,C,S,10,l[57]),C=a(C,k,E,A,p,15,l[58]),A=a(A,C,k,E,x,21,l[59]),E=a(E,A,C,k,f,6,l[60]),k=a(k,E,A,C,b,10,l[61]),C=a(C,k,E,A,c,15,l[62]),A=a(A,C,k,E,y,21,l[63]);o[0]=o[0]+E|0,o[1]=o[1]+A|0,o[2]=o[2]+C|0,o[3]=o[3]+k|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var a=e.floor(r/4294967296);for(n[15+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),n[14+(i+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(n.length+1),this._process(),n=(t=this._hash).words,r=0;4>r;r++)i=n[r],n[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8);return t},clone:function(){var e=u.clone.call(this);return e._hash=this._hash.clone(),e}}),o.MD5=u._createHelper(c),o.HmacMD5=u._createHmacHelper(c)}(Math),function(){var e=i,t=(a=e.lib).WordArray,n=a.Hasher,r=[],a=e.algo.SHA1=n.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],a=n[1],o=n[2],s=n[3],u=n[4],c=0;80>c;c++){if(16>c)r[c]=0|e[t+c];else{var l=r[c-3]^r[c-8]^r[c-14]^r[c-16];r[c]=l<<1|l>>>31}l=(i<<5|i>>>27)+u+r[c],l=20>c?l+(1518500249+(a&o|~a&s)):40>c?l+(1859775393+(a^o^s)):60>c?l+((a&o|a&s|o&s)-1894007588):l+((a^o^s)-899497514),u=s,s=o,o=a<<30|a>>>2,a=i,i=l}n[0]=n[0]+i|0,n[1]=n[1]+a|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+u|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=n._createHelper(a),e.HmacSHA1=n._createHmacHelper(a)}(),function(e){for(var t=i,n=(a=t.lib).WordArray,r=a.Hasher,a=t.algo,o=[],s=[],u=function(e){return 4294967296*(e-(0|e))|0},c=2,l=0;64>l;){var h;e:{h=c;for(var f=e.sqrt(h),d=2;d<=f;d++)if(!(h%d)){h=!1;break e}h=!0}h&&(8>l&&(o[l]=u(e.pow(c,.5))),s[l]=u(e.pow(c,1/3)),l++),c++}var p=[];a=a.SHA256=r.extend({_doReset:function(){this._hash=new n.init(o.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],a=n[2],o=n[3],u=n[4],c=n[5],l=n[6],h=n[7],f=0;64>f;f++){if(16>f)p[f]=0|e[t+f];else{var d=p[f-15],v=p[f-2];p[f]=((d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3)+p[f-7]+((v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10)+p[f-16]}d=h+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&c^~u&l)+s[f]+p[f],v=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&i^r&a^i&a),h=l,l=c,c=u,u=o+d|0,o=a,a=i,i=r,r=d+v|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+a|0,n[3]=n[3]+o|0,n[4]=n[4]+u|0,n[5]=n[5]+c|0,n[6]=n[6]+l|0,n[7]=n[7]+h|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=r._createHelper(a),t.HmacSHA256=r._createHmacHelper(a)}(Math),function(){var e=i,t=e.lib.WordArray,n=(r=e.algo).SHA256,r=r.SHA224=n.extend({_doReset:function(){this._hash=new t.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=n._doFinalize.call(this);return e.sigBytes-=4,e}});e.SHA224=n._createHelper(r),e.HmacSHA224=n._createHmacHelper(r)}(),function(){function e(){return r.create.apply(r,arguments)}for(var t=i,n=t.lib.Hasher,r=(o=t.x64).Word,a=o.WordArray,o=t.algo,s=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],u=[],c=0;80>c;c++)u[c]=e();o=o.SHA512=n.extend({_doReset:function(){this._hash=new a.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=(h=this._hash.words)[0],r=h[1],i=h[2],a=h[3],o=h[4],c=h[5],l=h[6],h=h[7],f=n.high,d=n.low,p=r.high,v=r.low,g=i.high,y=i.low,m=a.high,b=a.low,w=o.high,x=o.low,_=c.high,S=c.low,E=l.high,k=l.low,C=h.high,A=h.low,P=f,I=d,T=p,F=v,R=g,O=y,N=m,D=b,j=w,L=x,B=_,M=S,H=E,V=k,U=C,q=A,K=0;80>K;K++){var z=u[K];if(16>K)var W=z.high=0|e[t+2*K],G=z.low=0|e[t+2*K+1];else{W=((G=(W=u[K-15]).high)>>>1|($=W.low)<<31)^(G>>>8|$<<24)^G>>>7;var $=($>>>1|G<<31)^($>>>8|G<<24)^($>>>7|G<<25),J=((G=(J=u[K-2]).high)>>>19|(Y=J.low)<<13)^(G<<3|Y>>>29)^G>>>6,Y=(Y>>>19|G<<13)^(Y<<3|G>>>29)^(Y>>>6|G<<26),X=(G=u[K-7]).high,Q=(Z=u[K-16]).high,Z=Z.low;W=(W=(W=W+X+((G=$+G.low)>>>0<$>>>0?1:0))+J+((G=G+Y)>>>0<Y>>>0?1:0))+Q+((G=G+Z)>>>0<Z>>>0?1:0);z.high=W,z.low=G}X=j&B^~j&H,Z=L&M^~L&V,z=P&T^P&R^T&R;var ee=I&F^I&O^F&O,te=($=(P>>>28|I<<4)^(P<<30|I>>>2)^(P<<25|I>>>7),J=(I>>>28|P<<4)^(I<<30|P>>>2)^(I<<25|P>>>7),(Y=s[K]).high),ne=Y.low;Q=U+((j>>>14|L<<18)^(j>>>18|L<<14)^(j<<23|L>>>9))+((Y=q+((L>>>14|j<<18)^(L>>>18|j<<14)^(L<<23|j>>>9)))>>>0<q>>>0?1:0),U=H,q=V,H=B,V=M,B=j,M=L,j=N+(Q=(Q=(Q=Q+X+((Y=Y+Z)>>>0<Z>>>0?1:0))+te+((Y=Y+ne)>>>0<ne>>>0?1:0))+W+((Y=Y+G)>>>0<G>>>0?1:0))+((L=D+Y|0)>>>0<D>>>0?1:0)|0,N=R,D=O,R=T,O=F,T=P,F=I,P=Q+(z=$+z+((G=J+ee)>>>0<J>>>0?1:0))+((I=Y+G|0)>>>0<Y>>>0?1:0)|0}d=n.low=d+I,n.high=f+P+(d>>>0<I>>>0?1:0),v=r.low=v+F,r.high=p+T+(v>>>0<F>>>0?1:0),y=i.low=y+O,i.high=g+R+(y>>>0<O>>>0?1:0),b=a.low=b+D,a.high=m+N+(b>>>0<D>>>0?1:0),x=o.low=x+L,o.high=w+j+(x>>>0<L>>>0?1:0),S=c.low=S+M,c.high=_+B+(S>>>0<M>>>0?1:0),k=l.low=k+V,l.high=E+H+(k>>>0<V>>>0?1:0),A=h.low=A+q,h.high=C+U+(A>>>0<q>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32}),t.SHA512=n._createHelper(o),t.HmacSHA512=n._createHmacHelper(o)}(),function(){var e=i,t=(a=e.x64).Word,n=a.WordArray,r=(a=e.algo).SHA512,a=a.SHA384=r.extend({_doReset:function(){this._hash=new n.init([new t.init(3418070365,3238371032),new t.init(1654270250,914150663),new t.init(2438529370,812702999),new t.init(355462360,4144912697),new t.init(1731405415,4290775857),new t.init(2394180231,1750603025),new t.init(3675008525,1694076839),new t.init(1203062813,3204075428)])},_doFinalize:function(){var e=r._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=r._createHelper(a),e.HmacSHA384=r._createHmacHelper(a)}(),function(){var e=i,t=(r=e.lib).WordArray,n=r.Hasher,r=e.algo,a=t.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),o=t.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),s=t.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=t.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),c=t.create([0,1518500249,1859775393,2400959708,2840853838]),l=t.create([1352829926,1548603684,1836072691,2053994217,0]);r=r.RIPEMD160=n.extend({_doReset:function(){this._hash=t.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;16>n;n++){var r=e[w=t+n];e[w]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var i,h,f,d,p,v,g,y,m,b,w=this._hash.words,x=(r=c.words,l.words),_=a.words,S=o.words,E=s.words,k=u.words;v=i=w[0],g=h=w[1],y=f=w[2],m=d=w[3],b=p=w[4];var C;for(n=0;80>n;n+=1)C=i+e[t+_[n]]|0,C=16>n?C+((h^f^d)+r[0]):32>n?C+((h&f|~h&d)+r[1]):48>n?C+(((h|~f)^d)+r[2]):64>n?C+((h&d|f&~d)+r[3]):C+((h^(f|~d))+r[4]),C=(C=(C|=0)<<E[n]|C>>>32-E[n])+p|0,i=p,p=d,d=f<<10|f>>>22,f=h,h=C,C=v+e[t+S[n]]|0,C=16>n?C+((g^(y|~m))+x[0]):32>n?C+((g&m|y&~m)+x[1]):48>n?C+(((g|~y)^m)+x[2]):64>n?C+((g&y|~g&m)+x[3]):C+((g^y^m)+x[4]),C=(C=(C|=0)<<k[n]|C>>>32-k[n])+b|0,v=b,b=m,m=y<<10|y>>>22,y=g,g=C;C=w[1]+f+m|0,w[1]=w[2]+d+b|0,w[2]=w[3]+p+v|0,w[3]=w[4]+i+g|0,w[4]=w[0]+h+y|0,w[0]=C},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;for(t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process(),t=(e=this._hash).words,n=0;5>n;n++)r=t[n],t[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);return e},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});e.RIPEMD160=n._createHelper(r),e.HmacRIPEMD160=n._createHmacHelper(r)}(Math),function(){var e=i,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(e,n){e=this._hasher=new e.init,"string"==typeof n&&(n=t.parse(n));var r=e.blockSize,i=4*r;n.sigBytes>i&&(n=e.finalize(n)),n.clamp();for(var a=this._oKey=n.clone(),o=this._iKey=n.clone(),s=a.words,u=o.words,c=0;c<r;c++)s[c]^=1549556828,u[c]^=909522486;a.sigBytes=o.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),function(){var e,t=i,n=(e=t.lib).Base,r=e.WordArray,a=(e=t.algo).HMAC,o=e.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:e.SHA1,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){var n=this.cfg,i=a.create(n.hasher,e),o=r.create(),s=r.create([1]),u=o.words,c=s.words,l=n.keySize;for(n=n.iterations;u.length<l;){var h=i.update(t).finalize(s);i.reset();for(var f=h.words,d=f.length,p=h,v=1;v<n;v++){p=i.finalize(p),i.reset();for(var g=p.words,y=0;y<d;y++)f[y]^=g[y]}o.concat(h),c[0]++}return o.sigBytes=4*l,o}});t.PBKDF2=function(e,t,n){return o.create(n).compute(e,t)}}();var a,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function s(e){var t,n,r="";for(t=0;t+3<=e.length;t+=3)n=parseInt(e.substring(t,t+3),16),r+=o.charAt(n>>6)+o.charAt(63&n);for(t+1==e.length?(n=parseInt(e.substring(t,t+1),16),r+=o.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),r+=o.charAt(n>>2)+o.charAt((3&n)<<4)),"=";(3&r.length)>0;)r+="=";return r}function u(e){var t,n,r,i="",a=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t)(r=o.indexOf(e.charAt(t)))<0||(0==a?(i+=v(r>>2),n=3&r,a=1):1==a?(i+=v(n<<2|r>>4),n=15&r,a=2):2==a?(i+=v(n),i+=v(r>>2),n=3&r,a=3):(i+=v(n<<2|r>>4),i+=v(15&r),a=0));return 1==a&&(i+=v(n<<2)),i}function c(e){var t,n=u(e),r=new Array;for(t=0;2*t<n.length;++t)r[t]=parseInt(n.substring(2*t,2*t+2),16);return r}function l(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function h(){return new l(null)}"Microsoft Internet Explorer"==n.appName?(l.prototype.am=function(e,t,n,r,i,a){for(var o=32767&t,s=t>>15;--a>=0;){var u=32767&this[e],c=this[e++]>>15,l=s*u+c*o;i=((u=o*u+((32767&l)<<15)+n[r]+(1073741823&i))>>>30)+(l>>>15)+s*c+(i>>>30),n[r++]=1073741823&u}return i},a=30):"Netscape"!=n.appName?(l.prototype.am=function(e,t,n,r,i,a){for(;--a>=0;){var o=t*this[e++]+n[r]+i;i=Math.floor(o/67108864),n[r++]=67108863&o}return i},a=26):(l.prototype.am=function(e,t,n,r,i,a){for(var o=16383&t,s=t>>14;--a>=0;){var u=16383&this[e],c=this[e++]>>14,l=s*u+c*o;i=((u=o*u+((16383&l)<<14)+n[r]+i)>>28)+(l>>14)+s*c,n[r++]=268435455&u}return i},a=28),l.prototype.DB=a,l.prototype.DM=(1<<a)-1,l.prototype.DV=1<<a;l.prototype.FV=Math.pow(2,52),l.prototype.F1=52-a,l.prototype.F2=2*a-52;var f,d,p=new Array;for(f="0".charCodeAt(0),d=0;d<=9;++d)p[f++]=d;for(f="a".charCodeAt(0),d=10;d<36;++d)p[f++]=d;for(f="A".charCodeAt(0),d=10;d<36;++d)p[f++]=d;function v(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function g(e,t){var n=p[e.charCodeAt(t)];return null==n?-1:n}function y(e){var t=h();return t.fromInt(e),t}function m(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function b(e){this.m=e}function w(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function x(e,t){return e&t}function _(e,t){return e|t}function S(e,t){return e^t}function E(e,t){return e&~t}function k(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function C(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function A(){}function P(e){return e}function I(e){this.r2=h(),this.q3=h(),l.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}b.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},b.prototype.revert=function(e){return e},b.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},b.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},b.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},w.prototype.convert=function(e){var t=h();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(l.ZERO)>0&&this.m.subTo(t,t),t},w.prototype.revert=function(e){var t=h();return e.copyTo(t),this.reduce(t),t},w.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},w.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},w.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},l.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},l.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},l.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,a=0;--r>=0;){var o=8==n?255&e[r]:g(e,r);o<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==a?this[this.t++]=o:a+n>this.DB?(this[this.t-1]|=(o&(1<<this.DB-a)-1)<<a,this[this.t++]=o>>this.DB-a):this[this.t-1]|=o<<a,(a+=n)>=this.DB&&(a-=this.DB))}8==n&&0!=(128&e[0])&&(this.s=-1,a>0&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),i&&l.ZERO.subTo(this,this)},l.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},l.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},l.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},l.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,a=(1<<i)-1,o=Math.floor(e/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+o+1]=this[n]>>i|s,s=(this[n]&a)<<r;for(n=o-1;n>=0;--n)t[n]=0;t[o]=s,t.t=this.t+o+1,t.s=this.s,t.clamp()},l.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,a=(1<<r)-1;t[0]=this[n]>>r;for(var o=n+1;o<this.t;++o)t[o-n-1]|=(this[o]&a)<<i,t[o-n]=this[o]>>r;r>0&&(t[this.t-n-1]|=(this.s&a)<<i),t.t=this.t-n,t.clamp()}},l.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},l.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&l.ZERO.subTo(t,t)},l.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},l.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=h());var a=h(),o=this.s,s=e.s,u=this.DB-m(r[r.t-1]);u>0?(r.lShiftTo(u,a),i.lShiftTo(u,n)):(r.copyTo(a),i.copyTo(n));var c=a.t,f=a[c-1];if(0!=f){var d=f*(1<<this.F1)+(c>1?a[c-2]>>this.F2:0),p=this.FV/d,v=(1<<this.F1)/d,g=1<<this.F2,y=n.t,b=y-c,w=null==t?h():t;for(a.dlShiftTo(b,w),n.compareTo(w)>=0&&(n[n.t++]=1,n.subTo(w,n)),l.ONE.dlShiftTo(c,w),w.subTo(a,a);a.t<c;)a[a.t++]=0;for(;--b>=0;){var x=n[--y]==f?this.DM:Math.floor(n[y]*p+(n[y-1]+g)*v);if((n[y]+=a.am(0,x,n,b,0,c))<x)for(a.dlShiftTo(b,w),n.subTo(w,n);n[y]<--x;)n.subTo(w,n)}null!=t&&(n.drShiftTo(c,t),o!=s&&l.ZERO.subTo(t,t)),n.t=c,n.clamp(),u>0&&n.rShiftTo(u,n),o<0&&l.ZERO.subTo(n,n)}}},l.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},l.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},l.prototype.exp=function(e,t){if(e>4294967295||e<1)return l.ONE;var n=h(),r=h(),i=t.convert(this),a=m(e)-1;for(i.copyTo(n);--a>=0;)if(t.sqrTo(n,r),(e&1<<a)>0)t.mulTo(r,i,n);else{var o=n;n=r,r=o}return t.revert(n)},l.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,i=!1,a="",o=this.t,s=this.DB-o*this.DB%t;if(o-- >0)for(s<this.DB&&(n=this[o]>>s)>0&&(i=!0,a=v(n));o>=0;)s<t?(n=(this[o]&(1<<s)-1)<<t-s,n|=this[--o]>>(s+=this.DB-t)):(n=this[o]>>(s-=t)&r,s<=0&&(s+=this.DB,--o)),n>0&&(i=!0),i&&(a+=v(n));return i?a:"0"},l.prototype.negate=function(){var e=h();return l.ZERO.subTo(this,e),e},l.prototype.abs=function(){return this.s<0?this.negate():this},l.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},l.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+m(this[this.t-1]^this.s&this.DM)},l.prototype.mod=function(e){var t=h();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(l.ZERO)>0&&e.subTo(t,t),t},l.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new b(t):new w(t),this.exp(e,n)},l.ZERO=y(0),l.ONE=y(1),A.prototype.convert=P,A.prototype.revert=P,A.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n)},A.prototype.sqrTo=function(e,t){e.squareTo(t)},I.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=h();return e.copyTo(t),this.reduce(t),t},I.prototype.revert=function(e){return e},I.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},I.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},I.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var T=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],F=(1<<26)/T[T.length-1];function R(){this.i=0,this.j=0,this.S=new Array}l.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},l.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),r=y(n),i=h(),a=h(),o="";for(this.divRemTo(r,i,a);i.signum()>0;)o=(n+a.intValue()).toString(e).substr(1)+o,i.divRemTo(r,i,a);return a.intValue().toString(e)+o},l.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var n=this.chunkSize(t),r=Math.pow(t,n),i=!1,a=0,o=0,s=0;s<e.length;++s){var u=g(e,s);u<0?"-"==e.charAt(s)&&0==this.signum()&&(i=!0):(o=t*o+u,++a>=n&&(this.dMultiply(r),this.dAddOffset(o,0),a=0,o=0))}a>0&&(this.dMultiply(Math.pow(t,a)),this.dAddOffset(o,0)),i&&l.ZERO.subTo(this,this)},l.prototype.fromNumber=function(e,t,n){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(l.ONE.shiftLeft(e-1),_,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(l.ONE.shiftLeft(e-1),this);else{var r=new Array,i=7&e;r.length=1+(e>>3),t.nextBytes(r),i>0?r[0]&=(1<<i)-1:r[0]=0,this.fromString(r,256)}},l.prototype.bitwiseTo=function(e,t,n){var r,i,a=Math.min(e.t,this.t);for(r=0;r<a;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){for(i=e.s&this.DM,r=a;r<this.t;++r)n[r]=t(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=a;r<e.t;++r)n[r]=t(i,e[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()},l.prototype.changeBit=function(e,t){var n=l.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n},l.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},l.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},l.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},l.prototype.multiplyLowerTo=function(e,t,n){var r,i=Math.min(this.t+e.t,t);for(n.s=0,n.t=i;i>0;)n[--i]=0;for(r=n.t-this.t;i<r;++i)n[i+this.t]=this.am(0,e[i],n,i,0,this.t);for(r=Math.min(e.t,t);i<r;++i)this.am(0,e[i],n,i,0,t-i);n.clamp()},l.prototype.multiplyUpperTo=function(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)},l.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n},l.prototype.millerRabin=function(e){var t=this.subtract(l.ONE),n=t.getLowestSetBit();if(n<=0)return!1;var r=t.shiftRight(n);(e=e+1>>1)>T.length&&(e=T.length);for(var i=h(),a=0;a<e;++a){i.fromInt(T[Math.floor(Math.random()*T.length)]);var o=i.modPow(r,this);if(0!=o.compareTo(l.ONE)&&0!=o.compareTo(t)){for(var s=1;s++<n&&0!=o.compareTo(t);)if(0==(o=o.modPowInt(2,this)).compareTo(l.ONE))return!1;if(0!=o.compareTo(t))return!1}}return!0},l.prototype.clone=function(){var e=h();return this.copyTo(e),e},l.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},l.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},l.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},l.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},l.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var n,r=this.DB-e*this.DB%8,i=0;if(e-- >0)for(r<this.DB&&(n=this[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this[e]&(1<<r)-1)<<8-r,n|=this[--e]>>(r+=this.DB-8)):(n=this[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t},l.prototype.equals=function(e){return 0==this.compareTo(e)},l.prototype.min=function(e){return this.compareTo(e)<0?this:e},l.prototype.max=function(e){return this.compareTo(e)>0?this:e},l.prototype.and=function(e){var t=h();return this.bitwiseTo(e,x,t),t},l.prototype.or=function(e){var t=h();return this.bitwiseTo(e,_,t),t},l.prototype.xor=function(e){var t=h();return this.bitwiseTo(e,S,t),t},l.prototype.andNot=function(e){var t=h();return this.bitwiseTo(e,E,t),t},l.prototype.not=function(){for(var e=h(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},l.prototype.shiftLeft=function(e){var t=h();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},l.prototype.shiftRight=function(e){var t=h();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},l.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+k(this[e]);return this.s<0?this.t*this.DB:-1},l.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=C(this[n]^t);return e},l.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},l.prototype.setBit=function(e){return this.changeBit(e,_)},l.prototype.clearBit=function(e){return this.changeBit(e,E)},l.prototype.flipBit=function(e){return this.changeBit(e,S)},l.prototype.add=function(e){var t=h();return this.addTo(e,t),t},l.prototype.subtract=function(e){var t=h();return this.subTo(e,t),t},l.prototype.multiply=function(e){var t=h();return this.multiplyTo(e,t),t},l.prototype.divide=function(e){var t=h();return this.divRemTo(e,t,null),t},l.prototype.remainder=function(e){var t=h();return this.divRemTo(e,null,t),t},l.prototype.divideAndRemainder=function(e){var t=h(),n=h();return this.divRemTo(e,t,n),new Array(t,n)},l.prototype.modPow=function(e,t){var n,r,i=e.bitLength(),a=y(1);if(i<=0)return a;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=i<8?new b(t):t.isEven()?new I(t):new w(t);var o=new Array,s=3,u=n-1,c=(1<<n)-1;if(o[1]=r.convert(this),n>1){var l=h();for(r.sqrTo(o[1],l);s<=c;)o[s]=h(),r.mulTo(l,o[s-2],o[s]),s+=2}var f,d,p=e.t-1,v=!0,g=h();for(i=m(e[p])-1;p>=0;){for(i>=u?f=e[p]>>i-u&c:(f=(e[p]&(1<<i+1)-1)<<u-i,p>0&&(f|=e[p-1]>>this.DB+i-u)),s=n;0==(1&f);)f>>=1,--s;if((i-=s)<0&&(i+=this.DB,--p),v)o[f].copyTo(a),v=!1;else{for(;s>1;)r.sqrTo(a,g),r.sqrTo(g,a),s-=2;s>0?r.sqrTo(a,g):(d=a,a=g,g=d),r.mulTo(g,o[f],a)}for(;p>=0&&0==(e[p]&1<<i);)r.sqrTo(a,g),d=a,a=g,g=d,--i<0&&(i=this.DB-1,--p)}return r.revert(a)},l.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return l.ZERO;for(var n=e.clone(),r=this.clone(),i=y(1),a=y(0),o=y(0),s=y(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),t?(i.isEven()&&a.isEven()||(i.addTo(this,i),a.subTo(e,a)),i.rShiftTo(1,i)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;r.isEven();)r.rShiftTo(1,r),t?(o.isEven()&&s.isEven()||(o.addTo(this,o),s.subTo(e,s)),o.rShiftTo(1,o)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);n.compareTo(r)>=0?(n.subTo(r,n),t&&i.subTo(o,i),a.subTo(s,a)):(r.subTo(n,r),t&&o.subTo(i,o),s.subTo(a,s))}return 0!=r.compareTo(l.ONE)?l.ZERO:s.compareTo(e)>=0?s.subtract(e):s.signum()<0?(s.addTo(e,s),s.signum()<0?s.add(e):s):s},l.prototype.pow=function(e){return this.exp(e,new A)},l.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var i=t.getLowestSetBit(),a=n.getLowestSetBit();if(a<0)return t;for(i<a&&(a=i),a>0&&(t.rShiftTo(a,t),n.rShiftTo(a,n));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return a>0&&n.lShiftTo(a,n),n},l.prototype.isProbablePrime=function(e){var t,n=this.abs();if(1==n.t&&n[0]<=T[T.length-1]){for(t=0;t<T.length;++t)if(n[0]==T[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<T.length;){for(var r=T[t],i=t+1;i<T.length&&r<F;)r*=T[i++];for(r=n.modInt(r);t<i;)if(r%T[t++]==0)return!1}return n.millerRabin(e)},l.prototype.square=function(){var e=h();return this.squareTo(e),e},R.prototype.init=function(e){var t,n,r;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,r=this.S[t],this.S[t]=this.S[n],this.S[n]=r;this.i=0,this.j=0},R.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]};var O,N,D;function j(){var e;e=(new Date).getTime(),N[D++]^=255&e,N[D++]^=e>>8&255,N[D++]^=e>>16&255,N[D++]^=e>>24&255,D>=256&&(D-=256)}if(null==N){var L;if(N=new Array,D=0,void 0!==r&&(void 0!==r.crypto||void 0!==r.msCrypto)){var B=r.crypto||r.msCrypto;if(B.getRandomValues){var M=new Uint8Array(32);for(B.getRandomValues(M),L=0;L<32;++L)N[D++]=M[L]}else if("Netscape"==n.appName&&n.appVersion<"5"){var H=r.crypto.random(32);for(L=0;L<H.length;++L)N[D++]=255&H.charCodeAt(L)}}for(;D<256;)L=Math.floor(65536*Math.random()),N[D++]=L>>>8,N[D++]=255&L;D=0,j()}function V(){if(null==O){for(j(),(O=new R).init(N),D=0;D<N.length;++D)N[D]=0;D=0}return O.next()}function U(){}function q(e,t){return new l(e,t)}function K(e,t,n){for(var r="",i=0;r.length<t;)r+=n(String.fromCharCode.apply(String,e.concat([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i]))),i+=1;return r}function z(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function W(e,t,n){for(var r="",i=0;r.length<t;)r+=n(e+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])),i+=1;return r}function G(e,t){this.x=t,this.q=e}function $(e,t,n,r){this.curve=e,this.x=t,this.y=n,this.z=null==r?l.ONE:r,this.zinv=null}function J(e,t,n){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(n),this.infinity=new $(this,null,null)}U.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=V()},z.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},z.prototype.setPublic=function(e,t){if(this.isPublic=!0,this.isPrivate=!1,"string"!==typeof e)this.n=e,this.e=t;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA public key";this.n=q(e,16),this.e=parseInt(t,16)}},z.prototype.encrypt=function(e){var t=function(e,t){if(t<e.length+11)throw"Message too long for RSA";for(var n=new Array,r=e.length-1;r>=0&&t>0;){var i=e.charCodeAt(r--);i<128?n[--t]=i:i>127&&i<2048?(n[--t]=63&i|128,n[--t]=i>>6|192):(n[--t]=63&i|128,n[--t]=i>>6&63|128,n[--t]=i>>12|224)}n[--t]=0;for(var a=new U,o=new Array;t>2;){for(o[0]=0;0==o[0];)a.nextBytes(o);n[--t]=o[0]}return n[--t]=2,n[--t]=0,new l(n)}(e,this.n.bitLength()+7>>3);if(null==t)return null;var n=this.doPublic(t);if(null==n)return null;var r=n.toString(16);return 0==(1&r.length)?r:"0"+r},z.prototype.encryptOAEP=function(e,t,n){var r=function(e,t,n,r){var i=X.crypto.MessageDigest,a=X.crypto.Util,o=null;if(n||(n="sha1"),"string"===typeof n&&(o=i.getCanonicalAlgName(n),r=i.getHashLength(o),n=function(e){return fe(a.hashHex(de(e),o))}),e.length+2*r+2>t)throw"Message too long for RSA";var s,u="";for(s=0;s<t-e.length-2*r-2;s+=1)u+="\0";var c=n("")+u+"\x01"+e,h=new Array(r);(new U).nextBytes(h);var f=K(h,c.length,n),d=[];for(s=0;s<c.length;s+=1)d[s]=c.charCodeAt(s)^f.charCodeAt(s);var p=K(d,h.length,n),v=[0];for(s=0;s<h.length;s+=1)v[s+1]=h[s]^p.charCodeAt(s);return new l(v.concat(d))}(e,this.n.bitLength()+7>>3,t,n);if(null==r)return null;var i=this.doPublic(r);if(null==i)return null;var a=i.toString(16);return 0==(1&a.length)?a:"0"+a},z.prototype.type="RSA",z.prototype.doPrivate=function(e){if(null==this.p||null==this.q)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),n=e.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(n)<0;)t=t.add(this.p);return t.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)},z.prototype.setPrivate=function(e,t,n){if(this.isPrivate=!0,"string"!==typeof e)this.n=e,this.e=t,this.d=n;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA private key";this.n=q(e,16),this.e=parseInt(t,16),this.d=q(n,16)}},z.prototype.setPrivateEx=function(e,t,n,r,i,a,o,s){if(this.isPrivate=!0,this.isPublic=!1,null==e)throw"RSASetPrivateEx N == null";if(null==t)throw"RSASetPrivateEx E == null";if(0==e.length)throw"RSASetPrivateEx N.length == 0";if(0==t.length)throw"RSASetPrivateEx E.length == 0";if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA private key in RSASetPrivateEx";this.n=q(e,16),this.e=parseInt(t,16),this.d=q(n,16),this.p=q(r,16),this.q=q(i,16),this.dmp1=q(a,16),this.dmq1=q(o,16),this.coeff=q(s,16)},z.prototype.generate=function(e,t){var n=new U,r=e>>1;this.e=parseInt(t,16);for(var i=new l(t,16),a=e/2-100,o=l.ONE.shiftLeft(a);;){for(;this.p=new l(e-r,1,n),0!=this.p.subtract(l.ONE).gcd(i).compareTo(l.ONE)||!this.p.isProbablePrime(10););for(;this.q=new l(r,1,n),0!=this.q.subtract(l.ONE).gcd(i).compareTo(l.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var s=this.p;this.p=this.q,this.q=s}var u=this.q.subtract(this.p).abs();if(!(u.bitLength()<a||u.compareTo(o)<=0)){var c=this.p.subtract(l.ONE),h=this.q.subtract(l.ONE),f=c.multiply(h);if(0==f.gcd(i).compareTo(l.ONE)&&(this.n=this.p.multiply(this.q),this.n.bitLength()==e)){this.d=i.modInverse(f),this.dmp1=this.d.mod(c),this.dmq1=this.d.mod(h),this.coeff=this.q.modInverse(this.p);break}}}this.isPrivate=!0},z.prototype.decrypt=function(e){if(e.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var t=q(e,16),n=this.doPrivate(t);return null==n?null:function(e,t){for(var n=e.toByteArray(),r=0;r<n.length&&0==n[r];)++r;if(n.length-r!=t-1||2!=n[r])return null;for(++r;0!=n[r];)if(++r>=n.length)return null;for(var i="";++r<n.length;){var a=255&n[r];a<128?i+=String.fromCharCode(a):a>191&&a<224?(i+=String.fromCharCode((31&a)<<6|63&n[r+1]),++r):(i+=String.fromCharCode((15&a)<<12|(63&n[r+1])<<6|63&n[r+2]),r+=2)}return i}(n,this.n.bitLength()+7>>3)},z.prototype.decryptOAEP=function(e,t,n){if(e.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var r=q(e,16),i=this.doPrivate(r);return null==i?null:function(e,t,n,r){var i=X.crypto.MessageDigest,a=X.crypto.Util,o=null;for(n||(n="sha1"),"string"===typeof n&&(o=i.getCanonicalAlgName(n),r=i.getHashLength(o),n=function(e){return fe(a.hashHex(de(e),o))}),e=e.toByteArray(),s=0;s<e.length;s+=1)e[s]&=255;for(;e.length<t;)e.unshift(0);if((e=String.fromCharCode.apply(String,e)).length<2*r+2)throw"Cipher too short";var s,u=e.substr(1,r),c=e.substr(r+1),l=W(c,r,n),h=[];for(s=0;s<u.length;s+=1)h[s]=u.charCodeAt(s)^l.charCodeAt(s);var f=W(String.fromCharCode.apply(String,h),e.length-r,n),d=[];for(s=0;s<c.length;s+=1)d[s]=c.charCodeAt(s)^f.charCodeAt(s);if((d=String.fromCharCode.apply(String,d)).substr(0,r)!==n(""))throw"Hash mismatch";var p=(d=d.substr(r)).indexOf("\x01");if((-1!=p?d.substr(0,p).lastIndexOf("\0"):-1)+1!=p)throw"Malformed data";return d.substr(p+1)}(i,this.n.bitLength()+7>>3,t,n)},G.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.x.equals(e.x)},G.prototype.toBigInteger=function(){return this.x},G.prototype.negate=function(){return new G(this.q,this.x.negate().mod(this.q))},G.prototype.add=function(e){return new G(this.q,this.x.add(e.toBigInteger()).mod(this.q))},G.prototype.subtract=function(e){return new G(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))},G.prototype.multiply=function(e){return new G(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))},G.prototype.square=function(){return new G(this.q,this.x.square().mod(this.q))},G.prototype.divide=function(e){return new G(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))},G.prototype.sqrt=function(){return new G(this.q,this.x.sqrt().mod(this.q))},$.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},$.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},$.prototype.equals=function(e){return e==this||(this.isInfinity()?e.isInfinity():e.isInfinity()?this.isInfinity():!!e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(l.ZERO)&&e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(l.ZERO))},$.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(l.ZERO)&&!this.y.toBigInteger().equals(l.ZERO)},$.prototype.negate=function(){return new $(this.curve,this.x,this.y.negate(),this.z)},$.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),n=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(l.ZERO.equals(n))return l.ZERO.equals(t)?this.twice():this.curve.getInfinity();var r=new l("3"),i=this.x.toBigInteger(),a=this.y.toBigInteger(),o=(e.x.toBigInteger(),e.y.toBigInteger(),n.square()),s=o.multiply(n),u=i.multiply(o),c=t.square().multiply(this.z),h=c.subtract(u.shiftLeft(1)).multiply(e.z).subtract(s).multiply(n).mod(this.curve.q),f=u.multiply(r).multiply(t).subtract(a.multiply(s)).subtract(c.multiply(t)).multiply(e.z).add(t.multiply(s)).mod(this.curve.q),d=s.multiply(this.z).multiply(e.z).mod(this.curve.q);return new $(this.curve,this.curve.fromBigInteger(h),this.curve.fromBigInteger(f),d)},$.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=new l("3"),t=this.x.toBigInteger(),n=this.y.toBigInteger(),r=n.multiply(this.z),i=r.multiply(n).mod(this.curve.q),a=this.curve.a.toBigInteger(),o=t.square().multiply(e);l.ZERO.equals(a)||(o=o.add(this.z.square().multiply(a)));var s=(o=o.mod(this.curve.q)).square().subtract(t.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(r).mod(this.curve.q),u=o.multiply(e).multiply(t).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(o.square().multiply(o)).mod(this.curve.q),c=r.square().multiply(r).shiftLeft(3).mod(this.curve.q);return new $(this.curve,this.curve.fromBigInteger(s),this.curve.fromBigInteger(u),c)},$.prototype.multiply=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,r=n.multiply(new l("3")),i=this.negate(),a=this,o=this.curve.q.subtract(e),s=o.multiply(new l("3")),u=new $(this.curve,this.x,this.y),c=u.negate();for(t=r.bitLength()-2;t>0;--t){a=a.twice();var h=r.testBit(t);h!=n.testBit(t)&&(a=a.add(h?this:i))}for(t=s.bitLength()-2;t>0;--t){u=u.twice();var f=s.testBit(t);f!=o.testBit(t)&&(u=u.add(f?u:c))}return a},$.prototype.multiplyTwo=function(e,t,n){var r;r=e.bitLength()>n.bitLength()?e.bitLength()-1:n.bitLength()-1;for(var i=this.curve.getInfinity(),a=this.add(t);r>=0;)i=i.twice(),e.testBit(r)?i=n.testBit(r)?i.add(a):i.add(this):n.testBit(r)&&(i=i.add(t)),--r;return i},J.prototype.getQ=function(){return this.q},J.prototype.getA=function(){return this.a},J.prototype.getB=function(){return this.b},J.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)},J.prototype.getInfinity=function(){return this.infinity},J.prototype.fromBigInteger=function(e){return new G(this.q,e)},J.prototype.decodePointHex=function(e){switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:var t=e.substr(0,2),n=(e.substr(2),this.fromBigInteger(new l(s,16))),r=this.getA(),i=this.getB(),a=n.square().add(r).multiply(n).add(i).sqrt();return"03"==t&&(a=a.negate()),new $(this,n,a);case 4:case 6:case 7:var o=(e.length-2)/2,s=e.substr(2,o),u=e.substr(o+2,o);return new $(this,this.fromBigInteger(new l(s,16)),this.fromBigInteger(new l(u,16)));default:return null}},G.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},$.prototype.getEncoded=function(e){var t=function(e,t){var n=e.toByteArrayUnsigned();if(t<n.length)n=n.slice(n.length-t);else for(;t>n.length;)n.unshift(0);return n},n=this.getX().toBigInteger(),r=this.getY().toBigInteger(),i=t(n,32);return e?r.isEven()?i.unshift(2):i.unshift(3):(i.unshift(4),i=i.concat(t(r,32))),i},$.decodeFrom=function(e,t){t[0];var n=t.length-1,r=t.slice(1,1+n/2),i=t.slice(1+n/2,1+n);r.unshift(0),i.unshift(0);var a=new l(r),o=new l(i);return new $(e,e.fromBigInteger(a),e.fromBigInteger(o))},$.decodeFromHex=function(e,t){t.substr(0,2);var n=t.length-2,r=t.substr(2,n/2),i=t.substr(2+n/2,n/2),a=new l(r,16),o=new l(i,16);return new $(e,e.fromBigInteger(a),e.fromBigInteger(o))},$.prototype.add2D=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.x.equals(e.x))return this.y.equals(e.y)?this.twice():this.curve.getInfinity();var t=e.x.subtract(this.x),n=e.y.subtract(this.y).divide(t),r=n.square().subtract(this.x).subtract(e.x),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new $(this.curve,r,i)},$.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=this.curve.fromBigInteger(l.valueOf(2)),t=this.curve.fromBigInteger(l.valueOf(3)),n=this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e)),r=n.square().subtract(this.x.multiply(e)),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new $(this.curve,r,i)},$.prototype.multiply2D=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,r=n.multiply(new l("3")),i=this.negate(),a=this;for(t=r.bitLength()-2;t>0;--t){a=a.twice();var o=r.testBit(t);o!=n.testBit(t)&&(a=a.add2D(o?this:i))}return a},$.prototype.isOnCurve=function(){var e=this.getX().toBigInteger(),t=this.getY().toBigInteger(),n=this.curve.getA().toBigInteger(),r=this.curve.getB().toBigInteger(),i=this.curve.getQ(),a=t.multiply(t).mod(i),o=e.multiply(e).multiply(e).add(n.multiply(e)).add(r).mod(i);return a.equals(o)},$.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},$.prototype.validate=function(){var e=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var t=this.getX().toBigInteger(),n=this.getY().toBigInteger();if(t.compareTo(l.ONE)<0||t.compareTo(e.subtract(l.ONE))>0)throw new Error("x coordinate out of bounds");if(n.compareTo(l.ONE)<0||n.compareTo(e.subtract(l.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(e).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var Y=function(){var e=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),t=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),n={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function r(e,t,r){return t?n[t]:String.fromCharCode(parseInt(r,16))}var i=new String(""),a=Object.hasOwnProperty;return function(n,o){var s,u,c=n.match(e),l=c[0],h=!1;"{"===l?s={}:"["===l?s=[]:(s=[],h=!0);for(var f=[s],d=1-h,p=c.length;d<p;++d){var v;switch((l=c[d]).charCodeAt(0)){default:(v=f[0])[u||v.length]=+l,u=void 0;break;case 34:if(-1!==(l=l.substring(1,l.length-1)).indexOf("\\")&&(l=l.replace(t,r)),v=f[0],!u){if(!(v instanceof Array)){u=l||i;break}u=v.length}v[u]=l,u=void 0;break;case 91:v=f[0],f.unshift(v[u||v.length]=[]),u=void 0;break;case 93:case 125:f.shift();break;case 102:(v=f[0])[u||v.length]=!1,u=void 0;break;case 110:(v=f[0])[u||v.length]=null,u=void 0;break;case 116:(v=f[0])[u||v.length]=!0,u=void 0;break;case 123:v=f[0],f.unshift(v[u||v.length]={}),u=void 0}}if(h){if(1!==f.length)throw new Error;s=s[0]}else if(f.length)throw new Error;if(o){s=function e(t,n){var r=t[n];if(r&&"object"===typeof r){var i=null;for(var s in r)if(a.call(r,s)&&r!==t){var u=e(r,s);void 0!==u?r[s]=u:(i||(i=[]),i.push(s))}if(i)for(var c=i.length;--c>=0;)delete r[i[c]]}return o.call(t,n,r)}({"":s},"")}return s}}();"undefined"!=typeof X&&X||(X={}),"undefined"!=typeof X.asn1&&X.asn1||(X.asn1={}),X.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var n=t.substr(1).length;n%2==1?n+=1:t.match(/^[0-7]/)||(n+=2);for(var r="",i=0;i<n;i++)r+="f";t=new l(r,16).xor(e).add(l.ONE).toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return ye(e,t)},this.newObject=function(e){var t=X.asn1,n=t.ASN1Object,r=t.DERBoolean,i=t.DERInteger,a=t.DERBitString,o=t.DEROctetString,s=t.DERNull,u=t.DERObjectIdentifier,c=t.DEREnumerated,l=t.DERUTF8String,h=t.DERNumericString,f=t.DERPrintableString,d=t.DERTeletexString,p=t.DERIA5String,v=t.DERUTCTime,g=t.DERGeneralizedTime,y=t.DERVisibleString,m=t.DERBMPString,b=t.DERSequence,w=t.DERSet,x=t.DERTaggedObject,_=t.ASN1Util.newObject;if(e instanceof t.ASN1Object)return e;var S=Object.keys(e);if(1!=S.length)throw new Error("key of param shall be only one.");var E=S[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+E+":"))throw new Error("undefined key: "+E);if("bool"==E)return new r(e[E]);if("int"==E)return new i(e[E]);if("bitstr"==E)return new a(e[E]);if("octstr"==E)return new o(e[E]);if("null"==E)return new s(e[E]);if("oid"==E)return new u(e[E]);if("enum"==E)return new c(e[E]);if("utf8str"==E)return new l(e[E]);if("numstr"==E)return new h(e[E]);if("prnstr"==E)return new f(e[E]);if("telstr"==E)return new d(e[E]);if("ia5str"==E)return new p(e[E]);if("utctime"==E)return new v(e[E]);if("gentime"==E)return new g(e[E]);if("visstr"==E)return new y(e[E]);if("bmpstr"==E)return new m(e[E]);if("asn1"==E)return new n(e[E]);if("seq"==E){for(var k=e[E],C=[],A=0;A<k.length;A++){var P=_(k[A]);C.push(P)}return new b({array:C})}if("set"==E){for(k=e[E],C=[],A=0;A<k.length;A++){P=_(k[A]);C.push(P)}return new w({array:C})}if("tag"==E){var I=e[E];if("[object Array]"===Object.prototype.toString.call(I)&&3==I.length){var T=_(I[2]);return new x({tag:I[0],explicit:I[1],obj:T})}return new x(I)}},this.jsonToASN1HEX=function(e){return this.newObject(e).tohex()}},X.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",n=parseInt(e.substr(0,2),16),r=(t=Math.floor(n/40)+"."+n%40,""),i=2;i<e.length;i+=2){var a=("00000000"+parseInt(e.substr(i,2),16).toString(2)).slice(-8);if(r+=a.substr(1,7),"0"==a.substr(0,1))t=t+"."+new l(r,2).toString(10),r=""}return t},X.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",r=new l(e,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var a="",o=0;o<i;o++)a+="0";r=a+r;for(o=0;o<r.length-1;o+=7){var s=r.substr(o,7);o!=r.length-7&&(s="1"+s),n+=t(parseInt(s,2))}return n};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var r="",i=e.split("."),a=40*parseInt(i[0])+parseInt(i[1]);r+=t(a),i.splice(0,2);for(var o=0;o<i.length;o++)r+=n(i[o]);return r},X.asn1.ASN1Object=function(e){this.params=null,this.getLengthHexFromValue=function(){if("undefined"==typeof this.hV||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n="+"".length+",v="+this.hV);var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var n=t.length/2;if(n>15)throw new Error("ASN.1 length too long to represent by 8x: n = "+e.toString(16));return(128+n).toString(16)+t},this.tohex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.getValueHex=function(){return this.tohex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(e){this.params=e},void 0!=e&&void 0!=e.tlv&&(this.hTLV=e.tlv,this.isModified=!1)},X.asn1.DERAbstractString=function(e){X.asn1.DERAbstractString.superclass.constructor.call(this);this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=ce(this.s).toLowerCase()},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof e&&("string"==typeof e?this.setString(e):"undefined"!=typeof e.str?this.setString(e.str):"undefined"!=typeof e.hex&&this.setStringHex(e.hex))},Ve(X.asn1.DERAbstractString,X.asn1.ASN1Object),X.asn1.DERAbstractTime=function(e){X.asn1.DERAbstractTime.superclass.constructor.call(this);this.localDateToUTC=function(e){var t=e.getTime()+6e4*e.getTimezoneOffset();return new Date(t)},this.formatDate=function(e,t,n){var r=this.zeroPadding,i=this.localDateToUTC(e),a=String(i.getFullYear());"utc"==t&&(a=a.substr(2,2));var o=a+r(String(i.getMonth()+1),2)+r(String(i.getDate()),2)+r(String(i.getHours()),2)+r(String(i.getMinutes()),2)+r(String(i.getSeconds()),2);if(!0===n){var s=i.getMilliseconds();if(0!=s){var u=r(String(s),3);o=o+"."+(u=u.replace(/[0]+$/,""))}}return o+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.setByParam=function(e){this.hV=null,this.hTLV=null,this.params=e},this.getString=function(){},this.setString=function(e){this.hTLV=null,this.isModified=!0,void 0==this.params&&(this.params={}),this.params.str=e},this.setByDate=function(e){this.hTLV=null,this.isModified=!0,void 0==this.params&&(this.params={}),this.params.date=e},this.setByDateValue=function(e,t,n,r,i,a){var o=new Date(Date.UTC(e,t-1,n,r,i,a,0));this.setByDate(o)},this.getFreshValueHex=function(){return this.hV}},Ve(X.asn1.DERAbstractTime,X.asn1.ASN1Object),X.asn1.DERAbstractStructured=function(e){X.asn1.DERAbstractString.superclass.constructor.call(this);this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,"undefined"!=typeof e&&"undefined"!=typeof e.array&&(this.asn1Array=e.array)},Ve(X.asn1.DERAbstractStructured,X.asn1.ASN1Object),X.asn1.DERBoolean=function(e){X.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==e?"010100":"0101ff"},Ve(X.asn1.DERBoolean,X.asn1.ASN1Object),X.asn1.DERInteger=function(e){X.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=X.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new l(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof e&&("undefined"!=typeof e.bigint?this.setByBigInteger(e.bigint):"undefined"!=typeof e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):"undefined"!=typeof e.hex&&this.setValueHex(e.hex))},Ve(X.asn1.DERInteger,X.asn1.ASN1Object),X.asn1.DERBitString=function(e){if(void 0!==e&&"undefined"!==typeof e.obj){var t=X.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.tohex()}X.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var n="0"+e;this.hTLV=null,this.isModified=!0,this.hV=n+t},this.setByBinaryString=function(e){var t=8-(e=e.replace(/0+$/,"")).length%8;8==t&&(t=0),e+="0000000".substr(0,t);for(var n="",r=0;r<e.length-1;r+=8){var i=e.substr(r,8),a=parseInt(i,2).toString(16);1==a.length&&(a="0"+a),n+=a}this.hTLV=null,this.isModified=!0,this.hV="0"+t+n},this.setByBooleanArray=function(e){for(var t="",n=0;n<e.length;n++)1==e[n]?t+="1":t+="0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=!1;return t},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):"undefined"!=typeof e.hex?this.setHexValueIncludingUnusedBits(e.hex):"undefined"!=typeof e.bin?this.setByBinaryString(e.bin):"undefined"!=typeof e.array&&this.setByBooleanArray(e.array))},Ve(X.asn1.DERBitString,X.asn1.ASN1Object),X.asn1.DEROctetString=function(e){if(void 0!==e&&"undefined"!==typeof e.obj){var t=X.asn1.ASN1Util.newObject(e.obj);e.hex=t.tohex()}X.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},Ve(X.asn1.DEROctetString,X.asn1.DERAbstractString),X.asn1.DERNull=function(){X.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},Ve(X.asn1.DERNull,X.asn1.ASN1Object),X.asn1.DERObjectIdentifier=function(e){X.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){var t=Ne(e);if(null==t)throw new Error("malformed oid string: "+e);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueName=function(e){var t=X.asn1.x509.OID.name2oid(e);if(""===t)throw new Error("DERObjectIdentifier oidName undefined: "+e);this.setValueOidString(t)},this.setValueNameOrOid=function(e){e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(e){"string"===typeof e?this.setValueNameOrOid(e):void 0!==e.oid?this.setValueNameOrOid(e.oid):void 0!==e.name?this.setValueNameOrOid(e.name):void 0!==e.hex&&this.setValueHex(e.hex)},void 0!==e&&this.setByParam(e)},Ve(X.asn1.DERObjectIdentifier,X.asn1.ASN1Object),X.asn1.DEREnumerated=function(e){X.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=X.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new l(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof e&&("undefined"!=typeof e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):"undefined"!=typeof e.hex&&this.setValueHex(e.hex))},Ve(X.asn1.DEREnumerated,X.asn1.ASN1Object),X.asn1.DERUTF8String=function(e){X.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},Ve(X.asn1.DERUTF8String,X.asn1.DERAbstractString),X.asn1.DERNumericString=function(e){X.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},Ve(X.asn1.DERNumericString,X.asn1.DERAbstractString),X.asn1.DERPrintableString=function(e){X.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},Ve(X.asn1.DERPrintableString,X.asn1.DERAbstractString),X.asn1.DERTeletexString=function(e){X.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},Ve(X.asn1.DERTeletexString,X.asn1.DERAbstractString),X.asn1.DERIA5String=function(e){X.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},Ve(X.asn1.DERIA5String,X.asn1.DERAbstractString),X.asn1.DERVisibleString=function(e){X.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="1a"},Ve(X.asn1.DERVisibleString,X.asn1.DERAbstractString),X.asn1.DERBMPString=function(e){X.asn1.DERBMPString.superclass.constructor.call(this,e),this.hT="1e"},Ve(X.asn1.DERBMPString,X.asn1.DERAbstractString),X.asn1.DERUTCTime=function(e){X.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.params=void 0,this.getFreshValueHex=function(){var e=this.params;if(void 0==this.params&&(e={date:new Date}),"string"==typeof e){if(!e.match(/^[0-9]{12}Z$/)&&!e.match(/^[0-9]{12}\.[0-9]+Z$/))throw new Error("malformed string for UTCTime: "+e);this.hV=ie(e)}else if(void 0!=e.str)this.hV=ie(e.str);else if(void 0==e.date&&1==e.millis){var t=new Date;this.hV=ie(this.formatDate(t,"utc",!0))}else if(void 0!=e.date&&e.date instanceof Date){var n=!0===e.millis;this.hV=ie(this.formatDate(e.date,"utc",n))}else e instanceof Date&&(this.hV=ie(this.formatDate(e,"utc")));if(void 0==this.hV)throw new Error("parameter not specified properly for UTCTime");return this.hV},void 0!=e&&this.setByParam(e)},Ve(X.asn1.DERUTCTime,X.asn1.DERAbstractTime),X.asn1.DERGeneralizedTime=function(e){X.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.params=e,this.getFreshValueHex=function(){var e=this.params;if(void 0==this.params&&(e={date:new Date}),"string"==typeof e){if(!e.match(/^[0-9]{14}Z$/)&&!e.match(/^[0-9]{14}\.[0-9]+Z$/))throw new Error("malformed string for GeneralizedTime: "+e);this.hV=ie(e)}else if(void 0!=e.str)this.hV=ie(e.str);else if(void 0==e.date&&1==e.millis){var t=new Date;this.hV=ie(this.formatDate(t,"gen",!0))}else if(void 0!=e.date&&e.date instanceof Date){var n=!0===e.millis;this.hV=ie(this.formatDate(e.date,"gen",n))}else e instanceof Date&&(this.hV=ie(this.formatDate(e,"gen")));if(void 0==this.hV)throw new Error("parameter not specified properly for GeneralizedTime");return this.hV},void 0!=e&&this.setByParam(e)},Ve(X.asn1.DERGeneralizedTime,X.asn1.DERAbstractTime),X.asn1.DERSequence=function(e){X.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++){e+=this.asn1Array[t].tohex()}return this.hV=e,this.hV}},Ve(X.asn1.DERSequence,X.asn1.DERAbstractStructured),X.asn1.DERSet=function(e){X.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++){var n=this.asn1Array[t];e.push(n.tohex())}return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},"undefined"!=typeof e&&"undefined"!=typeof e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},Ve(X.asn1.DERSet,X.asn1.DERAbstractStructured),X.asn1.DERTaggedObject=function(e){X.asn1.DERTaggedObject.superclass.constructor.call(this);var t=X.asn1,n=ee,r=n.getV,i=(n.isASN1HEX,t.ASN1Util.newObject);this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.params={tag:"a0",explicit:!0},this.setASN1Object=function(e,t,n){this.params={tag:t,explicit:e,obj:n}},this.getFreshValueHex=function(){var e=this.params;if(void 0==e.explicit&&(e.explicit=!0),void 0!=e.tage&&(e.tag=e.tage,e.explicit=!0),void 0!=e.tagi&&(e.tag=e.tagi,e.explicit=!1),void 0!=e.str)this.hV=ce(e.str);else if(void 0!=e.hex)this.hV=e.hex;else{if(void 0==e.obj)throw new Error("str, hex nor obj not specified");var n;e.obj instanceof t.ASN1Object?n=e.obj.tohex():"object"==typeof e.obj&&(n=i(e.obj).tohex()),e.explicit?this.hV=n:this.hV=r(n,0)}return void 0==e.tag&&(e.tag="a0"),this.hT=e.tag,this.hTLV=null,this.isModified=!0,this.hV},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},Ve(X.asn1.DERTaggedObject,X.asn1.ASN1Object);var X,Q,Z,ee=new function(){};function te(e){for(var t=new Array,n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function ne(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}function re(e){for(var t="",n=0;n<e.length;n++){var r=e[n].toString(16);1==r.length&&(r="0"+r),t+=r}return t}function ie(e){return re(te(e))}function ae(e){return e=(e=(e=e.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function oe(e){return e.length%4==2?e+="==":e.length%4==3&&(e+="="),e=(e=e.replace(/-/g,"+")).replace(/_/g,"/")}function se(e){return e.length%2==1&&(e="0"+e),ae(s(e))}function ue(e){return u(oe(e))}function ce(e){return xe(Te(e)).toLowerCase()}function le(e){try{return decodeURIComponent(_e(e))}catch(t){return null}}function he(e){return le(function(e){for(var t=e.match(/.{1,2}/g),n=[],r=0;r<t.length;r++){var i=parseInt(t[r],16);161<=i&&i<=191?(n.push("c2"),n.push(t[r])):192<=i&&i<=255?(n.push("c3"),n.push((i-64).toString(16))):n.push(t[r])}return n.join("")}(e))}function fe(e){for(var t="",n=0;n<e.length-1;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t}function de(e){for(var t="",n=0;n<e.length;n++)t+=("0"+e.charCodeAt(n).toString(16)).slice(-2);return t}function pe(e){return s(e)}function ve(e){var t=pe(e).replace(/(.{64})/g,"$1\r\n");return t=t.replace(/\r\n$/,"")}function ge(e){return u(e.replace(/[^0-9A-Za-z\/+=]*/g,""))}function ye(e,t){return"-----BEGIN "+t+"-----\r\n"+ve(e)+"\r\n-----END "+t+"-----\r\n"}function me(e,t){if(-1==e.indexOf("-----BEGIN "))throw"can't find PEM header: "+t;return ge(e=void 0!==t?(e=e.replace(new RegExp("^[^]*-----BEGIN "+t+"-----"),"")).replace(new RegExp("-----END "+t+"-----[^]*$"),""):(e=e.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function be(e){var t,n,r,i,a,o,s,u,c,l,h;if(h=e.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return u=h[1],t=parseInt(u),2===u.length&&(50<=t&&t<100?t=1900+t:0<=t&&t<50&&(t=2e3+t)),n=parseInt(h[2])-1,r=parseInt(h[3]),i=parseInt(h[4]),a=parseInt(h[5]),o=parseInt(h[6]),s=0,""!==(c=h[7])&&(l=(c.substr(1)+"00").substr(0,3),s=parseInt(l)),Date.UTC(t,n,r,i,a,o,s);throw new Error("unsupported zulu format: "+e)}function we(e){return Math.round(be(e)/1e3)}function xe(e){return e.replace(/%/g,"")}function _e(e){return e.replace(/(..)/g,"%$1")}function Se(e){var t="malformed IPv6 address";if(!e.match(/^[0-9A-Fa-f:]+$/))throw t;var n=(e=e.toLowerCase()).split(":").length-1;if(n<2)throw t;var r=":".repeat(7-n+2),i=(e=e.replace("::",r)).split(":");if(8!=i.length)throw t;for(var a=0;a<8;a++)i[a]=("0000"+i[a]).slice(-4);return i.join("")}function Ee(e){if(!e.match(/^[0-9A-Fa-f]{32}$/))throw new Error("malformed IPv6 address: "+e);var t=(e=e.toLowerCase()).match(/.{1,4}/g),n=(e=":"+(t=(t=t.map((function(e){return e.replace(/^0+/,"")}))).map((function(e){return""==e?"0":e}))).join(":")+":").match(/:(0:){2,}/g);if(null==n)return e.slice(1,-1);var r=n.sort().slice(-1)[0];return"::"!=(e=e.replace(r.substr(0,r.length-1),":")).substr(0,2)&&(e=e.substr(1)),"::"!=e.substr(-2,2)&&(e=e.substr(0,e.length-1)),e}function ke(e){var t=new Error("malformed hex value");if(!e.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw t;if(8==e.length){try{return parseInt(e.substr(0,2),16)+"."+parseInt(e.substr(2,2),16)+"."+parseInt(e.substr(4,2),16)+"."+parseInt(e.substr(6,2),16)}catch(n){throw t}}else{if(16!=e.length){if(32==e.length)return Ee(e);if(64==e.length){try{return Ee(e.substr(0,32))+"/"+Ce(e.substr(32))}catch(n){throw t}return}return e}try{return ke(e.substr(0,8))+"/"+Ce(e.substr(8))}catch(n){throw t}}}function Ce(e){var t,n=new Error("malformed mask");try{t=new l(e,16).toString(2)}catch(r){throw n}if(!t.match(/^1*0*$/))throw n;return t.replace(/0+$/,"").length}function Ae(e){var t=new Error("malformed IP address");if(!(e=e.toLowerCase(e)).match(/^[0-9a-f.:/]+$/))throw t;if(!e.match(/^[0-9.]+$/)){var n;if(e.match(/^[0-9.]+\/[0-9]+$/))return Ae((n=e.split("/"))[0])+Pe(parseInt(n[1]),32);if(e.match(/^[0-9a-f:]+$/)&&-1!==e.indexOf(":"))return Se(e);if(e.match(/^[0-9a-f:]+\/[0-9]+$/)&&-1!==e.indexOf(":"))return Se((n=e.split("/"))[0])+Pe(parseInt(n[1]),128);throw t}var r=e.split(".");if(4!==r.length)throw t;var i="";try{for(var a=0;a<4;a++){i+=("0"+parseInt(r[a]).toString(16)).slice(-2)}return i}catch(o){throw t}}function Pe(e,t){return 32==t&&0==e?"00000000":128==t&&0==e?"00000000000000000000000000000000":new l(Array(e+1).join("1")+Array(t-e+1).join("0"),2).toString(16)}function Ie(e){return e.match(/.{4}/g).map((function(e){var t=parseInt(e.substr(0,2),16),n=parseInt(e.substr(2),16);if(0==t&n<128)return String.fromCharCode(n);if(t<8){var r=128|63&n;return le((192|(7&t)<<3|(192&n)>>6).toString(16)+r.toString(16))}r=128|(15&t)<<2|(192&n)>>6;var i=128|63&n;return le((224|(240&t)>>4).toString(16)+r.toString(16)+i.toString(16))})).join("")}function Te(e){for(var t=encodeURIComponent(e),n="",r=0;r<t.length;r++)"%"==t[r]?(n+=t.substr(r,3),r+=2):n=n+"%"+ie(t[r]);return n}function Fe(e){return!(e.length%2!=0||!e.match(/^[0-9a-f]+$/)&&!e.match(/^[0-9A-F]+$/))}function Re(e){return!!e.match(/^[0-9A-Za-z-_.]+$/)}function Oe(e){return e.length%2==1?"0"+e:e.substr(0,1)>"7"?"00"+e:e}ee.getLblen=function(e,t){if("8"!=e.substr(t+2,1))return 1;var n=parseInt(e.substr(t+3,1));return 0==n?-1:0<n&&n<10?n+1:-2},ee.getL=function(e,t){var n=ee.getLblen(e,t);return n<1?"":e.substr(t+2,2*n)},ee.getVblen=function(e,t){var n;return""==(n=ee.getL(e,t))?-1:("8"===n.substr(0,1)?new l(n.substr(2),16):new l(n,16)).intValue()},ee.getVidx=function(e,t){var n=ee.getLblen(e,t);return n<0?n:t+2*(n+1)},ee.getV=function(e,t){var n=ee.getVidx(e,t),r=ee.getVblen(e,t);return e.substr(n,2*r)},ee.getTLV=function(e,t){return e.substr(t,2)+ee.getL(e,t)+ee.getV(e,t)},ee.getTLVblen=function(e,t){return 2+2*ee.getLblen(e,t)+2*ee.getVblen(e,t)},ee.getNextSiblingIdx=function(e,t){return ee.getVidx(e,t)+2*ee.getVblen(e,t)},ee.getChildIdx=function(e,t){var n,r,i,a=ee,o=[];n=a.getVidx(e,t),r=2*a.getVblen(e,t),"03"==e.substr(t,2)&&(n+=2,r-=2),i=0;for(var s=n;i<=r;){var u=a.getTLVblen(e,s);if((i+=u)<=r&&o.push(s),s+=u,i>=r)break}return o},ee.getNthChildIdx=function(e,t,n){return ee.getChildIdx(e,t)[n]},ee.getIdxbyList=function(e,t,n,r){var i,a,o=ee;return 0==n.length?void 0!==r&&e.substr(t,2)!==r?-1:t:(i=n.shift())>=(a=o.getChildIdx(e,t)).length?-1:o.getIdxbyList(e,a[i],n,r)},ee.getIdxbyListEx=function(e,t,n,r){var i,a,o=ee;if(0==n.length)return void 0!==r&&e.substr(t,2)!==r?-1:t;i=n.shift(),a=o.getChildIdx(e,t);for(var s=0,u=0;u<a.length;u++){var c=e.substr(a[u],2);if("number"==typeof i&&!o.isContextTag(c)&&s==i||"string"==typeof i&&o.isContextTag(c,i))return o.getIdxbyListEx(e,a[u],n,r);o.isContextTag(c)||s++}return-1},ee.getTLVbyList=function(e,t,n,r){var i=ee,a=i.getIdxbyList(e,t,n,r);return-1==a||a>=e.length?null:i.getTLV(e,a)},ee.getTLVbyListEx=function(e,t,n,r){var i=ee,a=i.getIdxbyListEx(e,t,n,r);return-1==a?null:i.getTLV(e,a)},ee.getVbyList=function(e,t,n,r,i){var a,o,s=ee;return-1==(a=s.getIdxbyList(e,t,n,r))||a>=e.length?null:(o=s.getV(e,a),!0===i&&(o=o.substr(2)),o)},ee.getVbyListEx=function(e,t,n,r,i){var a,o,s=ee;return-1==(a=s.getIdxbyListEx(e,t,n,r))?null:(o=s.getV(e,a),"03"==e.substr(a,2)&&!1!==i&&(o=o.substr(2)),o)},ee.getInt=function(e,t,n){void 0==n&&(n=-1);try{var r=e.substr(t,2);if("02"!=r&&"03"!=r)return n;var i=ee.getV(e,t);return"02"==r?parseInt(i,16):Le(i)}catch(a){return n}},ee.getOID=function(e,t,n){void 0==n&&(n=null);try{return"06"!=e.substr(t,2)?n:De(ee.getV(e,t))}catch(r){return n}},ee.getOIDName=function(e,t,n){void 0==n&&(n=null);try{var r=ee.getOID(e,t,n);if(r==n)return n;var i=X.asn1.x509.OID.oid2name(r);return""==i?r:i}catch(a){return n}},ee.getString=function(e,t,n){void 0==n&&(n=null);try{return fe(ee.getV(e,t))}catch(r){return n}},ee.hextooidstr=function(e){var t=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},n=[],r=e.substr(0,2),i=parseInt(r,16);n[0]=new String(Math.floor(i/40)),n[1]=new String(i%40);for(var a=e.substr(2),o=[],s=0;s<a.length/2;s++)o.push(parseInt(a.substr(2*s,2),16));var u=[],c="";for(s=0;s<o.length;s++)128&o[s]?c+=t((127&o[s]).toString(2),7):(c+=t((127&o[s]).toString(2),7),u.push(new String(parseInt(c,2))),c="");var l=n.join(".");return u.length>0&&(l=l+"."+u.join(".")),l},ee.dump=function(e,t,n,r){var i=ee,a=i.getV,o=i.dump,s=i.getChildIdx,u=e;e instanceof X.asn1.ASN1Object&&(u=e.tohex());var c=function(e,t){return e.length<=2*t?e:e.substr(0,t)+"..(total "+e.length/2+"bytes).."+e.substr(e.length-t,t)};void 0===t&&(t={ommit_long_octet:32}),void 0===n&&(n=0),void 0===r&&(r="");var l,h=t.ommit_long_octet;if("01"==(l=u.substr(n,2)))return"00"==(f=a(u,n))?r+"BOOLEAN FALSE\n":r+"BOOLEAN TRUE\n";if("02"==l)return r+"INTEGER "+c(f=a(u,n),h)+"\n";if("03"==l){var f=a(u,n);if(i.isASN1HEX(f.substr(2))){var d=r+"BITSTRING, encapsulates\n";return d+=o(f.substr(2),t,0,r+"  ")}return r+"BITSTRING "+c(f,h)+"\n"}if("04"==l){f=a(u,n);if(i.isASN1HEX(f)){d=r+"OCTETSTRING, encapsulates\n";return d+=o(f,t,0,r+"  ")}return r+"OCTETSTRING "+c(f,h)+"\n"}if("05"==l)return r+"NULL\n";if("06"==l){var p=a(u,n),v=X.asn1.ASN1Util.oidHexToInt(p),g=X.asn1.x509.OID.oid2name(v),y=v.replace(/\./g," ");return""!=g?r+"ObjectIdentifier "+g+" ("+y+")\n":r+"ObjectIdentifier ("+y+")\n"}if("0a"==l)return r+"ENUMERATED "+parseInt(a(u,n))+"\n";if("0c"==l)return r+"UTF8String '"+le(a(u,n))+"'\n";if("13"==l)return r+"PrintableString '"+le(a(u,n))+"'\n";if("14"==l)return r+"TeletexString '"+le(a(u,n))+"'\n";if("16"==l)return r+"IA5String '"+le(a(u,n))+"'\n";if("17"==l)return r+"UTCTime "+le(a(u,n))+"\n";if("18"==l)return r+"GeneralizedTime "+le(a(u,n))+"\n";if("1a"==l)return r+"VisualString '"+le(a(u,n))+"'\n";if("1e"==l)return r+"BMPString '"+Ie(a(u,n))+"'\n";if("30"==l){if("3000"==u.substr(n,4))return r+"SEQUENCE {}\n";d=r+"SEQUENCE\n";var m=t;if((2==(x=s(u,n)).length||3==x.length)&&"06"==u.substr(x[0],2)&&"04"==u.substr(x[x.length-1],2)){g=i.oidname(a(u,x[0]));var b=JSON.parse(JSON.stringify(t));b.x509ExtName=g,m=b}for(var w=0;w<x.length;w++)d+=o(u,m,x[w],r+"  ");return d}if("31"==l){d=r+"SET\n";var x=s(u,n);for(w=0;w<x.length;w++)d+=o(u,t,x[w],r+"  ");return d}if(0!=(128&(l=parseInt(l,16)))){var _=31&l;if(0!=(32&l)){for(d=r+"["+_+"]\n",x=s(u,n),w=0;w<x.length;w++)d+=o(u,t,x[w],r+"  ");return d}f=a(u,n);if(ee.isASN1HEX(f)){var d=r+"["+_+"]\n";return d+=o(f,t,0,r+"  ")}return("68747470"==f.substr(0,8)||"subjectAltName"===t.x509ExtName&&2==_)&&(f=le(f)),d=r+"["+_+"] "+f+"\n"}return r+"UNKNOWN("+l+") "+a(u,n)+"\n"},ee.parse=function(e){var t=ee,n=t.parse,r=t.isASN1HEX,i=t.getV,a=t.getTLV,o=t.getChildIdx,s=X.asn1,u=s.ASN1Util.oidHexToInt,c=s.x509.OID.oid2name,l=le,h=Ie,f=he,d={"0c":"utf8str",12:"numstr",13:"prnstr",14:"telstr",16:"ia5str",17:"utctime",18:"gentime","1a":"visstr","1e":"bmpstr",30:"seq",31:"set"},p=e.substr(0,2),v={},g=i(e,0);if("01"==p)return"0101ff"==e?{bool:!0}:{bool:!1};if("02"==p)return{int:{hex:g}};if("03"==p)try{if("00"!=g.substr(0,2))throw"not encap";var y=g.substr(2);if(!r(y))throw"not encap";return{bitstr:{obj:n(y)}}}catch(H){var m=null;return g.length<=10&&(m=Me(g)),null==m?{bitstr:{hex:g}}:{bitstr:{bin:m}}}else if("04"==p)try{if(!r(g))throw"not encap";return{octstr:{obj:n(g)}}}catch(H){return{octstr:{hex:g}}}else{if("05"==p)return{null:""};if("06"==p){var b=u(g),w=c(b);return""==w?{oid:b}:{oid:w}}if("0a"==p)return g.length>4?{enum:{hex:g}}:{enum:parseInt(g,16)};if("30"==p||"31"==p)return v[d[p]]=function(e){for(var t=[],r=o(e,0),i=0;i<r.length;i++){var s=r[i],u=a(e,s),c=n(u);t.push(c)}return t}(e),v;if("14"==p){var x=f(g);return v[d[p]]={str:x},v}if("1e"==p){x=h(g);return v[d[p]]={str:x},v}if(-1!=":0c:12:13:16:17:18:1a:".indexOf(p)){x=l(g);return v[d[p]]={str:x},v}if(p.match(/^8[0-9]$/))return null==(x=l(g))|""==x||null!=x.match(/[\x00-\x1F\x7F-\x9F]/)||null!=x.match(/[\u0000-\u001F\u0080\u2013\u009F]/)?{tag:{tag:p,explicit:!1,hex:g}}:{tag:{tag:p,explicit:!1,str:x}};if(!p.match(/^a[0-9]$/)){var _=new X.asn1.ASN1Object;return _.hV=g,{asn1:{tlv:p+_.getLengthHexFromValue()+g}}}try{if(!r(g))throw new Error("not encap");return{tag:{tag:p,explicit:!0,obj:n(g)}}}catch(H){return{tag:{tag:p,explicit:!0,hex:g}}}}},ee.isContextTag=function(e,t){var n,r;e=e.toLowerCase();try{n=parseInt(e,16)}catch(i){return-1}if(void 0===t)return 128==(192&n);try{return null!=t.match(/^\[[0-9]+\]$/)&&(!((r=parseInt(t.substr(1,t.length-1),10))>31)&&(128==(192&n)&&(31&n)==r))}catch(i){return!1}},ee.isASN1HEX=function(e){var t=ee;if(e.length%2==1)return!1;var n=t.getVblen(e,0),r=e.substr(0,2),i=t.getL(e,0);return e.length-r.length-i.length==2*n},ee.checkStrictDER=function(e,t,n,r,i){var a=ee;if(void 0===n){if("string"!=typeof e)throw new Error("not hex string");if(e=e.toLowerCase(),!X.lang.String.isHex(e))throw new Error("not hex string");n=e.length,i=(r=e.length/2)<128?1:Math.ceil(r.toString(16))+1}if(a.getL(e,t).length>2*i)throw new Error("L of TLV too long: idx="+t);var o=a.getVblen(e,t);if(o>r)throw new Error("value of L too long than hex: idx="+t);var s=a.getTLV(e,t),u=s.length-2-a.getL(e,t).length;if(u!==2*o)throw new Error("V string length and L's value not the same:"+u+"/"+2*o);if(0===t&&e.length!=s.length)throw new Error("total length and TLV length unmatch:"+e.length+"!="+s.length);var c=e.substr(t,2);if("02"===c){var l=a.getVidx(e,t);if("00"==e.substr(l,2)&&e.charCodeAt(l+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(c,16)){for(var h=a.getVblen(e,t),f=0,d=a.getChildIdx(e,t),p=0;p<d.length;p++){f+=a.getTLV(e,d[p]).length,a.checkStrictDER(e,d[p],n,r,i)}if(2*h!=f)throw new Error("sum of children's TLV length and L unmatch: "+2*h+"!="+f)}},ee.oidname=function(e){var t=X.asn1;X.lang.String.isHex(e)&&(e=t.ASN1Util.oidHexToInt(e));var n=t.x509.OID.oid2name(e);return""===n&&(n=e),n},"undefined"!=typeof X&&X||(X={}),"undefined"!=typeof X.asn1&&X.asn1||(X.asn1={}),"undefined"!=typeof X.asn1.x509&&X.asn1.x509||(X.asn1.x509={}),X.asn1.x509.Certificate=function(e){X.asn1.x509.Certificate.superclass.constructor.call(this);var t=X.asn1,n=t.DERBitString,r=t.DERSequence,i=t.x509,a=i.TBSCertificate,o=i.AlgorithmIdentifier;this.params=void 0,this.setByParam=function(e){this.params=e},this.sign=function(){var e=this.params,t=e.sigalg;void 0!=e.sigalg.name&&(t=e.sigalg.name);var n=e.tbsobj.tohex(),r=new X.crypto.Signature({alg:t});r.init(e.cakey),r.updateHex(n),e.sighex=r.sign()},this.getPEM=function(){return ye(this.tohex(),"CERTIFICATE")},this.tohex=function(){var e=this.params;if(void 0!=e.tbsobj&&null!=e.tbsobj||(e.tbsobj=new a(e)),void 0==e.sighex&&void 0!=e.cakey&&this.sign(),void 0==e.sighex)throw new Error("sighex or cakey parameter not defined");var t=[];return t.push(e.tbsobj),t.push(new o({name:e.sigalg})),t.push(new n({hex:"00"+e.sighex})),new r({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!=e&&(this.params=e)},Ve(X.asn1.x509.Certificate,X.asn1.ASN1Object),X.asn1.x509.TBSCertificate=function(e){X.asn1.x509.TBSCertificate.superclass.constructor.call(this);var t=X.asn1,n=t.x509,r=t.DERTaggedObject,i=t.DERInteger,a=t.DERSequence,o=n.AlgorithmIdentifier,s=n.Time,u=n.X500Name,c=n.Extensions,l=n.SubjectPublicKeyInfo;this.params=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e=[],t=this.params;if(void 0!=t.version||1!=t.version){var n=2;void 0!=t.version&&(n=t.version-1);var h=new r({obj:new i({int:n})});e.push(h)}return e.push(new i(t.serial)),e.push(new o({name:t.sigalg})),e.push(new u(t.issuer)),e.push(new a({array:[new s(t.notbefore),new s(t.notafter)]})),e.push(new u(t.subject)),e.push(new l(Ue.getKey(t.sbjpubkey))),void 0!==t.ext&&t.ext.length>0&&e.push(new r({tag:"a3",obj:new c(t.ext)})),new X.asn1.DERSequence({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ve(X.asn1.x509.TBSCertificate,X.asn1.ASN1Object),X.asn1.x509.Extensions=function(e){X.asn1.x509.Extensions.superclass.constructor.call(this);var t=X.asn1,n=t.DERSequence,r=t.x509;this.aParam=[],this.setByParam=function(e){this.aParam=e},this.tohex=function(){for(var e=[],t=0;t<this.aParam.length;t++){var i=this.aParam[t],a=i.extname,o=null;if(void 0!=i.extn)o=new r.PrivateExtension(i);else if("subjectKeyIdentifier"==a)o=new r.SubjectKeyIdentifier(i);else if("keyUsage"==a)o=new r.KeyUsage(i);else if("subjectAltName"==a)o=new r.SubjectAltName(i);else if("issuerAltName"==a)o=new r.IssuerAltName(i);else if("basicConstraints"==a)o=new r.BasicConstraints(i);else if("nameConstraints"==a)o=new r.NameConstraints(i);else if("cRLDistributionPoints"==a)o=new r.CRLDistributionPoints(i);else if("certificatePolicies"==a)o=new r.CertificatePolicies(i);else if("policyMappings"==a)o=new r.PolicyMappings(i);else if("policyConstraints"==a)o=new r.PolicyConstraints(i);else if("inhibitAnyPolicy"==a)o=new r.InhibitAnyPolicy(i);else if("authorityKeyIdentifier"==a)o=new r.AuthorityKeyIdentifier(i);else if("extKeyUsage"==a)o=new r.ExtKeyUsage(i);else if("authorityInfoAccess"==a)o=new r.AuthorityInfoAccess(i);else if("cRLNumber"==a)o=new r.CRLNumber(i);else if("cRLReason"==a)o=new r.CRLReason(i);else if("ocspNonce"==a)o=new r.OCSPNonce(i);else if("ocspNoCheck"==a)o=new r.OCSPNoCheck(i);else if("adobeTimeStamp"==a)o=new r.AdobeTimeStamp(i);else{if("subjectDirectoryAttributes"!=a)throw new Error("extension not supported:"+JSON.stringify(i));o=new r.SubjectDirectoryAttributes(i)}null!=o&&e.push(o)}return new n({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!=e&&this.setByParam(e)},Ve(X.asn1.x509.Extensions,X.asn1.ASN1Object),X.asn1.x509.Extension=function(e){X.asn1.x509.Extension.superclass.constructor.call(this);var t=X.asn1,n=t.DERObjectIdentifier,r=t.DEROctetString,i=(t.DERBitString,t.DERBoolean),a=t.DERSequence;this.tohex=function(){var e=new n({oid:this.oid}),t=new r({hex:this.getExtnValueHex()}),o=new Array;return o.push(e),this.critical&&o.push(new i),o.push(t),new a({array:o}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.critical=!1,void 0!==e&&void 0!==e.critical&&(this.critical=e.critical)},Ve(X.asn1.x509.Extension,X.asn1.ASN1Object),X.asn1.x509.KeyUsage=function(e){X.asn1.x509.KeyUsage.superclass.constructor.call(this,e);var t=Error,n={digitalSignature:0,nonRepudiation:1,keyEncipherment:2,dataEncipherment:3,keyAgreement:4,keyCertSign:5,cRLSign:6,encipherOnly:7,decipherOnly:8};this.getExtnValueHex=function(){var e=this.getBinValue();return this.asn1ExtnValue=new X.asn1.DERBitString({bin:e}),this.asn1ExtnValue.tohex()},this.getBinValue=function(){var e=this.params;if("object"!=typeof e||"object"!=typeof e.names&&"string"!=typeof e.bin)throw new t("parameter not yet set");if(void 0!=e.names)return He(e.names,n);if(void 0!=e.bin)return e.bin;throw new t("parameter not set properly")},this.oid="2.5.29.15",void 0!==e&&(this.params=e)},Ve(X.asn1.x509.KeyUsage,X.asn1.x509.Extension),X.asn1.x509.BasicConstraints=function(e){X.asn1.x509.BasicConstraints.superclass.constructor.call(this,e);var t=X.asn1,n=t.DERBoolean,r=t.DERInteger,i=t.DERSequence;this.getExtnValueHex=function(){var e=new Array;this.cA&&e.push(new n),this.pathLen>-1&&e.push(new r({int:this.pathLen}));var t=new i({array:e});return this.asn1ExtnValue=t,this.asn1ExtnValue.tohex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,void 0!==e&&(void 0!==e.cA&&(this.cA=e.cA),void 0!==e.pathLen&&(this.pathLen=e.pathLen))},Ve(X.asn1.x509.BasicConstraints,X.asn1.x509.Extension),X.asn1.x509.CRLDistributionPoints=function(e){X.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,e);var t=X.asn1,n=t.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.setByDPArray=function(e){for(var r=[],i=0;i<e.length;i++)if(e[i]instanceof X.asn1.ASN1Object)r.push(e[i]);else{var a=new n.DistributionPoint(e[i]);r.push(a)}this.asn1ExtnValue=new t.DERSequence({array:r})},this.setByOneURI=function(e){var t=new n.DistributionPoint({fulluri:e});this.setByDPArray([t])},this.oid="2.5.29.31",void 0!==e&&(void 0!==e.array?this.setByDPArray(e.array):void 0!==e.uri&&this.setByOneURI(e.uri))},Ve(X.asn1.x509.CRLDistributionPoints,X.asn1.x509.Extension),X.asn1.x509.DistributionPoint=function(e){X.asn1.x509.DistributionPoint.superclass.constructor.call(this);var t=X.asn1,n=t.x509.DistributionPointName;this.tohex=function(){var e=new t.DERSequence;if(null!=this.asn1DP){var n=new t.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});e.appendASN1Object(n)}return this.hTLV=e.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(void 0!==e.dpobj?this.asn1DP=e.dpobj:void 0!==e.dpname?this.asn1DP=new n(e.dpname):void 0!==e.fulluri&&(this.asn1DP=new n({full:[{uri:e.fulluri}]})))},Ve(X.asn1.x509.DistributionPoint,X.asn1.ASN1Object),X.asn1.x509.DistributionPointName=function(e){X.asn1.x509.DistributionPointName.superclass.constructor.call(this);var t=X.asn1,n=t.DERTaggedObject;if(this.tohex=function(){if("full"!=this.type)throw new Error("currently type shall be 'full': "+this.type);return this.asn1Obj=new n({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e)if(t.x509.GeneralNames.prototype.isPrototypeOf(e))this.type="full",this.tag="a0",this.asn1V=e;else{if(void 0===e.full)throw new Error("This class supports GeneralNames only as argument");this.type="full",this.tag="a0",this.asn1V=new t.x509.GeneralNames(e.full)}},Ve(X.asn1.x509.DistributionPointName,X.asn1.ASN1Object),X.asn1.x509.CertificatePolicies=function(e){X.asn1.x509.CertificatePolicies.superclass.constructor.call(this,e);var t=X.asn1,n=t.x509,r=t.DERSequence,i=n.PolicyInformation;this.params=null,this.getExtnValueHex=function(){for(var e=[],t=0;t<this.params.array.length;t++)e.push(new i(this.params.array[t]));var n=new r({array:e});return this.asn1ExtnValue=n,this.asn1ExtnValue.tohex()},this.oid="2.5.29.32",void 0!==e&&(this.params=e)},Ve(X.asn1.x509.CertificatePolicies,X.asn1.x509.Extension),X.asn1.x509.PolicyInformation=function(e){X.asn1.x509.PolicyInformation.superclass.constructor.call(this,e);var t=X.asn1,n=t.DERSequence,r=t.DERObjectIdentifier,i=t.x509.PolicyQualifierInfo;this.params=null,this.tohex=function(){if(void 0===this.params.policyoid&&void 0===this.params.array)throw new Error("parameter oid and array missing");var e=[new r(this.params.policyoid)];if(void 0!==this.params.array){for(var t=[],a=0;a<this.params.array.length;a++)t.push(new i(this.params.array[a]));t.length>0&&e.push(new n({array:t}))}return new n({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(this.params=e)},Ve(X.asn1.x509.PolicyInformation,X.asn1.ASN1Object),X.asn1.x509.PolicyQualifierInfo=function(e){X.asn1.x509.PolicyQualifierInfo.superclass.constructor.call(this,e);var t=X.asn1,n=t.DERSequence,r=t.DERIA5String,i=t.DERObjectIdentifier,a=t.x509.UserNotice;this.params=null,this.tohex=function(){return void 0!==this.params.cps?new n({array:[new i({oid:"1.3.6.1.5.5.7.2.1"}),new r({str:this.params.cps})]}).tohex():void 0!=this.params.unotice?new n({array:[new i({oid:"1.3.6.1.5.5.7.2.2"}),new a(this.params.unotice)]}).tohex():void 0},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(this.params=e)},Ve(X.asn1.x509.PolicyQualifierInfo,X.asn1.ASN1Object),X.asn1.x509.UserNotice=function(e){X.asn1.x509.UserNotice.superclass.constructor.call(this,e);var t=X.asn1.DERSequence,n=(X.asn1.DERInteger,X.asn1.x509.DisplayText),r=X.asn1.x509.NoticeReference;this.params=null,this.tohex=function(){var e=[];return void 0!==this.params.noticeref&&e.push(new r(this.params.noticeref)),void 0!==this.params.exptext&&e.push(new n(this.params.exptext)),new t({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(this.params=e)},Ve(X.asn1.x509.UserNotice,X.asn1.ASN1Object),X.asn1.x509.NoticeReference=function(e){X.asn1.x509.NoticeReference.superclass.constructor.call(this,e);var t=X.asn1.DERSequence,n=X.asn1.DERInteger,r=X.asn1.x509.DisplayText;this.params=null,this.tohex=function(){var e=[];if(void 0!==this.params.org&&e.push(new r(this.params.org)),void 0!==this.params.noticenum){for(var i=[],a=this.params.noticenum,o=0;o<a.length;o++)i.push(new n(a[o]));e.push(new t({array:i}))}if(0==e.length)throw new Error("parameter is empty");return new t({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(this.params=e)},Ve(X.asn1.x509.NoticeReference,X.asn1.ASN1Object),X.asn1.x509.DisplayText=function(e){X.asn1.x509.DisplayText.superclass.constructor.call(this,e),this.hT="0c",void 0!==e&&("ia5"===e.type?this.hT="16":"vis"===e.type?this.hT="1a":"bmp"===e.type&&(this.hT="1e"))},Ve(X.asn1.x509.DisplayText,X.asn1.DERAbstractString),X.asn1.x509.PolicyMappings=function(e){X.asn1.x509.PolicyMappings.superclass.constructor.call(this,e);var t=X.asn1,n=(t.x509,t.ASN1Util.newObject);this.params=null,this.getExtnValueHex=function(){for(var e=this.params,t=[],r=0;r<e.array.length;r++){var i=e.array[r];t.push({seq:[{oid:i[0]},{oid:i[1]}]})}return this.asn1ExtnValue=n({seq:t}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.33",void 0!==e&&(this.params=e)},Ve(X.asn1.x509.PolicyMappings,X.asn1.x509.Extension),X.asn1.x509.PolicyConstraints=function(e){X.asn1.x509.PolicyConstraints.superclass.constructor.call(this,e);var t=X.asn1,n=(t.x509,t.ASN1Util.newObject);this.params=null,this.getExtnValueHex=function(){var e=this.params,t=[];return void 0!=e.reqexp&&t.push({tag:{tagi:"80",obj:{int:e.reqexp}}}),void 0!=e.inhibit&&t.push({tag:{tagi:"81",obj:{int:e.inhibit}}}),this.asn1ExtnValue=n({seq:t}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.36",void 0!==e&&(this.params=e)},Ve(X.asn1.x509.PolicyConstraints,X.asn1.x509.Extension),X.asn1.x509.InhibitAnyPolicy=function(e){X.asn1.x509.InhibitAnyPolicy.superclass.constructor.call(this,e);var t=X.asn1,n=(t.x509,t.ASN1Util.newObject);this.params=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=n({int:this.params.skip}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.54",void 0!==e&&(this.params=e)},Ve(X.asn1.x509.InhibitAnyPolicy,X.asn1.x509.Extension),X.asn1.x509.NameConstraints=function(e){X.asn1.x509.NameConstraints.superclass.constructor.call(this,e);var t=X.asn1,n=t.x509,r=t.ASN1Util.newObject,i=n.GeneralSubtree;this.params=null,this.getExtnValueHex=function(){var e=this.params,t=[];if(void 0!=e.permit&&void 0!=e.permit.length){for(var n=[],a=0;a<e.permit.length;a++)n.push(new i(e.permit[a]));t.push({tag:{tagi:"a0",obj:{seq:n}}})}if(void 0!=e.exclude&&void 0!=e.exclude.length){var o=[];for(a=0;a<e.exclude.length;a++)o.push(new i(e.exclude[a]));t.push({tag:{tagi:"a1",obj:{seq:o}}})}return this.asn1ExtnValue=r({seq:t}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.30",void 0!==e&&(this.params=e)},Ve(X.asn1.x509.NameConstraints,X.asn1.x509.Extension),X.asn1.x509.GeneralSubtree=function(e){X.asn1.x509.GeneralSubtree.superclass.constructor.call(this);var t=X.asn1,n=t.x509.GeneralName,r=t.ASN1Util.newObject;this.params=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e=this.params,t=[new n(e)];return void 0!=e.min&&t.push({tag:{tagi:"80",obj:{int:e.min}}}),void 0!=e.max&&t.push({tag:{tagi:"81",obj:{int:e.max}}}),r({seq:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ve(X.asn1.x509.GeneralSubtree,X.asn1.ASN1Object),X.asn1.x509.ExtKeyUsage=function(e){X.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,e);var t=X.asn1;this.setPurposeArray=function(e){this.asn1ExtnValue=new t.DERSequence;for(var n=0;n<e.length;n++){var r=new t.DERObjectIdentifier(e[n]);this.asn1ExtnValue.appendASN1Object(r)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.37",void 0!==e&&void 0!==e.array&&this.setPurposeArray(e.array)},Ve(X.asn1.x509.ExtKeyUsage,X.asn1.x509.Extension),X.asn1.x509.AuthorityKeyIdentifier=function(e){X.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,e);var t=X,n=t.asn1,r=n.DERTaggedObject,i=n.x509.GeneralNames;t.crypto.Util.isKey;this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var e=new Array;this.asn1KID&&e.push(new r({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&e.push(new r({explicit:!1,tag:"a1",obj:new i([{dn:this.asn1CertIssuer}])})),this.asn1CertSN&&e.push(new r({explicit:!1,tag:"82",obj:this.asn1CertSN}));var t=new n.DERSequence({array:e});return this.asn1ExtnValue=t,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(e){if(void 0!==e.str||void 0!==e.hex)this.asn1KID=new X.asn1.DEROctetString(e);else if("object"===typeof e&&X.crypto.Util.isKey(e)||"string"===typeof e&&-1!=e.indexOf("BEGIN ")){var t=e;"string"===typeof e&&(t=Ue.getKey(e));var n=Ue.getKeyID(t);this.asn1KID=new X.asn1.DEROctetString({hex:n})}},this.setCertIssuerByParam=function(e){void 0!==e.str||void 0!==e.ldapstr||void 0!==e.hex||void 0!==e.certsubject||void 0!==e.certissuer?this.asn1CertIssuer=new X.asn1.x509.X500Name(e):"string"===typeof e&&-1!=e.indexOf("BEGIN ")&&-1!=e.indexOf("CERTIFICATE")&&(this.asn1CertIssuer=new X.asn1.x509.X500Name({certissuer:e}))},this.setCertSNByParam=function(e){if(void 0!==e.str||void 0!==e.bigint||void 0!==e.hex)this.asn1CertSN=new X.asn1.DERInteger(e);else if("string"===typeof e&&-1!=e.indexOf("BEGIN ")&&e.indexOf("CERTIFICATE")){var t=new We;t.readCertPEM(e);var n=t.getSerialNumberHex();this.asn1CertSN=new X.asn1.DERInteger({hex:n})}},this.oid="2.5.29.35",void 0!==e&&(void 0!==e.kid&&this.setKIDByParam(e.kid),void 0!==e.issuer&&this.setCertIssuerByParam(e.issuer),void 0!==e.sn&&this.setCertSNByParam(e.sn),void 0!==e.issuersn&&"string"===typeof e.issuersn&&-1!=e.issuersn.indexOf("BEGIN ")&&e.issuersn.indexOf("CERTIFICATE")&&(this.setCertSNByParam(e.issuersn),this.setCertIssuerByParam(e.issuersn)))},Ve(X.asn1.x509.AuthorityKeyIdentifier,X.asn1.x509.Extension),X.asn1.x509.SubjectKeyIdentifier=function(e){X.asn1.x509.SubjectKeyIdentifier.superclass.constructor.call(this,e);var t=X.asn1.DEROctetString;this.asn1KID=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=this.asn1KID,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(e){if(void 0!==e.str||void 0!==e.hex)this.asn1KID=new t(e);else if("object"===typeof e&&X.crypto.Util.isKey(e)||"string"===typeof e&&-1!=e.indexOf("BEGIN")){var n=e;"string"===typeof e&&(n=Ue.getKey(e));var r=Ue.getKeyID(n);this.asn1KID=new X.asn1.DEROctetString({hex:r})}},this.oid="2.5.29.14",void 0!==e&&void 0!==e.kid&&this.setKIDByParam(e.kid)},Ve(X.asn1.x509.SubjectKeyIdentifier,X.asn1.x509.Extension),X.asn1.x509.AuthorityInfoAccess=function(e){X.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,e),this.setAccessDescriptionArray=function(e){for(var t=new Array,n=X.asn1,r=n.DERSequence,i=n.DERObjectIdentifier,a=n.x509.GeneralName,o=0;o<e.length;o++){var s,u=e[o];if(void 0!==u.ocsp)s=new r({array:[new i({oid:"1.3.6.1.5.5.7.48.1"}),new a({uri:u.ocsp})]});else{if(void 0===u.caissuer)throw new Error("unknown AccessMethod parameter: "+JSON.stringify(u));s=new r({array:[new i({oid:"1.3.6.1.5.5.7.48.2"}),new a({uri:u.caissuer})]})}t.push(s)}this.asn1ExtnValue=new r({array:t})},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.1.1",void 0!==e&&void 0!==e.array&&this.setAccessDescriptionArray(e.array)},Ve(X.asn1.x509.AuthorityInfoAccess,X.asn1.x509.Extension),X.asn1.x509.SubjectAltName=function(e){X.asn1.x509.SubjectAltName.superclass.constructor.call(this,e),this.setNameArray=function(e){this.asn1ExtnValue=new X.asn1.x509.GeneralNames(e)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.17",void 0!==e&&void 0!==e.array&&this.setNameArray(e.array)},Ve(X.asn1.x509.SubjectAltName,X.asn1.x509.Extension),X.asn1.x509.IssuerAltName=function(e){X.asn1.x509.IssuerAltName.superclass.constructor.call(this,e),this.setNameArray=function(e){this.asn1ExtnValue=new X.asn1.x509.GeneralNames(e)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.18",void 0!==e&&void 0!==e.array&&this.setNameArray(e.array)},Ve(X.asn1.x509.IssuerAltName,X.asn1.x509.Extension),X.asn1.x509.SubjectDirectoryAttributes=function(e){X.asn1.x509.SubjectDirectoryAttributes.superclass.constructor.call(this,e);var t=X.asn1,n=t.DERSequence,r=t.ASN1Util.newObject,i=t.x509.OID.name2oid;this.params=null,this.getExtnValueHex=function(){for(var e=[],t=0;t<this.params.array.length;t++){var a=this.params.array[t],o={seq:[{oid:"1.2.3.4"},{set:[{utf8str:"DE"}]}]};if("dateOfBirth"==a.attr)o.seq[0].oid=i(a.attr),o.seq[1].set[0]={gentime:a.str};else if("placeOfBirth"==a.attr)o.seq[0].oid=i(a.attr),o.seq[1].set[0]={utf8str:a.str};else if("gender"==a.attr)o.seq[0].oid=i(a.attr),o.seq[1].set[0]={prnstr:a.str};else if("countryOfCitizenship"==a.attr)o.seq[0].oid=i(a.attr),o.seq[1].set[0]={prnstr:a.str};else{if("countryOfResidence"!=a.attr)throw new Error("unsupported attribute: "+a.attr);o.seq[0].oid=i(a.attr),o.seq[1].set[0]={prnstr:a.str}}e.push(new r(o))}var s=new n({array:e});return this.asn1ExtnValue=s,this.asn1ExtnValue.tohex()},this.oid="2.5.29.9",void 0!==e&&(this.params=e)},Ve(X.asn1.x509.SubjectDirectoryAttributes,X.asn1.x509.Extension),X.asn1.x509.PrivateExtension=function(e){X.asn1.x509.PrivateExtension.superclass.constructor.call(this,e);var t=X,n=t.lang.String.isHex,r=t.asn1,i=r.x509.OID.name2oid,a=r.ASN1Util.newObject;this.params=null,this.setByParam=function(e){this.oid=i(e.extname),this.params=e},this.getExtnValueHex=function(){if(void 0==this.params.extname||void 0==this.params.extn)throw new Error("extname or extnhex not specified");var e=this.params.extn;if("string"==typeof e&&n(e))return e;if("object"==typeof e)try{return a(e).tohex()}catch(t){}throw new Error("unsupported extn value")},void 0!=e&&this.setByParam(e)},Ve(X.asn1.x509.PrivateExtension,X.asn1.x509.Extension),X.asn1.x509.CRL=function(e){X.asn1.x509.CRL.superclass.constructor.call(this);var t=X.asn1,n=t.DERSequence,r=t.DERBitString,i=t.x509,a=i.AlgorithmIdentifier,o=i.TBSCertList;this.params=void 0,this.setByParam=function(e){this.params=e},this.sign=function(){var e=new o(this.params).tohex(),t=new X.crypto.Signature({alg:this.params.sigalg});t.init(this.params.cakey),t.updateHex(e);var n=t.sign();this.params.sighex=n},this.getPEM=function(){return ye(this.tohex(),"X509 CRL")},this.tohex=function(){var e=this.params;if(void 0==e.tbsobj&&(e.tbsobj=new o(e)),void 0==e.sighex&&void 0!=e.cakey&&this.sign(),void 0==e.sighex)throw new Error("sighex or cakey parameter not defined");var t=[];return t.push(e.tbsobj),t.push(new a({name:e.sigalg})),t.push(new r({hex:"00"+e.sighex})),new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!=e&&(this.params=e)},Ve(X.asn1.x509.CRL,X.asn1.ASN1Object),X.asn1.x509.TBSCertList=function(e){X.asn1.x509.TBSCertList.superclass.constructor.call(this);var t=X.asn1,n=t.DERInteger,r=t.DERSequence,i=t.DERTaggedObject,a=(t.DERObjectIdentifier,t.x509),o=a.AlgorithmIdentifier,s=a.Time,u=a.Extensions,c=a.X500Name;this.params=null,this.setByParam=function(e){this.params=e},this.getRevCertSequence=function(){for(var e=[],t=this.params.revcert,i=0;i<t.length;i++){var a=[new n(t[i].sn),new s(t[i].date)];void 0!=t[i].ext&&a.push(new u(t[i].ext)),e.push(new r({array:a}))}return new r({array:e})},this.tohex=function(){var e=[],t=this.params;if(void 0!=t.version){var a=t.version-1,l=new n({int:a});e.push(l)}if(e.push(new o({name:t.sigalg})),e.push(new c(t.issuer)),e.push(new s(t.thisupdate)),void 0!=t.nextupdate&&e.push(new s(t.nextupdate)),void 0!=t.revcert&&e.push(this.getRevCertSequence()),void 0!=t.ext){var h=new u(t.ext);e.push(new i({tag:"a0",explicit:!0,obj:h}))}return new r({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ve(X.asn1.x509.TBSCertList,X.asn1.ASN1Object),X.asn1.x509.CRLEntry=function(e){X.asn1.x509.CRLEntry.superclass.constructor.call(this);var t=X.asn1;this.setCertSerial=function(e){this.sn=new t.DERInteger(e)},this.setRevocationDate=function(e){this.time=new t.x509.Time(e)},this.tohex=function(){var e=new t.DERSequence({array:[this.sn,this.time]});return this.TLV=e.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(void 0!==e.time&&this.setRevocationDate(e.time),void 0!==e.sn&&this.setCertSerial(e.sn))},Ve(X.asn1.x509.CRLEntry,X.asn1.ASN1Object),X.asn1.x509.CRLNumber=function(e){X.asn1.x509.CRLNumber.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new X.asn1.DERInteger(this.params.num),this.asn1ExtnValue.tohex()},this.oid="2.5.29.20",void 0!=e&&(this.params=e)},Ve(X.asn1.x509.CRLNumber,X.asn1.x509.Extension),X.asn1.x509.CRLReason=function(e){X.asn1.x509.CRLReason.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new X.asn1.DEREnumerated(this.params.code),this.asn1ExtnValue.tohex()},this.oid="2.5.29.21",void 0!=e&&(this.params=e)},Ve(X.asn1.x509.CRLReason,X.asn1.x509.Extension),X.asn1.x509.OCSPNonce=function(e){X.asn1.x509.OCSPNonce.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new X.asn1.DEROctetString(this.params),this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.2",void 0!=e&&(this.params=e)},Ve(X.asn1.x509.OCSPNonce,X.asn1.x509.Extension),X.asn1.x509.OCSPNoCheck=function(e){X.asn1.x509.OCSPNoCheck.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new X.asn1.DERNull,this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.5",void 0!=e&&(this.params=e)},Ve(X.asn1.x509.OCSPNoCheck,X.asn1.x509.Extension),X.asn1.x509.AdobeTimeStamp=function(e){X.asn1.x509.AdobeTimeStamp.superclass.constructor.call(this,e);var t=X.asn1,n=t.DERInteger,r=t.DERBoolean,i=t.DERSequence,a=t.x509.GeneralName;this.params=null,this.getExtnValueHex=function(){var e=this.params,t=[new n(1)];return t.push(new a({uri:e.uri})),void 0!=e.reqauth&&t.push(new r(e.reqauth)),this.asn1ExtnValue=new i({array:t}),this.asn1ExtnValue.tohex()},this.oid="1.2.840.113583.1.1.9.1",void 0!==e&&this.setByParam(e)},Ve(X.asn1.x509.AdobeTimeStamp,X.asn1.x509.Extension),X.asn1.x509.X500Name=function(e){X.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var t=X.asn1,n=t.x509,r=n.RDN;this.setByString=function(e,t){void 0!==t&&(this.sRule=t);var n=e.split("/");n.shift();for(var i=[],a=0;a<n.length;a++)if(n[a].match(/^[^=]+=.+$/))i.push(n[a]);else{var o=i.length-1;i[o]=i[o]+"/"+n[a]}for(a=0;a<i.length;a++)this.asn1Array.push(new r({str:i[a],rule:this.sRule}))},this.setByLdapString=function(e,t){void 0!==t&&(this.sRule=t);var r=n.X500Name.ldapToCompat(e);this.setByString(r,t)},this.setByObject=function(e,t){for(var n in void 0!==t&&(this.sRule=t),e)if(e.hasOwnProperty(n)){var i=new r({str:n+"="+e[n],rule:this.sRule});this.asn1Array?this.asn1Array.push(i):this.asn1Array=[i]}},this.setByParam=function(e){var t;(void 0!==e.rule&&(this.sRule=e.rule),void 0!==e.array)?this.paramArray=e.array:void 0!==e.str?this.setByString(e.str):void 0!==e.ldapstr?this.setByLdapString(e.ldapstr):void 0!==e.hex?this.hTLV=e.hex:void 0!==e.certissuer?((t=new We).readCertPEM(e.certissuer),this.hTLV=t.getIssuerHex()):void 0!==e.certsubject?((t=new We).readCertPEM(e.certsubject),this.hTLV=t.getSubjectHex()):"object"===typeof e&&void 0===e.certsubject&&void 0===e.certissuer&&this.setByObject(e)},this.tohex=function(){if("string"==typeof this.hTLV)return this.hTLV;if(0==this.asn1Array.length&&this.paramArray.length>0)for(var e=0;e<this.paramArray.length;e++){var n={array:this.paramArray[e]};"utf8"!=this.sRule&&(n.rule=this.sRule);var i=new r(n);this.asn1Array.push(i)}var a=new t.DERSequence({array:this.asn1Array});return this.hTLV=a.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ve(X.asn1.x509.X500Name,X.asn1.ASN1Object),X.asn1.x509.X500Name.compatToLDAP=function(e){if("/"!==e.substr(0,1))throw"malformed input";var t=(e=e.substr(1)).split("/");return t.reverse(),(t=t.map((function(e){return e.replace(/,/,"\\,")}))).join(",")},X.asn1.x509.X500Name.onelineToLDAP=function(e){return X.asn1.x509.X500Name.compatToLDAP(e)},X.asn1.x509.X500Name.ldapToCompat=function(e){for(var t=e.split(","),n=!1,r=[],i=0;t.length>0;i++){var a=t.shift();if(!0===n){var o=(r.pop()+","+a).replace(/\\,/g,",");r.push(o),n=!1}else r.push(a);"\\"===a.substr(-1,1)&&(n=!0)}return(r=r.map((function(e){return e.replace("/","\\/")}))).reverse(),"/"+r.join("/")},X.asn1.x509.X500Name.ldapToOneline=function(e){return X.asn1.x509.X500Name.ldapToCompat(e)},X.asn1.x509.RDN=function(e){X.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var t=X.asn1.x509.AttributeTypeAndValue;this.setByParam=function(e){void 0!==e.rule&&(this.sRule=e.rule),void 0!==e.str&&this.addByMultiValuedString(e.str),void 0!==e.array&&(this.paramArray=e.array)},this.addByString=function(e){this.asn1Array.push(new X.asn1.x509.AttributeTypeAndValue({str:e,rule:this.sRule}))},this.addByMultiValuedString=function(e){for(var t=X.asn1.x509.RDN.parseString(e),n=0;n<t.length;n++)this.addByString(t[n])},this.tohex=function(){if(0==this.asn1Array.length&&this.paramArray.length>0)for(var e=0;e<this.paramArray.length;e++){var n=this.paramArray[e];void 0!==n.rule&&"utf8"!=this.sRule&&(n.rule=this.sRule);var r=new t(n);this.asn1Array.push(r)}var i=new X.asn1.DERSet({array:this.asn1Array});return this.TLV=i.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ve(X.asn1.x509.RDN,X.asn1.ASN1Object),X.asn1.x509.RDN.parseString=function(e){for(var t=e.split(/\+/),n=!1,r=[],i=0;t.length>0;i++){var a=t.shift();if(!0===n){var o=(r.pop()+"+"+a).replace(/\\\+/g,"+");r.push(o),n=!1}else r.push(a);"\\"===a.substr(-1,1)&&(n=!0)}var s=!1,u=[];for(i=0;r.length>0;i++){a=r.shift();if(!0===s){var c=u.pop();if(a.match(/"$/)){o=(c+"+"+a).replace(/^([^=]+)="(.*)"$/,"$1=$2");u.push(o),s=!1}else u.push(c+"+"+a)}else u.push(a);a.match(/^[^=]+="/)&&(s=!0)}return u},X.asn1.x509.AttributeTypeAndValue=function(e){X.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this),this.sRule="utf8",this.sType=null,this.sValue=null,this.dsType=null;var t=X,n=t.asn1,r=n.DERSequence,i=n.DERUTF8String,a=n.DERPrintableString,o=n.DERTeletexString,s=n.DERIA5String,u=n.DERVisibleString,c=n.DERBMPString,l=t.lang.String.isMail,h=t.lang.String.isPrintable;this.setByParam=function(e){if(void 0!==e.rule&&(this.sRule=e.rule),void 0!==e.ds&&(this.dsType=e.ds),void 0===e.value&&void 0!==e.str){var t=e.str.match(/^([^=]+)=(.+)$/);if(!t)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.sType=t[1],this.sValue=t[2]}else this.sType=e.type,this.sValue=e.value},this.setByString=function(e,t){void 0!==t&&(this.sRule=t);var n=e.match(/^([^=]+)=(.+)$/);if(!n)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.setByAttrTypeAndValueStr(n[1],n[2])},this._getDsType=function(){var e=this.sType,t=this.sValue,n=this.sRule;return"prn"===n?"CN"==e&&l(t)?"ia5":h(t)?"prn":"utf8":"utf8"===n?"CN"==e&&l(t)?"ia5":"C"==e?"prn":"utf8":"utf8"},this.setByAttrTypeAndValueStr=function(e,t,n){void 0!==n&&(this.sRule=n),this.sType=e,this.sValue=t},this.getValueObj=function(e,t){if("utf8"==e)return new i({str:t});if("prn"==e)return new a({str:t});if("tel"==e)return new o({str:t});if("ia5"==e)return new s({str:t});if("vis"==e)return new u({str:t});if("bmp"==e)return new c({str:t});throw new Error("unsupported directory string type: type="+e+" value="+t)},this.tohex=function(){null==this.dsType&&(this.dsType=this._getDsType());var e=X.asn1.x509.OID.atype2obj(this.sType),t=this.getValueObj(this.dsType,this.sValue),n=new r({array:[e,t]});return this.TLV=n.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ve(X.asn1.x509.AttributeTypeAndValue,X.asn1.ASN1Object),X.asn1.x509.SubjectPublicKeyInfo=function(e){X.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var t=X,n=t.asn1,r=n.DERInteger,i=n.DERBitString,a=n.DERObjectIdentifier,o=n.DERSequence,s=n.ASN1Util.newObject,u=n.x509.AlgorithmIdentifier,c=t.crypto;c.ECDSA,c.DSA;this.getASN1Object=function(){if(null==this.asn1AlgId||null==this.asn1SubjPKey)throw"algId and/or subjPubKey not set";return new o({array:[this.asn1AlgId,this.asn1SubjPKey]})},this.tohex=function(){var e=this.getASN1Object();return this.hTLV=e.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.setPubKey=function(e){try{if(e instanceof z){var t=s({seq:[{int:{bigint:e.n}},{int:{int:e.e}}]}).tohex();this.asn1AlgId=new u({name:"rsaEncryption"}),this.asn1SubjPKey=new i({hex:"00"+t})}}catch(c){}try{if(e instanceof X.crypto.ECDSA){var n=new a({name:e.curveName});this.asn1AlgId=new u({name:"ecPublicKey",asn1params:n}),this.asn1SubjPKey=new i({hex:"00"+e.pubKeyHex})}}catch(c){}try{if(e instanceof X.crypto.DSA){n=new s({seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]});this.asn1AlgId=new u({name:"dsa",asn1params:n});var o=new r({bigint:e.y});this.asn1SubjPKey=new i({hex:"00"+o.tohex()})}}catch(c){}},void 0!==e&&this.setPubKey(e)},Ve(X.asn1.x509.SubjectPublicKeyInfo,X.asn1.ASN1Object),X.asn1.x509.Time=function(e){X.asn1.x509.Time.superclass.constructor.call(this);var t=X.asn1,n=t.DERUTCTime,r=t.DERGeneralizedTime;this.params=null,this.type=null,this.setTimeParams=function(e){this.timeParams=e},this.setByParam=function(e){this.params=e},this.getType=function(e){return e.match(/^[0-9]{12}Z$/)?"utc":e.match(/^[0-9]{14}Z$/)?"gen":e.match(/^[0-9]{12}\.[0-9]+Z$/)?"utc":e.match(/^[0-9]{14}\.[0-9]+Z$/)?"gen":null},this.tohex=function(){var e=this.params,t=null;if("string"==typeof e&&(e={str:e}),null==e||!e.str||null!=e.type&&void 0!=e.type||(e.type=this.getType(e.str)),null!=e&&e.str?("utc"==e.type&&(t=new n(e.str)),"gen"==e.type&&(t=new r(e.str))):t="gen"==this.type?new r:new n,null==t)throw new Error("wrong setting for Time");return this.TLV=t.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!=e&&this.setByParam(e)},X.asn1.x509.Time_bak=function(e){X.asn1.x509.Time_bak.superclass.constructor.call(this);var t=X.asn1,n=t.DERUTCTime,r=t.DERGeneralizedTime;this.setTimeParams=function(e){this.timeParams=e},this.tohex=function(){var e=null;return e=null!=this.timeParams?"utc"==this.type?new n(this.timeParams):new r(this.timeParams):"utc"==this.type?new n:new r,this.TLV=e.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},this.type="utc",void 0!==e&&(void 0!==e.type?this.type=e.type:void 0!==e.str&&(e.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),e.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=e)},Ve(X.asn1.x509.Time,X.asn1.ASN1Object),X.asn1.x509.AlgorithmIdentifier=function(e){X.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var t=X.asn1,n=t.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;if(this.tohex=function(){if(null===this.nameAlg&&null===this.asn1Alg)throw new Error("algorithm not specified");if(null!==this.nameAlg){var e=null;for(var r in n)r===this.nameAlg&&(e=n[r]);if(null!==e)return this.hTLV=e,this.hTLV}null!==this.nameAlg&&null===this.asn1Alg&&(this.asn1Alg=t.x509.OID.name2obj(this.nameAlg));var i=[this.asn1Alg];null!==this.asn1Params&&i.push(this.asn1Params);var a=new t.DERSequence({array:i});return this.hTLV=a.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(void 0!==e.name&&(this.nameAlg=e.name),void 0!==e.asn1params&&(this.asn1Params=e.asn1params),void 0!==e.paramempty&&(this.paramEmpty=e.paramempty)),null===this.asn1Params&&!1===this.paramEmpty&&null!==this.nameAlg){void 0!==this.nameAlg.name&&(this.nameAlg=this.nameAlg.name);var r=this.nameAlg.toLowerCase();"withdsa"!==r.substr(-7,7)&&"withecdsa"!==r.substr(-9,9)&&(this.asn1Params=new t.DERNull)}},Ve(X.asn1.x509.AlgorithmIdentifier,X.asn1.ASN1Object),X.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV={SHAwithRSAandMGF1:"300d06092a864886f70d01010a3000",SHA256withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040201a11a301806092a864886f70d010108300b0609608648016503040201a203020120",SHA384withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040202a11a301806092a864886f70d010108300b0609608648016503040202a203020130",SHA512withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040203a11a301806092a864886f70d010108300b0609608648016503040203a203020140"},X.asn1.x509.GeneralName=function(e){X.asn1.x509.GeneralName.superclass.constructor.call(this);var t=X.asn1,n=t.x509,r=n.X500Name,i=n.OtherName,a=t.DERIA5String,o=(t.DERPrintableString,t.DEROctetString),s=t.DERTaggedObject,u=t.ASN1Object,c=Error;this.params=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e,t,n=this.params,l=!1;if(void 0!==n.other)e="a0",t=new i(n.other);else if(void 0!==n.rfc822)e="81",t=new a({str:n.rfc822});else if(void 0!==n.dns)e="82",t=new a({str:n.dns});else if(void 0!==n.dn)e="a4",l=!0,t="string"===typeof n.dn?new r({str:n.dn}):n.dn instanceof X.asn1.x509.X500Name?n.dn:new r(n.dn);else if(void 0!==n.ldapdn)e="a4",l=!0,t=new r({ldapstr:n.ldapdn});else if(void 0!==n.certissuer||void 0!==n.certsubj){var h,f;e="a4",l=!0;var d=null;if(void 0!==n.certsubj?(h=!1,f=n.certsubj):(h=!0,f=n.certissuer),f.match(/^[0-9A-Fa-f]+$/),-1!=f.indexOf("-----BEGIN ")&&(d=me(f)),null==d)throw new Error("certsubj/certissuer not cert");var p,v=new We;v.hex=d,p=h?v.getIssuerHex():v.getSubjectHex(),(t=new u).hTLV=p}else if(void 0!==n.uri)e="86",t=new a({str:n.uri});else{if(void 0===n.ip)throw new c("improper params");var g;e="87";var y=n.ip;try{if(y.match(/^[0-9a-f]+$/)){var m=y.length;if(8!=m&&16!=m&&32!=m&&64!=m)throw"err";g=y}else g=Ae(y)}catch(b){throw new c("malformed IP address: "+n.ip+":"+b.message)}t=new o({hex:g})}return new s({tag:e,explicit:l,obj:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ve(X.asn1.x509.GeneralName,X.asn1.ASN1Object),X.asn1.x509.GeneralNames=function(e){X.asn1.x509.GeneralNames.superclass.constructor.call(this);var t=X.asn1;this.setByParamArray=function(e){for(var n=0;n<e.length;n++){var r=new t.x509.GeneralName(e[n]);this.asn1Array.push(r)}},this.tohex=function(){return new t.DERSequence({array:this.asn1Array}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.asn1Array=new Array,"undefined"!=typeof e&&this.setByParamArray(e)},Ve(X.asn1.x509.GeneralNames,X.asn1.ASN1Object),X.asn1.x509.OtherName=function(e){X.asn1.x509.OtherName.superclass.constructor.call(this);var t=X.asn1,n=t.DERObjectIdentifier,r=t.DERSequence,i=t.ASN1Util.newObject;this.params=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e=this.params;if(void 0==e.oid||void 0==e.value)throw new Error("oid or value not specified");var t=new n({oid:e.oid}),a=i({tag:{tag:"a0",explicit:!0,obj:e.value}});return new r({array:[t,a]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ve(X.asn1.x509.OtherName,X.asn1.ASN1Object),X.asn1.x509.OID=new function(){var e=X.asn1.DERObjectIdentifier;this.name2oidList={sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5","pkcs1-MGF":"1.2.840.113549.1.1.8",rsaPSS:"1.2.840.113549.1.1.10",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",countryName:"2.5.4.6",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",streetAddress:"2.5.4.9",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",givenName:"2.5.4.42",title:"2.5.4.12",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectDirectoryAttributes:"2.5.29.9",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",cRLNumber:"2.5.29.20",cRLReason:"2.5.29.21",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",anyPolicy:"2.5.29.32.0",policyMappings:"2.5.29.33",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",inhibitAnyPolicy:"2.5.29.54",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",ocspBasic:"1.3.6.1.5.5.7.48.1.1",ocspNonce:"1.3.6.1.5.5.7.48.1.2",ocspNoCheck:"1.3.6.1.5.5.7.48.1.5",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",smtpUTF8Mailbox:"1.3.6.1.5.5.7.8.9",dateOfBirth:"1.3.6.1.5.5.7.9.1",placeOfBirth:"1.3.6.1.5.5.7.9.2",gender:"1.3.6.1.5.5.7.9.3",countryOfCitizenship:"1.3.6.1.5.5.7.9.4",countryOfResidence:"1.3.6.1.5.5.7.9.5",ecPublicKey:"1.2.840.10045.2.1","P-256":"1.2.840.10045.3.1.7",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",secp521r1:"1.3.132.0.35",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",signingCertificate:"1.2.840.113549.1.9.16.2.12",timeStampToken:"1.2.840.113549.1.9.16.2.14",signaturePolicyIdentifier:"1.2.840.113549.1.9.16.2.15",etsArchiveTimeStamp:"1.2.840.113549.1.9.16.2.27",signingCertificateV2:"1.2.840.113549.1.9.16.2.47",etsArchiveTimeStampV2:"1.2.840.113549.1.9.16.2.48",extensionRequest:"1.2.840.113549.1.9.14",contentType:"1.2.840.113549.1.9.3",messageDigest:"1.2.840.113549.1.9.4",signingTime:"1.2.840.113549.1.9.5",counterSignature:"1.2.840.113549.1.9.6",archiveTimeStampV3:"0.4.0.1733.2.4",pdfRevocationInfoArchival:"1.2.840.113583.1.1.8",adobeTimeStamp:"1.2.840.113583.1.1.9.1"},this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",T:"2.5.4.12",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.objCache={},this.name2obj=function(t){if("undefined"!=typeof this.objCache[t])return this.objCache[t];if("undefined"==typeof this.name2oidList[t])throw"Name of ObjectIdentifier not defined: "+t;var n=this.name2oidList[t],r=new e({oid:n});return this.objCache[t]=r,r},this.atype2obj=function(t){if(void 0!==this.objCache[t])return this.objCache[t];var n;if(t.match(/^\d+\.\d+\.[0-9.]+$/))n=t;else if(void 0!==this.atype2oidList[t])n=this.atype2oidList[t];else{if(void 0===this.name2oidList[t])throw new Error("AttributeType name undefined: "+t);n=this.name2oidList[t]}var r=new e({oid:n});return this.objCache[t]=r,r},this.registerOIDs=function(e){if(this.checkOIDs(e))for(var t in e)this.name2oidList[t]=e[t]},this.checkOIDs=function(e){try{var t=Object.keys(e);return 0!=t.length&&(t.map((function(e,t,n){if(!this[e].match(/^[0-2]\.[0-9.]+$/))throw new Error("value is not OID")}),e),!0)}catch(n){return!1}}},X.asn1.x509.OID.oid2name=function(e){var t=X.asn1.x509.OID.name2oidList;for(var n in t)if(t[n]==e)return n;return""},X.asn1.x509.OID.oid2atype=function(e){var t=X.asn1.x509.OID.atype2oidList;for(var n in t)if(t[n]==e)return n;return e},X.asn1.x509.OID.name2oid=function(e){if(e.match(/^[0-9.]+$/))return e;var t=X.asn1.x509.OID.name2oidList;return void 0===t[e]?"":t[e]},X.asn1.x509.X509Util={},X.asn1.x509.X509Util.newCertPEM=function(e){var t=X.asn1.x509;t.TBSCertificate;return new(0,t.Certificate)(e).getPEM()},"undefined"!=typeof X&&X||(X={}),"undefined"!=typeof X.asn1&&X.asn1||(X.asn1={}),"undefined"!=typeof X.asn1.cms&&X.asn1.cms||(X.asn1.cms={}),X.asn1.cms.Attribute=function(e){var t=Error,n=X.asn1,r=n.DERSequence,i=n.DERSet,a=n.DERObjectIdentifier;this.params=null,this.typeOid=null,this.setByParam=function(e){this.params=e},this.getValueArray=function(){throw new t("not yet implemented abstract")},this.tohex=function(){var e=new a({oid:this.typeOid}),t=new i({array:this.getValueArray()});return new r({array:[e,t]}).tohex()},this.getEncodedHex=function(){return this.tohex()}},Ve(X.asn1.cms.Attribute,X.asn1.ASN1Object),X.asn1.cms.ContentType=function(e){var t=X.asn1;t.cms.ContentType.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.3",this.getValueArray=function(){return[new t.DERObjectIdentifier(this.params.type)]},void 0!=e&&this.setByParam(e)},Ve(X.asn1.cms.ContentType,X.asn1.cms.Attribute),X.asn1.cms.MessageDigest=function(e){var t=X.asn1,n=t.DEROctetString;t.cms.MessageDigest.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.4",this.getValueArray=function(){return[new n(this.params)]},void 0!=e&&this.setByParam(e)},Ve(X.asn1.cms.MessageDigest,X.asn1.cms.Attribute),X.asn1.cms.SigningTime=function(e){var t=X.asn1;t.cms.SigningTime.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.5",this.getValueArray=function(){return[new t.x509.Time(this.params)]},void 0!=e&&this.setByParam(e)},Ve(X.asn1.cms.SigningTime,X.asn1.cms.Attribute),X.asn1.cms.SigningCertificate=function(e){var t=Error,n=X,r=n.asn1,i=r.DERSequence,a=r.cms,o=a.ESSCertID;n.crypto;a.SigningCertificate.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.12",this.getValueArray=function(){if(null==this.params||void 0==this.params||void 0==this.params.array)throw new t("parameter 'array' not specified");for(var n=this.params.array,r=[],a=0;a<n.length;a++){var s=n[a];0!=e.hasis||"string"!=typeof s||-1==s.indexOf("-----BEGIN")&&!ee.isASN1HEX(s)||(s={cert:s}),0!=s.hasis&&0==e.hasis&&(s.hasis=!1),r.push(new o(s))}var u=new i({array:r});return[new i({array:[u]})]},void 0!=e&&this.setByParam(e)},Ve(X.asn1.cms.SigningCertificate,X.asn1.cms.Attribute),X.asn1.cms.ESSCertID=function(e){X.asn1.cms.ESSCertID.superclass.constructor.call(this);var t=Error,n=X,r=n.asn1,i=r.DEROctetString,a=r.DERSequence,o=r.cms.IssuerSerial;this.params=null,this.getCertHash=function(e,r){if(void 0!=e.hash)return e.hash;if("string"==typeof e&&-1==e.indexOf("-----BEGIN")&&!ee.isASN1HEX(e))return e;var i,a,o;if("string"==typeof e)i=e;else{if(void 0==e.cert)throw new t("hash nor cert unspecified");i=e.cert}if(a=-1!=i.indexOf("-----BEGIN")?me(i):i,"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?a=me(e):ee.isASN1HEX(e)&&(a=e)),void 0!=e.alg)o=e.alg;else{if(void 0==r)throw new t("hash alg unspecified");o=r}return n.crypto.Util.hashHex(a,o)},this.tohex=function(){var e=this.params,t=this.getCertHash(e,"sha1"),n=[];return n.push(new i({hex:t})),("string"==typeof e&&-1!=e.indexOf("-----BEGIN")||void 0!=e.cert&&0!=e.hasis||void 0!=e.issuer&&void 0!=e.serial)&&n.push(new o(e)),new a({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!=e&&this.setByParam(e)},Ve(X.asn1.cms.ESSCertID,X.asn1.ASN1Object),X.asn1.cms.SigningCertificateV2=function(e){var t=Error,n=X,r=n.asn1,i=r.DERSequence,a=(r.x509,r.cms),o=a.ESSCertIDv2;n.crypto;a.SigningCertificateV2.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.47",this.getValueArray=function(){if(null==this.params||void 0==this.params||void 0==this.params.array)throw new t("parameter 'array' not specified");for(var n=this.params.array,r=[],a=0;a<n.length;a++){var s=n[a];void 0==e.alg&&0!=e.hasis||"string"!=typeof s||-1==s.indexOf("-----BEGIN")&&!ee.isASN1HEX(s)||(s={cert:s}),void 0==s.alg&&void 0!=e.alg&&(s.alg=e.alg),0!=s.hasis&&0==e.hasis&&(s.hasis=!1),r.push(new o(s))}var u=new i({array:r});return[new i({array:[u]})]},void 0!=e&&this.setByParam(e)},Ve(X.asn1.cms.SigningCertificateV2,X.asn1.cms.Attribute),X.asn1.cms.ESSCertIDv2=function(e){X.asn1.cms.ESSCertIDv2.superclass.constructor.call(this);Error;var t=X.asn1,n=t.DEROctetString,r=t.DERSequence,i=t.cms.IssuerSerial,a=t.x509.AlgorithmIdentifier;this.params=null,this.tohex=function(){var e=this.params,t=this.getCertHash(e,"sha256"),o=[];return void 0!=e.alg&&"sha256"!=e.alg&&o.push(new a({name:e.alg})),o.push(new n({hex:t})),("string"==typeof e&&-1!=e.indexOf("-----BEGIN")||void 0!=e.cert&&0!=e.hasis||void 0!=e.issuer&&void 0!=e.serial)&&o.push(new i(e)),new r({array:o}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!=e&&this.setByParam(e)},Ve(X.asn1.cms.ESSCertIDv2,X.asn1.cms.ESSCertID),X.asn1.cms.IssuerSerial=function(e){var t=Error,n=X.asn1,r=n.DERInteger,i=n.DERSequence,a=n.cms,o=n.x509.GeneralNames,s=We;a.IssuerSerial.superclass.constructor.call(this),this.setByParam=function(e){this.params=e},this.tohex=function(){var e,n,a=this.params;if("string"==typeof a&&-1!=a.indexOf("-----BEGIN")||void 0!=a.cert){var u;u=void 0!=a.cert?a.cert:a;var c=new s;c.readCertPEM(u),e=c.getIssuer(),n={hex:c.getSerialNumberHex()}}else{if(void 0==a.issuer||!a.serial)throw new t("cert or issuer and serial parameter not specified");e=a.issuer,n=a.serial}var l=new o([{dn:e}]),h=new r(n);return new i({array:[l,h]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!=e&&this.setByParam(e)},Ve(X.asn1.cms.IssuerSerial,X.asn1.ASN1Object),X.asn1.cms.SignerIdentifier=function(e){var t=X.asn1,n=(t.DERInteger,t.DERSequence,t.cms),r=n.IssuerAndSerialNumber,i=n.SubjectKeyIdentifier;t.x509.X500Name,Error;n.SignerIdentifier.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if("isssn"==e.type)return new r(e).tohex();if("skid"==e.type)return new i(e).tohex();throw new Error("wrong property for isssn or skid")},this.getEncodedHex=function(){return this.tohex()},void 0!=e&&this.setByParam(e)},Ve(X.asn1.cms.SignerIdentifier,X.asn1.ASN1Object),X.asn1.cms.IssuerAndSerialNumber=function(e){var t=X.asn1,n=t.DERInteger,r=t.DERSequence,i=t.cms,a=t.x509.X500Name,o=We,s=Error;i.IssuerAndSerialNumber.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e,t,i=this.params;if("string"==typeof i&&-1!=i.indexOf("-----BEGIN")||void 0!=i.cert){var u;u=void 0!=i.cert?i.cert:i;var c=new o;c.readCertPEM(u),e=c.getIssuer(),t={hex:c.getSerialNumberHex()}}else{if(void 0==i.issuer||!i.serial)throw new s("cert or issuer and serial parameter not specified");e=i.issuer,t=i.serial}var l=new a(e),h=new n(t);return new r({array:[l,h]}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},void 0!=e&&this.setByParam(e)},Ve(X.asn1.cms.IssuerAndSerialNumber,X.asn1.ASN1Object),X.asn1.cms.SubjectKeyIdentifier=function(e){var t=X.asn1,n=(t.DERInteger,t.DERSequence,t.ASN1Util.newObject),r=t.cms,i=(r.IssuerAndSerialName,r.SubjectKeyIdentifier,t.x509.X500Name,We),a=Error;r.SubjectKeyIdentifier.superclass.constructor.call(this),this.tohex=function(){var e,t=this.params;if(void 0==t.cert&&void 0==t.skid)throw new a("property cert nor skid undefined");void 0!=t.cert?e=new i(t.cert).getExtSubjectKeyIdentifier().kid.hex:void 0!=t.skid&&(e=t.skid);return n({tag:{tage:"a0",obj:{octstr:{hex:e}}}}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!=e&&this.setByParam(e)},Ve(X.asn1.cms.SubjectKeyIdentifier,X.asn1.ASN1Object),X.asn1.cms.AttributeList=function(e){var t=Error,n=X.asn1,r=n.DERSet,i=n.cms;i.AttributeList.superclass.constructor.call(this),this.params=null,this.hTLV=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e=this.params;if(null!=this.hTLV)return this.hTLV;var n=!0;void 0!=e.sortflag&&(n=e.sortflag);for(var a=e.array,o=[],s=0;s<a.length;s++){var u=a[s],c=u.attr;if("contentType"==c)o.push(new i.ContentType(u));else if("messageDigest"==c)o.push(new i.MessageDigest(u));else if("signingTime"==c)o.push(new i.SigningTime(u));else if("signingCertificate"==c)o.push(new i.SigningCertificate(u));else if("signingCertificateV2"==c)o.push(new i.SigningCertificateV2(u));else if("signaturePolicyIdentifier"==c)o.push(new X.asn1.cades.SignaturePolicyIdentifier(u));else{if("signatureTimeStamp"!=c&&"timeStampToken"!=c)throw new t("unknown attr: "+c);o.push(new X.asn1.cades.SignatureTimeStamp(u))}}var l=new r({array:o,sortflag:n});return this.hTLV=l.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!=e&&this.setByParam(e)},Ve(X.asn1.cms.AttributeList,X.asn1.ASN1Object),X.asn1.cms.SignerInfo=function(e){var t=Error,n=X,r=n.asn1,i=r.DERInteger,a=r.DEROctetString,o=r.DERSequence,s=r.DERTaggedObject,u=r.cms,c=u.SignerIdentifier,l=u.AttributeList,h=(u.ContentType,u.EncapsulatedContentInfo,u.MessageDigest,u.SignedData,r.x509.AlgorithmIdentifier),f=n.crypto,d=Ue;u.SignerInfo.superclass.constructor.call(this),this.params=null,this.sign=function(){var e=this.params,t=e.sigalg,n=new l(e.sattrs).tohex(),r=d.getKey(e.signkey),i=new f.Signature({alg:t});i.init(r),i.updateHex(n);var a=i.sign();e.sighex=a},this.tohex=function(){var e=this.params,n=[];if(n.push(new i({int:e.version})),n.push(new c(e.id)),n.push(new h({name:e.hashalg})),void 0!=e.sattrs){var r=new l(e.sattrs);try{n.push(new s({tag:"a0",explicit:!1,obj:r}))}catch(u){throw new t("si sattr error: "+u)}}if(void 0!=e.sigalgfield?n.push(new h({name:e.sigalgfield})):n.push(new h({name:e.sigalg})),void 0==e.sighex&&void 0!=e.signkey&&this.sign(),n.push(new a({hex:e.sighex})),void 0!=e.uattrs){r=new l(e.uattrs);try{n.push(new s({tag:"a1",explicit:!1,obj:r}))}catch(u){throw new t("si uattr error: "+u)}}return new o({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!=e&&this.setByParam(e)},Ve(X.asn1.cms.SignerInfo,X.asn1.ASN1Object),X.asn1.cms.EncapsulatedContentInfo=function(e){var t=X.asn1,n=t.DERTaggedObject,r=t.DERSequence,i=t.DERObjectIdentifier,a=t.DEROctetString;t.cms.EncapsulatedContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=[];if(t.push(new i(e.type)),void 0!=e.content&&(void 0!=e.content.hex||void 0!=e.content.str)&&1!=e.isDetached){var o=new a(e.content),s=new n({tag:"a0",explicit:!0,obj:o});t.push(s)}return new r({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},void 0!=e&&this.setByParam(e)},Ve(X.asn1.cms.EncapsulatedContentInfo,X.asn1.ASN1Object),X.asn1.cms.ContentInfo=function(e){var t=X.asn1,n=t.DERTaggedObject,r=t.DERSequence,i=t.DERObjectIdentifier;t.x509.OID.name2obj;X.asn1.cms.ContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=[];t.push(new i(e.type));var a=new n({tag:"a0",explicit:!0,obj:e.obj});return t.push(a),new r({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},void 0!=e&&this.setByParam(e)},Ve(X.asn1.cms.ContentInfo,X.asn1.ASN1Object),X.asn1.cms.SignedData=function(e){Error;var t=X.asn1,n=(t.ASN1Object,t.DERInteger),r=t.DERSet,i=t.DERSequence,a=(t.DERTaggedObject,t.cms),o=a.EncapsulatedContentInfo,s=a.SignerInfo,u=a.ContentInfo,c=a.CertificateSet,l=a.RevocationInfoChoices,h=t.x509.AlgorithmIdentifier;X.asn1.cms.SignedData.superclass.constructor.call(this),this.params=null,this.checkAndFixParam=function(){var e=this.params;this._setDigestAlgs(e),this._setContentTypeByEContent(e),this._setMessageDigestByEContent(e),this._setSignerInfoVersion(e),this._setSignedDataVersion(e)},this._setDigestAlgs=function(e){for(var t={},n=e.sinfos,r=0;r<n.length;r++){t[n[r].hashalg]=1}e.hashalgs=Object.keys(t).sort()},this._setContentTypeByEContent=function(e){for(var t=e.econtent.type,n=e.sinfos,r=0;r<n.length;r++){var i=n[r];this._getAttrParamByName(i,"contentType").type=t}},this._setMessageDigestByEContent=function(e){var t=e.econtent,n=(e.econtent.type,t.content.hex);void 0==n&&"data"==t.type&&void 0!=t.content.str&&(n=de(t.content.str));for(var r=e.sinfos,i=0;i<r.length;i++){var a=r[i],o=a.hashalg,s=this._getAttrParamByName(a,"messageDigest"),u=X.crypto.Util.hashHex(n,o);s.hex=u}},this._getAttrParamByName=function(e,t){for(var n=e.sattrs.array,r=0;r<n.length;r++)if(n[r].attr==t)return n[r]},this._setSignerInfoVersion=function(e){for(var t=e.sinfos,n=0;n<t.length;n++){var r=t[n],i=1;"skid"==r.id.type&&(i=3),r.version=i}},this._setSignedDataVersion=function(e){var t=this._getSignedDataVersion(e);e.version=t},this._getSignedDataVersion=function(e){if(void 0!=e.revinfos)for(var t=e.revinfos,n=0;n<t.length;n++){if(void 0!=t[n].ocsp)return 5}var r=e.sinfos;for(n=0;n<r.length;n++){if(3==e.sinfos[n].version)return 3}return"data"!=e.econtent.type?3:1},this.tohex=function(){var e=this.params;void 0!=this.getEncodedHexPrepare&&this.getEncodedHexPrepare(),1!=e.fixed&&this.checkAndFixParam();var t=[];t.push(new n({int:e.version}));for(var a=[],u=0;u<e.hashalgs.length;u++){var f=e.hashalgs[u];a.push(new h({name:f}))}t.push(new r({array:a})),t.push(new o(e.econtent)),void 0!=e.certs&&t.push(new c(e.certs)),void 0!=e.revinfos&&t.push(new l(e.revinfos));var d=[];for(u=0;u<e.sinfos.length;u++){var p=e.sinfos[u];d.push(new s(p))}return t.push(new r({array:d})),new i({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.getContentInfo=function(){return new u({type:"signed-data",obj:this})},this.getContentInfoEncodedHex=function(){return this.getContentInfo().tohex()},void 0!=e&&this.setByParam(e)},Ve(X.asn1.cms.SignedData,X.asn1.ASN1Object),X.asn1.cms.CertificateSet=function(e){X.asn1.cms.CertificateSet.superclass.constructor.call(this);var t=Error,n=X.asn1,r=n.DERTaggedObject,i=n.DERSet,a=n.ASN1Object;this.params=null,this.tohex=function(){var e,n=this.params,o=[];if(n instanceof Array)e=n;else{if(void 0==n.array)throw new t("cert array not specified");e=n.array}for(var s=0;s<e.length;s++){var u=me(e[s]),c=new a;c.hTLV=u,o.push(c)}var l={array:o};0==n.sortflag&&(l.sortflag=!1);var h=new i(l);return new r({tag:"a0",explicit:!1,obj:h}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!=e&&this.setByParam(e)},Ve(X.asn1.cms.CertificateSet,X.asn1.ASN1Object),X.asn1.cms.RevocationInfoChoices=function(e){X.asn1.cms.RevocationInfoChoices.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if(!e instanceof Array)throw new Error("params is not array");for(var t=[],n=0;n<e.length;n++)t.push(new X.asn1.cms.RevocationInfoChoice(e[n]));return X.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:{set:t}}}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!=e&&this.setByParam(e)},Ve(X.asn1.cms.RevocationInfoChoices,X.asn1.ASN1Object),X.asn1.cms.RevocationInfoChoice=function(e){X.asn1.cms.RevocationInfoChoice.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if(void 0!=e.crl&&"string"==typeof e.crl){var t=e.crl;return-1!=e.crl.indexOf("-----BEGIN")&&(t=me(e.crl)),t}if(void 0!=e.ocsp)return X.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:new X.asn1.cms.OtherRevocationFormat(e)}}).tohex();throw new Error("property crl or ocsp undefined")},this.getEncodedHex=function(){return this.tohex()},void 0!=e&&this.setByParam(e)},Ve(X.asn1.cms.RevocationInfoChoice,X.asn1.ASN1Object),X.asn1.cms.OtherRevocationFormat=function(e){X.asn1.cms.OtherRevocationFormat.superclass.constructor.call(this);var t=Error,n=X,r=n.asn1.ASN1Util.newObject,i=n.lang.String.isHex;this.params=null,this.tohex=function(){var e=this.params;if(void 0==e.ocsp)throw new t("property ocsp not specified");if(!i(e.ocsp)||!ee.isASN1HEX(e.ocsp))throw new t("ocsp value not ASN.1 hex string");return r({seq:[{oid:"1.3.6.1.5.5.7.16.2"},{asn1:{tlv:e.ocsp}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!=e&&this.setByParam(e)},Ve(X.asn1.cms.OtherRevocationFormat,X.asn1.ASN1Object),X.asn1.cms.CMSUtil=new function(){},X.asn1.cms.CMSUtil.newSignedData=function(e){return new X.asn1.cms.SignedData(e)},X.asn1.cms.CMSUtil.verifySignedData=function(e){var t=X,n=t.asn1,r=n.cms,i=(r.SignerInfo,r.SignedData,r.SigningTime,r.SigningCertificate,r.SigningCertificateV2,n.cades.SignaturePolicyIdentifier,t.lang.String.isHex),a=ee,o=a.getVbyList,s=a.getTLVbyList,u=a.getIdxbyList,c=a.getChildIdx,l=a.getTLV,h=a.oidname,f=t.crypto.Util.hashHex;void 0===e.cms&&i(e.cms);var d=e.cms,p=function(e,t){var n=t.idx;t.signerid_issuer1=s(e,n,[1,0],"30"),t.signerid_serial1=o(e,n,[1,1],"02"),t.hashalg=h(o(e,n,[2,0],"06"));var r=u(e,n,[3],"a0");t.idxSignedAttrs=r,v(e,t,r);var i=c(e,n).length;if(i<6)throw"malformed SignerInfo";t.sigalg=h(o(e,n,[i-2,0],"06")),t.sigval=o(e,n,[i-1],"04")},v=function(e,t,n){var r=c(e,n);t.signedAttrIdxList=r;for(var i=0;i<r.length;i++){var a,s=r[i],u=o(e,s,[0],"06");"2a864886f70d010905"===u?(a=le(o(e,s,[1,0])),t.saSigningTime=a):"2a864886f70d010904"===u&&(a=o(e,s,[1,0],"04"),t.saMessageDigest=a)}},g=function(e,t,n,r){n.verifyDetail={};var i=n.verifyDetail,a=t.parse.econtent,o=n.hashalg,s=n.saMessageDigest;i.validMessageDigest=!1,f(a,o)===s&&(i.validMessageDigest=!0),function(e,t,n,r){var i,a=t.parse.certsIdx;if(void 0===t.certs){i=[],t.certkeys=[];for(var o=c(e,a),s=0;s<o.length;s++){var u=l(e,o[s]),h=new We;h.readCertHex(u),i[s]=h,t.certkeys[s]=h.getPublicKey()}t.certs=i}else i=t.certs;for(t.cccc=i.length,t.cccci=o.length,s=0;s<i.length;s++){var f=h.getIssuerHex(),d=h.getSerialNumberHex();n.signerid_issuer1===f&&n.signerid_serial1===d&&(n.certkey_idx=s)}}(e,t,n),i.validSignatureValue=!1;var u=n.sigalg,h="31"+l(e,n.idxSignedAttrs).substr(2);n.signedattrshex=h;var d=t.certs[n.certkey_idx].getPublicKey(),p=new X.crypto.Signature({alg:u});p.init(d),p.updateHex(h);var v=p.verify(n.sigval);i.validSignatureValue_isValid=v,!0===v&&(i.validSignatureValue=!0),n.isValid=!1,i.validMessageDigest&&i.validSignatureValue&&(n.isValid=!0)},y={isValid:!1,parse:{}};return function(e,t){if("2a864886f70d010702"!==o(e,0,[0],"06"))return t;t.cmsType="signedData",t.econtent=o(e,0,[1,0,2,1,0]),function(e,t){for(var n,r=3;r<6;r++)if(void 0!==(n=u(e,0,[1,0,r]))){var i=e.substr(n,2);"a0"===i&&(t.certsIdx=n),"a1"===i&&(t.revinfosIdx=n),"31"===i&&(t.signerinfosIdx=n)}}(e,t),t.signerInfos=[],function(e,t){var n=t.signerinfosIdx;if(void 0!==n){var r=c(e,n);t.signerInfoIdxList=r;for(var i=0;i<r.length;i++){var a={idx:r[i]};p(e,a),t.signerInfos.push(a)}}}(e,t)}(d,y.parse),function(e,t){for(var n=t.parse.signerInfos,r=n.length,i=!0,a=0;a<r;a++){var o=n[a];g(e,t,o,a),o.isValid||(i=!1)}t.isValid=i}(d,y),y},X.asn1.cms.CMSParser=function(){var e=Error,t=We,n=new t,r=ee,i=r.getV,a=r.getTLV,o=(r.getIdxbyList,r.getTLVbyList),s=r.getTLVbyListEx,u=r.getVbyList,c=r.getVbyListEx,l=r.getChildIdx;this.getCMSSignedData=function(e){var t=o(e,0,[1,0]);return this.getSignedData(t)},this.getSignedData=function(e){var t=l(e,0),n={},r=i(e,t[0]),o=parseInt(r,16);n.version=o;var u=a(e,t[1]);n.hashalgs=this.getHashAlgArray(u);var c=a(e,t[2]);n.econtent=this.getEContent(c);var h=s(e,0,["[0]"]);null!=h&&(n.certs=this.getCertificateSet(h));s(e,0,["[1]"]);var f=s(e,0,[3]);return n.sinfos=this.getSignerInfos(f),n},this.getHashAlgArray=function(e){for(var n=l(e,0),r=new t,i=[],o=0;o<n.length;o++){var s=a(e,n[o]),u=r.getAlgorithmIdentifierName(s);i.push(u)}return i},this.getEContent=function(e){var t={},n=u(e,0,[0]),r=u(e,0,[1,0]);return t.type=X.asn1.x509.OID.oid2name(ee.hextooidstr(n)),t.content={hex:r},t},this.getSignerInfos=function(e){for(var t=[],n=l(e,0),r=0;r<n.length;r++){var i=a(e,n[r]),o=this.getSignerInfo(i);t.push(o)}return t},this.getSignerInfo=function(e){var t={},i=l(e,0),o=r.getInt(e,i[0],-1);-1!=o&&(t.version=o);var u=a(e,i[1]),h=this.getIssuerAndSerialNumber(u);t.id=h;var f=a(e,i[2]),d=n.getAlgorithmIdentifierName(f);t.hashalg=d;var p=s(e,0,["[0]"]);if(null!=p){var v=this.getAttributeList(p);t.sattrs=v}var g=s(e,0,[3]),y=n.getAlgorithmIdentifierName(g);t.sigalg=y;var m=c(e,0,[4]);t.sighex=m;var b=s(e,0,["[1]"]);if(null!=b){var w=this.getAttributeList(b);t.uattrs=w}return t},this.getSignerIdentifier=function(e){if("30"==e.substr(0,2))return this.getIssuerAndSerialNumber(e);throw new Error("SKID of signerIdentifier not supported")},this.getIssuerAndSerialNumber=function(e){var t={type:"isssn"},r=l(e,0),o=a(e,r[0]);t.issuer=n.getX500Name(o);var s=i(e,r[1]);return t.serial={hex:s},t},this.getAttributeList=function(e){for(var t=[],n=l(e,0),r=0;r<n.length;r++){var i=a(e,n[r]),o=this.getAttribute(i);t.push(o)}return{array:t}},this.getAttribute=function(e){var t={},n=l(e,0),i=r.getOID(e,n[0]),o=X.asn1.x509.OID.oid2name(i);t.attr=o;var s=a(e,n[1]),u=l(s,0);if(1==u.length)t.valhex=a(s,u[0]);else{for(var c=[],h=0;h<u.length;h++)c.push(a(s,u[h]));t.valhex=c}return"contentType"==o?this.setContentType(t):"messageDigest"==o?this.setMessageDigest(t):"signingTime"==o?this.setSigningTime(t):"signingCertificate"==o?this.setSigningCertificate(t):"signingCertificateV2"==o?this.setSigningCertificateV2(t):"signaturePolicyIdentifier"==o&&this.setSignaturePolicyIdentifier(t),t},this.setContentType=function(e){var t=r.getOIDName(e.valhex,0,null);null!=t&&(e.type=t,delete e.valhex)},this.setSigningTime=function(e){var t=le(i(e.valhex,0));e.str=t,delete e.valhex},this.setMessageDigest=function(e){var t=i(e.valhex,0);e.hex=t,delete e.valhex},this.setSigningCertificate=function(e){var t=l(e.valhex,0);if(t.length>0){for(var n=a(e.valhex,t[0]),r=l(n,0),i=[],o=0;o<r.length;o++){var s=a(n,r[o]),u=this.getESSCertID(s);i.push(u)}e.array=i}if(t.length>1){var c=a(e.valhex,t[1]);e.polhex=c}delete e.valhex},this.setSignaturePolicyIdentifier=function(e){var n=l(e.valhex,0);if(n.length>0){var o=r.getOID(e.valhex,n[0]);e.oid=o}if(n.length>1){var s=new t,u=l(e.valhex,n[1]),c=a(e.valhex,u[0]),h=s.getAlgorithmIdentifierName(c);e.alg=h;var f=i(e.valhex,u[1]);e.hash=f}delete e.valhex},this.setSigningCertificateV2=function(e){var t=l(e.valhex,0);if(t.length>0){for(var n=a(e.valhex,t[0]),r=l(n,0),i=[],o=0;o<r.length;o++){var s=a(n,r[o]),u=this.getESSCertIDv2(s);i.push(u)}e.array=i}if(t.length>1){var c=a(e.valhex,t[1]);e.polhex=c}delete e.valhex},this.getESSCertID=function(e){var t={},n=l(e,0);if(n.length>0){var r=i(e,n[0]);t.hash=r}if(n.length>1){var o=a(e,n[1]),s=this.getIssuerSerial(o);void 0!=s.serial&&(t.serial=s.serial),void 0!=s.issuer&&(t.issuer=s.issuer)}return t},this.getESSCertIDv2=function(t){var r={},o=l(t,0);if(o.length<1||3<o.length)throw new e("wrong number of elements");var s=0;if("30"==t.substr(o[0],2)){var u=a(t,o[0]);r.alg=n.getAlgorithmIdentifierName(u),s++}else r.alg="sha256";var c=i(t,o[s]);if(r.hash=c,o.length>s+1){var h=a(t,o[s+1]),f=this.getIssuerSerial(h);r.issuer=f.issuer,r.serial=f.serial}return r},this.getIssuerSerial=function(e){var t={},r=l(e,0),o=a(e,r[0]),s=n.getGeneralNames(o)[0].dn;t.issuer=s;var u=i(e,r[1]);return t.serial={hex:u},t},this.getCertificateSet=function(e){for(var t=l(e,0),n=[],r=0;r<t.length;r++){var i=a(e,t[r]);if("30"==i.substr(0,2)){var o=ye(i,"CERTIFICATE");n.push(o)}}return{array:n,sortflag:!1}}},"undefined"!=typeof X&&X||(X={}),"undefined"!=typeof X.asn1&&X.asn1||(X.asn1={}),"undefined"!=typeof X.asn1.tsp&&X.asn1.tsp||(X.asn1.tsp={}),X.asn1.tsp.TimeStampToken=function(e){var t=X.asn1.tsp;t.TimeStampToken.superclass.constructor.call(this),this.params=null,this.getEncodedHexPrepare=function(){var e=new t.TSTInfo(this.params.econtent.content);this.params.econtent.content.hex=e.tohex()},void 0!=e&&this.setByParam(e)},Ve(X.asn1.tsp.TimeStampToken,X.asn1.cms.SignedData),X.asn1.tsp.TSTInfo=function(e){Error;var t=X.asn1,n=t.DERSequence,r=t.DERInteger,i=t.DERBoolean,a=t.DERGeneralizedTime,o=t.DERObjectIdentifier,s=t.DERTaggedObject,u=t.tsp,c=u.MessageImprint,l=u.Accuracy,h=(t.x509.X500Name,t.x509.GeneralName);if(u.TSTInfo.superclass.constructor.call(this),this.dVersion=new r({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerial=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.tohex=function(){var e=[this.dVersion];if(null==this.dPolicy)throw new Error("policy shall be specified.");if(e.push(this.dPolicy),null==this.dMessageImprint)throw new Error("messageImprint shall be specified.");if(e.push(this.dMessageImprint),null==this.dSerial)throw new Error("serialNumber shall be specified.");if(e.push(this.dSerial),null==this.dGenTime)throw new Error("genTime shall be specified.");e.push(this.dGenTime),null!=this.dAccuracy&&e.push(this.dAccuracy),null!=this.dOrdering&&e.push(this.dOrdering),null!=this.dNonce&&e.push(this.dNonce),null!=this.dTsa&&e.push(this.dTsa);var t=new n({array:e});return this.hTLV=t.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e){if("string"==typeof e.policy){if(!e.policy.match(/^[0-9.]+$/))throw"policy shall be oid like 0.1.4.134";this.dPolicy=new o({oid:e.policy})}void 0!==e.messageImprint&&(this.dMessageImprint=new c(e.messageImprint)),void 0!==e.serial&&(this.dSerial=new r(e.serial)),void 0!==e.genTime&&(this.dGenTime=new a(e.genTime)),void 0!==e.accuracy&&(this.dAccuracy=new l(e.accuracy)),void 0!==e.ordering&&1==e.ordering&&(this.dOrdering=new i),void 0!==e.nonce&&(this.dNonce=new r(e.nonce)),void 0!==e.tsa&&(this.dTsa=new s({tag:"a0",explicit:!0,obj:new h({dn:e.tsa})}))}},Ve(X.asn1.tsp.TSTInfo,X.asn1.ASN1Object),X.asn1.tsp.Accuracy=function(e){var t=X.asn1,n=t.ASN1Util.newObject;t.tsp.Accuracy.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=[];return void 0!=e.seconds&&"number"==typeof e.seconds&&t.push({int:e.seconds}),void 0!=e.millis&&"number"==typeof e.millis&&t.push({tag:{tagi:"80",obj:{int:e.millis}}}),void 0!=e.micros&&"number"==typeof e.micros&&t.push({tag:{tagi:"81",obj:{int:e.micros}}}),n({seq:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!=e&&this.setByParam(e)},Ve(X.asn1.tsp.Accuracy,X.asn1.ASN1Object),X.asn1.tsp.MessageImprint=function(e){var t=X.asn1,n=t.DERSequence,r=t.DEROctetString,i=t.x509.AlgorithmIdentifier;t.tsp.MessageImprint.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=new i({name:e.alg}),a=new r({hex:e.hash});return new n({array:[t,a]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ve(X.asn1.tsp.MessageImprint,X.asn1.ASN1Object),X.asn1.tsp.TimeStampReq=function(e){var t=X.asn1,n=t.DERSequence,r=t.DERInteger,i=t.DERBoolean,a=(t.ASN1Object,t.DERObjectIdentifier),o=t.tsp,s=o.MessageImprint;o.TimeStampReq.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=[];return t.push(new r({int:1})),e.messageImprint instanceof X.asn1.ASN1Object?t.push(e.messageImprint):t.push(new s(e.messageImprint)),void 0!=e.policy&&t.push(new a(e.policy)),void 0!=e.nonce&&t.push(new r(e.nonce)),1==e.certreq&&t.push(new i),new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!=e&&this.setByParam(e)},Ve(X.asn1.tsp.TimeStampReq,X.asn1.ASN1Object),X.asn1.tsp.TimeStampResp=function(e){var t=X.asn1,n=t.DERSequence,r=(t.ASN1Object,t.tsp),i=r.PKIStatusInfo;r.TimeStampResp.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,a=[];if(void 0!=e.econtent||void 0!=e.tst)if(void 0!=e.statusinfo?a.push(new i(e.statusinfo)):a.push(new i("granted")),void 0!=e.econtent)a.push(new r.TimeStampToken(e).getContentInfo());else{if(!(e.tst instanceof t.ASN1Object))throw new Error("improper member tst value");a.push(e.tst)}else{if(void 0==e.statusinfo)throw new Error("parameter for token nor statusinfo not specified");a.push(new i(e.statusinfo))}return new n({array:a}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!=e&&this.setByParam(e)},Ve(X.asn1.tsp.TimeStampResp,X.asn1.ASN1Object),X.asn1.tsp.PKIStatusInfo=function(e){var t=Error,n=X.asn1,r=n.DERSequence,i=n.tsp,a=i.PKIStatus,o=i.PKIFreeText,s=i.PKIFailureInfo;i.PKIStatusInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,n=[];if("string"==typeof e)n.push(new a(e));else{if(void 0==e.status)throw new t("property 'status' unspecified");n.push(new a(e.status)),void 0!=e.statusstr&&n.push(new o(e.statusstr)),void 0!=e.failinfo&&n.push(new s(e.failinfo))}return new r({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!=e&&this.setByParam(e)},Ve(X.asn1.tsp.PKIStatusInfo,X.asn1.ASN1Object),X.asn1.tsp.PKIStatus=function(e){var t=Error,n=X.asn1,r=n.DERInteger;n.tsp.PKIStatus.superclass.constructor.call(this);var i={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5};this.params=null,this.tohex=function(){var e,n=this.params;if("string"==typeof n)try{e=i[n]}catch(a){throw new t("undefined name: "+n)}else{if("number"!=typeof n)throw new t("unsupported params");e=n}return new r({int:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!=e&&this.setByParam(e)},Ve(X.asn1.tsp.PKIStatus,X.asn1.ASN1Object),X.asn1.tsp.PKIFreeText=function(e){var t=Error,n=X.asn1,r=n.DERSequence,i=n.DERUTF8String;n.tsp.PKIFreeText.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if(!e instanceof Array)throw new t("wrong params: not array");for(var n=[],a=0;a<e.length;a++)n.push(new i({str:e[a]}));return new r({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!=e&&this.setByParam(e)},Ve(X.asn1.tsp.PKIFreeText,X.asn1.ASN1Object),X.asn1.tsp.PKIFailureInfo=function(e){var t=Error,n=X.asn1,r=n.DERBitString,i=n.tsp.PKIFailureInfo,a={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25};i.superclass.constructor.call(this),this.params=null,this.getBinValue=function(){var e=this.params,n=0;if("number"==typeof e&&0<=e&&e<=25){for(var r=(n|=1<<e).toString(2),i="",o=r.length-1;o>=0;o--)i+=r[o];return i}if("string"==typeof e&&void 0!=a[e])return He([e],a);if("object"==typeof e&&void 0!=e.length)return He(e,a);throw new t("wrong params")},this.tohex=function(){this.params;var e=this.getBinValue();return new r({bin:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!=e&&this.setByParam(e)},Ve(X.asn1.tsp.PKIFailureInfo,X.asn1.ASN1Object),X.asn1.tsp.AbstractTSAAdapter=function(e){this.getTSTHex=function(e,t){throw"not implemented yet"}},X.asn1.tsp.SimpleTSAAdapter=function(e){var t=X,n=t.asn1.tsp,r=t.crypto.Util.hashHex;n.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(e,t){var i=r(e,t);this.params.econtent.content.messageImprint={alg:t,hash:i},this.params.econtent.content.serial={int:this.serial++};var a=Math.floor(1e9*Math.random());return this.params.econtent.content.nonce={int:a},new n.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==e&&(this.params=e)},Ve(X.asn1.tsp.SimpleTSAAdapter,X.asn1.tsp.AbstractTSAAdapter),X.asn1.tsp.FixedTSAAdapter=function(e){var t=X,n=t.asn1.tsp,r=t.crypto.Util.hashHex;n.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(e,t){var i=r(e,t);return this.params.econtent.content.messageImprint={alg:t,hash:i},new n.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==e&&(this.params=e)},Ve(X.asn1.tsp.FixedTSAAdapter,X.asn1.tsp.AbstractTSAAdapter),X.asn1.tsp.TSPUtil=new function(){},X.asn1.tsp.TSPUtil.newTimeStampToken=function(e){return new X.asn1.tsp.TimeStampToken(e)},X.asn1.tsp.TSPUtil.parseTimeStampReq=function(e){return(new X.asn1.tsp.TSPParser).getTimeStampReq(e)},X.asn1.tsp.TSPUtil.parseMessageImprint=function(e){return(new X.asn1.tsp.TSPParser).getMessageImprint(e)},X.asn1.tsp.TSPParser=function(){Error;var e=new We,t=ee,n=t.getV,r=t.getTLV,i=t.getIdxbyList,a=(t.getTLVbyListEx,t.getChildIdx),o=["granted","grantedWithMods","rejection","waiting","revocationWarning","revocationNotification"],s={0:"badAlg",2:"badRequest",5:"badDataFormat",14:"timeNotAvailable",15:"unacceptedPolicy",16:"unacceptedExtension",17:"addInfoNotAvailable",25:"systemFailure"};this.getResponse=function(e){var t=a(e,0);if(1==t.length)return this.getPKIStatusInfo(r(e,t[0]));if(t.length>1){var n=this.getPKIStatusInfo(r(e,t[0])),i=r(e,t[1]),o=this.getToken(i);return o.statusinfo=n,o}},this.getToken=function(e){var t=(new X.asn1.cms.CMSParser).getCMSSignedData(e);return this.setTSTInfo(t),t},this.setTSTInfo=function(e){var t=e.econtent;if("tstinfo"==t.type){var n=t.content.hex,r=this.getTSTInfo(n);t.content=r}},this.getTSTInfo=function(t){var i={},o=a(t,0),s=n(t,o[1]);i.policy=De(s);var u=r(t,o[2]);i.messageImprint=this.getMessageImprint(u);var c=n(t,o[3]);i.serial={hex:c};var l=n(t,o[4]);i.genTime={str:le(l)};var h=0;if(o.length>5&&"30"==t.substr(o[5],2)){var f=r(t,o[5]);i.accuracy=this.getAccuracy(f),h++}o.length>5+h&&"01"==t.substr(o[5+h],2)&&("ff"==n(t,o[5+h])&&(i.ordering=!0),h++);if(o.length>5+h&&"02"==t.substr(o[5+h],2)){var d=n(t,o[5+h]);i.nonce={hex:d},h++}if(o.length>5+h&&"a0"==t.substr(o[5+h],2)){var p=r(t,o[5+h]);p="30"+p.substr(2),pGeneralNames=e.getGeneralNames(p);var v=pGeneralNames[0].dn;i.tsa=v,h++}if(o.length>5+h&&"a1"==t.substr(o[5+h],2)){var g=r(t,o[5+h]);g="30"+g.substr(2);var y=e.getExtParamArray(g);i.ext=y,h++}return i},this.getAccuracy=function(e){for(var t={},r=a(e,0),i=0;i<r.length;i++){var o=e.substr(r[i],2),s=n(e,r[i]),u=parseInt(s,16);"02"==o?t.seconds=u:"80"==o?t.millis=u:"81"==o&&(t.micros=u)}return t},this.getMessageImprint=function(e){if("30"!=e.substr(0,2))throw new Error("head of messageImprint hex shall be x30");var r={},o=(a(e,0),i(e,0,[0,0])),s=n(e,o),u=t.hextooidstr(s),c=X.asn1.x509.OID.oid2name(u);if(""==c)throw new Error("hashAlg name undefined: "+u);var l=c,h=i(e,0,[1]);return r.alg=l,r.hash=n(e,h),r},this.getPKIStatusInfo=function(e){var t={},i=a(e,0),s=0;try{var u=n(e,i[0]),c=parseInt(u,16);t.status=o[c]}catch(f){}if(i.length>1&&"30"==e.substr(i[1],2)){var l=r(e,i[1]);t.statusstr=this.getPKIFreeText(l),s++}if(i.length>s&&"03"==e.substr(i[1+s],2)){var h=r(e,i[1+s]);t.failinfo=this.getPKIFailureInfo(h)}return t},this.getPKIFreeText=function(e){for(var n=[],r=a(e,0),i=0;i<r.length;i++)n.push(t.getString(e,r[i]));return n},this.getPKIFailureInfo=function(e){var n=t.getInt(e,0);return void 0!=s[n]?s[n]:n},this.getTimeStampReq=function(e){var i={certreq:!1},o=a(e,0);if(o.length<2)throw new Error("TimeStampReq must have at least 2 items");var s=r(e,o[1]);i.messageImprint=X.asn1.tsp.TSPUtil.parseMessageImprint(s);for(var u=2;u<o.length;u++){var c=o[u],l=e.substr(c,2);if("06"==l){var h=n(e,c);i.policy=t.hextooidstr(h)}"02"==l&&(i.nonce=n(e,c)),"01"==l&&(i.certreq=!0)}return i}},"undefined"!=typeof X&&X||(X={}),"undefined"!=typeof X.asn1&&X.asn1||(X.asn1={}),"undefined"!=typeof X.asn1.cades&&X.asn1.cades||(X.asn1.cades={}),X.asn1.cades.SignaturePolicyIdentifier=function(e){var t=X.asn1.cades,n=t.SignaturePolicyId;t.SignaturePolicyIdentifier.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.15",this.params=null,this.getValueArray=function(){return[new n(this.params)]},this.setByParam=function(e){this.params=e},void 0!=e&&this.setByParam(e)},Ve(X.asn1.cades.SignaturePolicyIdentifier,X.asn1.cms.Attribute),X.asn1.cades.SignaturePolicyId=function(e){var t=X.asn1,n=t.DERSequence,r=t.DERObjectIdentifier,i=(t.x509.AlgorithmIdentifier,t.cades),a=i.SignaturePolicyId,o=i.OtherHashAlgAndValue;a.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=[];return t.push(new r(e.oid)),t.push(new o(e)),new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},void 0!=e&&this.setByParam(e)},Ve(X.asn1.cades.SignaturePolicyId,X.asn1.ASN1Object),X.asn1.cades.OtherHashAlgAndValue=function(e){var t=Error,n=X.asn1,r=n.DERSequence,i=n.DEROctetString,a=n.x509.AlgorithmIdentifier;n.cades.OtherHashAlgAndValue.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if(void 0==e.alg)throw new t("property 'alg' not specified");if(void 0==e.hash&&void 0==e.cert)throw new t("property 'hash' nor 'cert' not specified");var n=null;if(void 0!=e.hash)n=e.hash;else if(void 0!=e.cert){if("string"!=typeof e.cert)throw new t("cert not string");var o=e.cert;-1!=e.cert.indexOf("-----BEGIN")&&(o=me(e.cert)),n=X.crypto.Util.hashHex(o,e.alg)}var s=[];return s.push(new a({name:e.alg})),s.push(new i({hex:n})),new r({array:s}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!=e&&this.setByParam(e)},Ve(X.asn1.cades.OtherHashAlgAndValue,X.asn1.ASN1Object),X.asn1.cades.OtherHashValue=function(e){X.asn1.cades.OtherHashValue.superclass.constructor.call(this);var t=Error,n=X,r=(n.lang.String.isHex,n.asn1.DEROctetString);n.crypto.Util.hashHex;this.params=null,this.tohex=function(){var e=this.params;if(void 0==e.hash&&void 0==e.cert)throw new t("hash or cert not specified");var n=null;if(void 0!=e.hash)n=e.hash;else if(void 0!=e.cert){if("string"!=typeof e.cert)throw new t("cert not string");var i=e.cert;-1!=e.cert.indexOf("-----BEGIN")&&(i=me(e.cert)),n=X.crypto.Util.hashHex(i,"sha1")}return new r({hex:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!=e&&this.setByParam(e)},Ve(X.asn1.cades.OtherHashValue,X.asn1.ASN1Object),X.asn1.cades.SignatureTimeStamp=function(e){var t=Error,n=X,r=n.lang.String.isHex,i=n.asn1,a=i.ASN1Object;i.x509;i.cades.SignatureTimeStamp.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.14",this.params=null,this.getValueArray=function(){var e=this.params;if(void 0!=e.tst){if(r(e.tst))return(i=new a).hTLV=e.tst,[i];if(e.tst instanceof a)return[e.tst];throw new t("params.tst has wrong value")}if(void 0!=e.res){var n=e.res;if(n instanceof a&&(n=n.tohex()),"string"!=typeof n||!r(n))throw new t("params.res has wrong value");var i;ee.getTLVbyList(n,0,[1]);return(i=new a).hTLV=e.tst,[i]}},null!=e&&this.setByParam(e)},Ve(X.asn1.cades.SignatureTimeStamp,X.asn1.cms.Attribute),X.asn1.cades.CompleteCertificateRefs=function(e){var t=Error,n=X,r=n.asn1,i=r.DERSequence,a=r.cades,o=a.OtherCertID,s=n.lang.String.isHex;a.CompleteCertificateRefs.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.21",this.params=null,this.getValueArray=function(){for(var e=this.params,n=[],r=0;r<e.array.length;r++){var a=e.array[r];if("string"==typeof a)if(-1!=a.indexOf("-----BEGIN"))a={cert:a};else{if(!s(a))throw new t("unsupported value: "+a);a={hash:a}}void 0!=e.alg&&void 0==a.alg&&(a.alg=e.alg),void 0!=e.hasis&&void 0==a.hasis&&(a.hasis=e.hasis);var u=new o(a);n.push(u)}return[new i({array:n})]},void 0!=e&&this.setByParam(e)},Ve(X.asn1.cades.CompleteCertificateRefs,X.asn1.cms.Attribute),X.asn1.cades.OtherCertID=function(e){var t=X.asn1,n=t.DERSequence,r=t.cms.IssuerSerial,i=t.cades,a=i.OtherHashValue,o=i.OtherHashAlgAndValue;i.OtherCertID.superclass.constructor.call(this),this.params=e,this.tohex=function(){var e=this.params;"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?e={cert:e}:_isHex(e)&&(e={hash:e}));var t=[],i=null;if(i=void 0!=e.alg?new o(e):new a(e),t.push(i),void 0!=e.cert&&1==e.hasis||void 0!=e.issuer&&void 0!=e.serial){var s=new r(e);t.push(s)}return new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!=e&&this.setByParam(e)},Ve(X.asn1.cades.OtherCertID,X.asn1.ASN1Object),X.asn1.cades.OtherHash=function(e){Error;var t=X,n=t.asn1,r=(n.cms,n.cades),i=r.OtherHashAlgAndValue,a=r.OtherHashValue,o=(t.crypto.Util.hashHex,t.lang.String.isHex);r.OtherHash.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?e={cert:e}:o(e)&&(e={hash:e}));return(void 0!=e.alg?new i(e):new a(e)).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!=e&&this.setByParam(e)},Ve(X.asn1.cades.OtherHash,X.asn1.ASN1Object),X.asn1.cades.CAdESUtil=new function(){},X.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(e){return(new X.asn1.cms.CMSParser).getCMSSignedData(e)},X.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(e,t,n){var r=ee,i=r.getChildIdx,a=r.getTLV,o=r.getV,s=X.asn1,u=s.ASN1Object,c=s.cms,l=c.AttributeList,h=c.SignerInfo,f={},d=i(e,t);if(6!=d.length)throw"not supported items for SignerInfo (!=6)";var p=d.shift();f.version=a(e,p);var v=d.shift();f.si=a(e,v);var g=d.shift();f.digalg=a(e,g);var y=d.shift();f.sattrs=a(e,y);var m=d.shift();f.sigalg=a(e,m);var b=d.shift();f.sig=a(e,b),f.sigval=o(e,b);var w=null;return f.obj=new h,(w=new u).hTLV=f.version,f.obj.dCMSVersion=w,(w=new u).hTLV=f.si,f.obj.dSignerIdentifier=w,(w=new u).hTLV=f.digalg,f.obj.dDigestAlgorithm=w,(w=new u).hTLV=f.sattrs,f.obj.dSignedAttrs=w,(w=new u).hTLV=f.sigalg,f.obj.dSigAlg=w,(w=new u).hTLV=f.sig,f.obj.dSig=w,f.obj.dUnsignedAttrs=new l,f},"undefined"!=typeof X.asn1.csr&&X.asn1.csr||(X.asn1.csr={}),X.asn1.csr.CertificationRequest=function(e){var t=X.asn1,n=t.DERBitString,r=t.DERSequence,i=t.csr,a=(t.x509,i.CertificationRequestInfo);i.CertificationRequest.superclass.constructor.call(this),this.setByParam=function(e){this.params=e},this.sign=function(){var e=new a(this.params).tohex(),t=new X.crypto.Signature({alg:this.params.sigalg});t.init(this.params.sbjprvkey),t.updateHex(e);var n=t.sign();this.params.sighex=n},this.getPEM=function(){return ye(this.tohex(),"CERTIFICATE REQUEST")},this.tohex=function(){var e=this.params,t=new X.asn1.csr.CertificationRequestInfo(this.params),i=new X.asn1.x509.AlgorithmIdentifier({name:e.sigalg});if(void 0==e.sighex&&void 0!=e.sbjprvkey&&this.sign(),void 0==e.sighex)throw new Error("sighex or sbjprvkey parameter not defined");var a=new n({hex:"00"+e.sighex});return new r({array:[t,i,a]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ve(X.asn1.csr.CertificationRequest,X.asn1.ASN1Object),X.asn1.csr.CertificationRequestInfo=function(e){var t=X.asn1,n=(t.DERBitString,t.DERSequence),r=t.DERInteger,i=t.DERUTF8String,a=t.DERTaggedObject,o=t.ASN1Util.newObject,s=t.csr,u=t.x509,c=u.X500Name,l=u.Extensions,h=u.SubjectPublicKeyInfo;s.AttributeList;s.CertificationRequestInfo.superclass.constructor.call(this),this.params=null,this.setByParam=function(e){void 0!=e&&(this.params=e)},this.tohex=function(){var e=this.params,t=[];if(t.push(new r({int:0})),t.push(new c(e.subject)),t.push(new h(Ue.getKey(e.sbjpubkey))),void 0!=e.attrs){var s=function(e){for(var t=Error,n=X.asn1.x509.Extensions,r=[],i=0;i<e.length;i++){var a=e[i],o=a.attr;if("extensionRequest"==o){var s={seq:[{oid:"1.2.840.113549.1.9.14"},{set:[new n(a.ext)]}]};r.push(s)}else if("unstructuredName"==o){s={seq:[{oid:"1.2.840.113549.1.9.2"},{set:a.names}]};r.push(s)}else{if("challengePassword"!=o)throw new t("unknown CSR attribute");s={seq:[{oid:"1.2.840.113549.1.9.7"},{set:[{utf8str:a.password}]}]};r.push(s)}}return{set:r}}(e.attrs),u=o({tag:{tage:"a0",obj:s}});t.push(u)}else if(void 0!=e.extreq){var f=new l(e.extreq);u=o({tag:{tage:"a0",obj:{seq:[{oid:"1.2.840.113549.1.9.14"},{set:[f]}]}}});t.push(u)}else t.push(new a({tag:"a0",explicit:!1,obj:new i({str:""})}));return new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!=e&&this.setByParam(e)},Ve(X.asn1.csr.CertificationRequestInfo,X.asn1.ASN1Object),X.asn1.csr.AttributeList=function(e){},Ve(X.asn1.csr.AttributeList,X.asn1.ASN1Object),X.asn1.csr.CSRUtil=new function(){},X.asn1.csr.CSRUtil.newCSRPEM=function(e){return new X.asn1.csr.CertificationRequest(e).getPEM()},X.asn1.csr.CSRUtil.getParam=function(e,t){var n=ee,r=n.getV,i=n.getIdxbyList,a=n.getTLVbyList,o=n.getTLVbyListEx,s=n.getVbyListEx,u={};if(-1==e.indexOf("-----BEGIN CERTIFICATE REQUEST"))throw new Error("argument is not PEM file");var c=me(e,"CERTIFICATE REQUEST");t&&(u.tbs=a(c,0,[0]));try{var l=o(c,0,[0,1]);if("3000"==l)u.subject={};else{var h=new We;u.subject=h.getX500Name(l)}}catch(y){}var f=o(c,0,[0,2]),d=Ue.getKey(f,null,"pkcs8pub");u.sbjpubkey=Ue.getPEM(d,"PKCS8PUB");var p=function(e){var t=i(e,0,[0,3,0,0],"06");return"2a864886f70d01090e"!=r(e,t)?null:a(e,0,[0,3,0,1,0],"30")}(c);h=new We;null!=p&&(u.extreq=h.getExtParamArray(p));try{var v=o(c,0,[1],"30");h=new We;u.sigalg=h.getAlgorithmIdentifierName(v)}catch(y){}try{var g=s(c,0,[2]);u.sighex=g}catch(y){}return u},X.asn1.csr.CSRUtil.verifySignature=function(e){try{var t=null;if("string"==typeof e&&-1!=e.indexOf("-----BEGIN CERTIFICATE REQUEST")?t=X.asn1.csr.CSRUtil.getParam(e,!0):"object"==typeof e&&void 0!=e.sbjpubkey&&void 0!=e.sigalg&&void 0!=e.sighex&&void 0!=e.tbs&&(t=e),null==t)return!1;var n=new X.crypto.Signature({alg:t.sigalg});return n.init(t.sbjpubkey),n.updateHex(t.tbs),n.verify(t.sighex)}catch(r){return alert(r),!1}},"undefined"!=typeof X&&X||(X={}),"undefined"!=typeof X.asn1&&X.asn1||(X.asn1={}),"undefined"!=typeof X.asn1.ocsp&&X.asn1.ocsp||(X.asn1.ocsp={}),X.asn1.ocsp.DEFAULT_HASH="sha1",X.asn1.ocsp.OCSPResponse=function(e){X.asn1.ocsp.OCSPResponse.superclass.constructor.call(this);X.asn1.DEREnumerated;var t=X.asn1.ASN1Util.newObject,n=X.asn1.ocsp.ResponseBytes,r=["successful","malformedRequest","internalError","tryLater","_not_used_","sigRequired","unauthorized"];this.params=null,this._getStatusCode=function(){var e=this.params.resstatus;return"number"==typeof e?e:"string"!=typeof e?-1:r.indexOf(e)},this.setByParam=function(e){this.params=e},this.tohex=function(){var e=this.params,r=this._getStatusCode();if(-1==r)throw new Error("responseStatus not supported: "+e.resstatus);if(0!=r)return t({seq:[{enum:{int:r}}]}).tohex();var i=new n(e);return t({seq:[{enum:{int:0}},{tag:{tag:"a0",explicit:!0,obj:i}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ve(X.asn1.ocsp.OCSPResponse,X.asn1.ASN1Object),X.asn1.ocsp.ResponseBytes=function(e){X.asn1.ocsp.ResponseBytes.superclass.constructor.call(this);var t=X.asn1,n=t.DERSequence,r=t.DERObjectIdentifier,i=t.DEROctetString,a=t.ocsp.BasicOCSPResponse;this.params=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e=this.params;if("ocspBasic"!=e.restype)throw new Error("not supported responseType: "+e.restype);var t=new a(e),o=[];return o.push(new r({name:"ocspBasic"})),o.push(new i({hex:t.tohex()})),new n({array:o}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ve(X.asn1.ocsp.ResponseBytes,X.asn1.ASN1Object),X.asn1.ocsp.BasicOCSPResponse=function(e){X.asn1.ocsp.BasicOCSPResponse.superclass.constructor.call(this);var t=Error,n=X.asn1,r=n.ASN1Object,i=n.DERSequence,a=(n.DERGeneralizedTime,n.DERTaggedObject),o=n.DERBitString,s=(n.x509.Extensions,n.x509.AlgorithmIdentifier),u=n.ocsp;u.ResponderID;_SingleResponseList=u.SingleResponseList,_ResponseData=u.ResponseData,this.params=null,this.setByParam=function(e){this.params=e},this.sign=function(){var e=this.params,t=e.tbsresp.tohex(),n=new X.crypto.Signature({alg:e.sigalg});n.init(e.reskey),n.updateHex(t),e.sighex=n.sign()},this.tohex=function(){var e=this.params;void 0==e.tbsresp&&(e.tbsresp=new _ResponseData(e)),void 0==e.sighex&&void 0!=e.reskey&&this.sign();var n=[];if(n.push(e.tbsresp),n.push(new s({name:e.sigalg})),n.push(new o({hex:"00"+e.sighex})),void 0!=e.certs&&void 0!=e.certs.length){for(var u=[],c=0;c<e.certs.length;c++){var l=e.certs[c],h=null;if(ee.isASN1HEX(l))h=l;else{if(!l.match(/-----BEGIN/))throw new t("certs["+c+"] not hex or PEM");h=me(l)}u.push(new r({tlv:h}))}var f=new i({array:u});n.push(new a({tag:"a0",explicit:!0,obj:f}))}return new i({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ve(X.asn1.ocsp.BasicOCSPResponse,X.asn1.ASN1Object),X.asn1.ocsp.ResponseData=function(e){X.asn1.ocsp.ResponseData.superclass.constructor.call(this);var t=Error,n=X.asn1,r=n.DERSequence,i=n.DERGeneralizedTime,a=n.DERTaggedObject,o=n.x509.Extensions,s=n.ocsp,u=s.ResponderID;_SingleResponseList=s.SingleResponseList,this.params=null,this.tohex=function(){var e=this.params;void 0!=e.respid&&new t("respid not specified"),void 0!=e.prodat&&new t("prodat not specified"),void 0!=e.array&&new t("array not specified");var n=[];if(n.push(new u(e.respid)),n.push(new i(e.prodat)),n.push(new _SingleResponseList(e.array)),void 0!=e.ext){var s=new o(e.ext);n.push(new a({tag:"a1",explicit:!0,obj:s}))}return new r({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},Ve(X.asn1.ocsp.ResponseData,X.asn1.ASN1Object),X.asn1.ocsp.ResponderID=function(e){X.asn1.ocsp.ResponderID.superclass.constructor.call(this);var t=X,n=t.asn1,r=n.ASN1Util.newObject,i=n.x509.X500Name,a=t.lang.String.isHex,o=Error;this.params=null,this.tohex=function(){var e=this.params;if(void 0!=e.key){var t,n=null;if("string"==typeof e.key){if(a(e.key)&&(n=e.key),e.key.match(/-----BEGIN CERTIFICATE/))null!=(t=new We(e.key).getExtSubjectKeyIdentifier())&&(n=t.kid.hex)}else if(e.key instanceof We)null!=(t=e.key.getExtSubjectKeyIdentifier())&&(n=t.kid.hex);if(null==n)throw new o("wrong key member value");return r({tag:{tag:"a2",explicit:!0,obj:{octstr:{hex:n}}}}).tohex()}if(void 0!=e.name){var s=null;if("string"==typeof e.name&&e.name.match(/-----BEGIN CERTIFICATE/))s=new We(e.name).getSubject();else e.name instanceof We?s=e.name.getSubject():"object"!=typeof e.name||void 0==e.name.array&&void 0==e.name.str||(s=e.name);if(null==s)throw new o("wrong name member value");return r({tag:{tag:"a1",explicit:!0,obj:new i(s)}}).tohex()}throw new o("key or name not specified")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},Ve(X.asn1.ocsp.ResponderID,X.asn1.ASN1Object),X.asn1.ocsp.SingleResponseList=function(e){X.asn1.ocsp.SingleResponseList.superclass.constructor.call(this);var t=X.asn1,n=t.DERSequence,r=t.ocsp.SingleResponse;this.params=null,this.tohex=function(){var e=this.params;if("object"!=typeof e||void 0==e.length)throw new Error("params not specified properly");for(var t=[],i=0;i<e.length;i++)t.push(new r(e[i]));return new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},Ve(X.asn1.ocsp.SingleResponseList,X.asn1.ASN1Object),X.asn1.ocsp.SingleResponse=function(e){var t=Error,n=X.asn1,r=n.DERSequence,i=n.DERGeneralizedTime,a=n.DERTaggedObject,o=n.ocsp,s=o.CertID,u=o.CertStatus,c=n.x509.Extensions;o.SingleResponse.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,n=[];if(void 0==e.certid)throw new t("certid unspecified");if(void 0==e.status)throw new t("status unspecified");if(void 0==e.thisupdate)throw new t("thisupdate unspecified");if(n.push(new s(e.certid)),n.push(new u(e.status)),n.push(new i(e.thisupdate)),void 0!=e.nextupdate){var o=new i(e.nextupdate);n.push(new a({tag:"a0",explicit:!0,obj:o}))}if(void 0!=e.ext){var l=new c(e.ext);n.push(new a({tag:"a1",explicit:!0,obj:l}))}return new r({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},Ve(X.asn1.ocsp.SingleResponse,X.asn1.ASN1Object),X.asn1.ocsp.CertID=function(e){var t=X,n=t.asn1,r=n.DEROctetString,i=n.DERInteger,a=n.DERSequence,o=n.x509.AlgorithmIdentifier,s=n.ocsp,u=(s.DEFAULT_HASH,t.crypto.Util.hashHex),c=We,l=ee.getVbyList;s.CertID.superclass.constructor.call(this),this.DEFAULT_HASH="sha1",this.params=null,this.setByValue=function(e,t,n,r){void 0==r&&(r=this.DEFAULT_HASH),this.params={alg:r,issname:e,isskey:t,sbjsn:n}},this.setByCert=function(e,t,n){void 0==n&&(n=this.DEFAULT_HASH),this.params={alg:n,issuerCert:e,subjectCert:t}},this.getParamByCerts=function(e,t,n){void 0==n&&(n=this.DEFAULT_HASH);var r=new c(e),i=new c(t),a=u(r.getSubjectHex(),n),o=r.getPublicKeyHex();return{alg:n,issname:a,isskey:u(l(o,0,[1],"03",!0),n),sbjsn:i.getSerialNumberHex()}},this.tohex=function(){if("object"!=typeof this.params)throw new Error("params not set");var e,t,n,s,u=this.params;if(s=void 0==u.alg?this.DEFAULT_HASH:u.alg,void 0!=u.issuerCert&&void 0!=u.subjectCert){var c=this.getParamByCerts(u.issuerCert,u.subjectCert,s);e=c.issname,t=c.isskey,n=c.sbjsn}else{if(void 0==u.issname||void 0==u.isskey||void 0==u.sbjsn)throw new Error("required param members not defined");e=u.issname,t=u.isskey,n=u.sbjsn}var l=new o({name:s}),h=new r({hex:e}),f=new r({hex:t}),d=new i({hex:n}),p=new a({array:[l,h,f,d]});return this.hTLV=p.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ve(X.asn1.ocsp.CertID,X.asn1.ASN1Object),X.asn1.ocsp.CertStatus=function(e){X.asn1.ocsp.CertStatus.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if("good"==e.status)return"8000";if("unknown"==e.status)return"8200";if("revoked"==e.status){var t=[{gentime:{str:e.time}}];void 0!=e.reason&&t.push({tag:{tag:"a0",explicit:!0,obj:{enum:{int:e.reason}}}});var n={tag:"a1",explicit:!1,obj:{seq:t}};return X.asn1.ASN1Util.newObject({tag:n}).tohex()}throw new Error("bad status")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},Ve(X.asn1.ocsp.CertStatus,X.asn1.ASN1Object),X.asn1.ocsp.Request=function(e){var t=X.asn1,n=t.DERSequence,r=t.ocsp;if(r.Request.superclass.constructor.call(this),this.dReqCert=null,this.dExt=null,this.tohex=function(){var e=[];if(null===this.dReqCert)throw"reqCert not set";e.push(this.dReqCert);var t=new n({array:e});return this.hTLV=t.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},"undefined"!==typeof e){var i=new r.CertID(e);this.dReqCert=i}},Ve(X.asn1.ocsp.Request,X.asn1.ASN1Object),X.asn1.ocsp.TBSRequest=function(e){var t=X.asn1,n=t.DERSequence,r=t.ocsp;r.TBSRequest.superclass.constructor.call(this),this.version=0,this.dRequestorName=null,this.dRequestList=[],this.dRequestExt=null,this.setRequestListByParam=function(e){for(var t=[],n=0;n<e.length;n++){var i=new r.Request(e[0]);t.push(i)}this.dRequestList=t},this.tohex=function(){var e=[];if(0!==this.version)throw"not supported version: "+this.version;if(null!==this.dRequestorName)throw"requestorName not supported";var t=new n({array:this.dRequestList});if(e.push(t),null!==this.dRequestExt)throw"requestExtensions not supported";var r=new n({array:e});return this.hTLV=r.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&void 0!==e.reqList&&this.setRequestListByParam(e.reqList)},Ve(X.asn1.ocsp.TBSRequest,X.asn1.ASN1Object),X.asn1.ocsp.OCSPRequest=function(e){var t=X.asn1,n=t.DERSequence,r=t.ocsp;if(r.OCSPRequest.superclass.constructor.call(this),this.dTbsRequest=null,this.dOptionalSignature=null,this.tohex=function(){var e=[];if(null===this.dTbsRequest)throw"tbsRequest not set";if(e.push(this.dTbsRequest),null!==this.dOptionalSignature)throw"optionalSignature not supported";var t=new n({array:e});return this.hTLV=t.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&void 0!==e.reqList){var i=new r.TBSRequest(e);this.dTbsRequest=i}},Ve(X.asn1.ocsp.OCSPRequest,X.asn1.ASN1Object),X.asn1.ocsp.OCSPUtil={},X.asn1.ocsp.OCSPUtil.getRequestHex=function(e,t,n){var r=X.asn1.ocsp;void 0===n&&(n=r.DEFAULT_HASH);var i={alg:n,issuerCert:e,subjectCert:t};return new r.OCSPRequest({reqList:[i]}).tohex()},X.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(e){var t=ee,n=t.getVbyList,r=t.getVbyListEx,i=t.getIdxbyList,a=(t.getIdxbyListEx,t.getV),o={};try{var s=r(e,0,[0],"0a");o.responseStatus=parseInt(s,16)}catch(h){}if(0!==o.responseStatus)return o;try{var u=i(e,0,[1,0,1,0,0,2,0,1]);"80"===e.substr(u,2)?o.certStatus="good":"a1"===e.substr(u,2)?(o.certStatus="revoked",o.revocationTime=le(n(e,u,[0]))):"82"===e.substr(u,2)&&(o.certStatus="unknown")}catch(h){}try{var c=i(e,0,[1,0,1,0,0,2,0,2]);o.thisUpdate=le(a(e,c))}catch(h){}try{var l=i(e,0,[1,0,1,0,0,2,0,3]);"a0"===e.substr(l,2)&&(o.nextUpdate=le(n(e,l,[0])))}catch(h){}return o},X.asn1.ocsp.OCSPParser=function(){var e=Error,t=We,n=new t,r=ee,i=r.getV,a=r.getTLV,o=r.getIdxbyList,s=r.getVbyList,u=r.getTLVbyList,c=r.getVbyListEx,l=r.getTLVbyListEx,h=r.getChildIdx;this.getOCSPRequest=function(t){var n=h(t,0);if(1!=n.length&&2!=n.length)throw new e("wrong number elements: "+n.length);return this.getTBSRequest(a(t,n[0]))},this.getTBSRequest=function(e){var t={},r=l(e,0,[0],"30");t.array=this.getRequestList(r);var i=l(e,0,["[2]",0],"30");return null!=i&&(t.ext=n.getExtParamArray(i)),t},this.getRequestList=function(e){for(var t=[],n=h(e,0),r=0;r<n.length;r++){e=a(e,n[r]);t.push(this.getRequest(e))}return t},this.getRequest=function(t){var r=h(t,0);if(1!=r.length&&2!=r.length)throw new e("wrong number elements: "+r.length);var i=this.getCertID(a(t,r[0]));if(2==r.length){var s=o(t,0,[1,0]);i.ext=n.getExtParamArray(a(t,s))}return i},this.getCertID=function(n){var r=h(n,0);if(4!=r.length)throw new e("wrong number elements: "+r.length);var o=new t,s={};return s.alg=o.getAlgorithmIdentifierName(a(n,r[0])),s.issname=i(n,r[1]),s.isskey=i(n,r[2]),s.sbjsn=i(n,r[3]),s},this.getOCSPResponse=function(e){var t,n=h(e,0),r=i(e,n[0]),a=parseInt(r);if(1==n.length)return{resstatus:a};var o=u(e,0,[1,0]);return(t=this.getResponseBytes(o)).resstatus=a,t},this.getResponseBytes=function(e){var t,n=h(e,0),r=u(e,0,[1,0]);t=this.getBasicOCSPResponse(r);var a=i(e,n[0]);return t.restype=X.asn1.x509.OID.oid2name(De(a)),t},this.getBasicOCSPResponse=function(e){var t,n=h(e,0);t=this.getResponseData(a(e,n[0]));var r=new We;t.alg=r.getAlgorithmIdentifierName(a(e,n[1]));var o=i(e,n[2]);t.sighex=o.substr(2);var s=c(e,0,["[0]"]);if(null!=s){for(var u=h(s,0),l=[],f=0;f<u.length;f++){var d=a(s,u[f]);l.push(d)}t.certs=l}return t},this.getResponseData=function(e){var t=h(e,0),n=t.length,r={},o=0;"a0"==e.substr(t[0],2)&&o++,r.respid=this.getResponderID(a(e,t[o++]));var s=i(e,t[o++]);if(r.prodat=le(s),r.array=this.getSingleResponseList(a(e,t[o++])),"a1"==e.substr(t[n-1],2)){var c=u(e,t[n-1],[0]),l=new We;r.ext=l.getExtParamArray(c)}return r},this.getResponderID=function(e){var t={};if("a2"==e.substr(0,2)){var n=s(e,0,[0]);t.key=n}if("a1"==e.substr(0,2)){var r=u(e,0,[0]),i=new We;t.name=i.getX500Name(r)}return t},this.getSingleResponseList=function(e){for(var t=h(e,0),n=[],r=0;r<t.length;r++){var i=this.getSingleResponse(a(e,t[r]));n.push(i)}return n},this.getSingleResponse=function(e){var t=h(e,0),n={},r=this.getCertID(a(e,t[0]));n.certid=r;var o=this.getCertStatus(a(e,t[1]));if(n.status=o,"18"==e.substr(t[2],2)){var c=i(e,t[2]);n.thisupdate=le(c)}for(var l=3;l<t.length;l++){if("a0"==e.substr(t[l],2)){var f=s(e,t[l],[0],"18");n.nextupdate=le(f)}if("a1"==e.substr(t[l],2)){var d=new We,p=u(e,0,[l,0]);n.ext=d.getExtParamArray(p)}}return n},this.getCertStatus=function(e){var t={};if("8000"==e)return{status:"good"};if("8200"==e)return{status:"unknown"};if("a1"==e.substr(0,2)){t.status="revoked";var n=le(s(e,0,[0]));t.time=n}return t}},"undefined"!=typeof X&&X||(X={}),"undefined"!=typeof X.lang&&X.lang||(X.lang={}),X.lang.String=function(){},"function"===typeof Buffer?(Q=function(e){return ae(Buffer.from(e,"utf8").toString("base64"))},Z=function(e){return Buffer.from(oe(e),"base64").toString("utf8")}):(Q=function(e){return se(xe(Te(e)))},Z=function(e){return decodeURIComponent(_e(ue(e)))}),X.lang.String.isInteger=function(e){return!!e.match(/^[0-9]+$/)||!!e.match(/^-[0-9]+$/)},X.lang.String.isHex=function(e){return Fe(e)},X.lang.String.isBase64=function(e){return!(!(e=e.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||e.length%4!=0)},X.lang.String.isBase64URL=function(e){return!e.match(/[+/=]/)&&(e=oe(e),X.lang.String.isBase64(e))},X.lang.String.isIntegerArray=function(e){return!!(e=e.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},X.lang.String.isPrintable=function(e){return null!==e.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},X.lang.String.isIA5=function(e){return null!==e.match(/^[\x20-\x21\x23-\x7f]*$/)},X.lang.String.isMail=function(e){return null!==e.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};function Ne(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",r=parseInt(e,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var a="",o=0;o<i;o++)a+="0";r=a+r;for(o=0;o<r.length-1;o+=7){var s=r.substr(o,7);o!=r.length-7&&(s="1"+s),n+=t(parseInt(s,2))}return n};try{if(!e.match(/^[0-9.]+$/))return null;var r="",i=e.split("."),a=40*parseInt(i[0],10)+parseInt(i[1],10);r+=t(a),i.splice(0,2);for(var o=0;o<i.length;o++)r+=n(i[o]);return r}catch(s){return null}}function De(e){if(!Fe(e))return null;try{var t=[],n=e.substr(0,2),r=parseInt(n,16);t[0]=new String(Math.floor(r/40)),t[1]=new String(r%40);for(var i=e.substr(2),a=[],o=0;o<i.length/2;o++)a.push(parseInt(i.substr(2*o,2),16));var s=[],u="";for(o=0;o<a.length;o++)128&a[o]?u+=je((127&a[o]).toString(2),7):(u+=je((127&a[o]).toString(2),7),s.push(new String(parseInt(u,2))),u="");var c=t.join(".");return s.length>0&&(c=c+"."+s.join(".")),c}catch(l){return null}}var je=function(e,t,n){return void 0==n&&(n="0"),e.length>=t?e:new Array(t-e.length+1).join(n)+e};function Le(e){if(e.length%2!=0)return-1;if(null==(e=e.toLowerCase()).match(/^[0-9a-f]+$/))return-1;try{var t=e.substr(0,2);if("00"==t)return parseInt(e.substr(2),16);var n=parseInt(t,16);if(n>7)return-1;var r=e.substr(2),i=parseInt(r,16).toString(2);"0"==i&&(i="00000000"),i=i.slice(0,0-n);var a=parseInt(i,2);return NaN==a?-1:a}catch(o){return-1}}function Be(e){if("number"!=typeof e)return null;if(e<0)return null;var t=Number(e).toString(2),n=8-t.length%8;8==n&&(n=0),t+=je("",n,"0");var r=parseInt(t,2).toString(16);return r.length%2==1&&(r="0"+r),"0"+n+r}function Me(e){if("string"!=typeof e)return null;if(e.length%2!=0)return null;if(!e.match(/^[0-9a-f]+$/))return null;try{var t=parseInt(e.substr(0,2),16);if(t<0||7<t)return null;for(var n=e.substr(2),r="",i=0;i<n.length;i+=2){var a=n.substr(i,2),o=parseInt(a,16).toString(2);r+=o=("0000000"+o).slice(-8)}return r.substr(0,r.length-t)}catch(s){return null}}function He(e,t){for(var n=0,r=0;r<e.length;r++)n|=1<<t[e[r]];var i=n.toString(2),a="";for(r=i.length-1;r>=0;r--)a+=i[r];return a}function Ve(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t)}"undefined"!=typeof X&&X||(X={}),"undefined"!=typeof X.crypto&&X.crypto||(X.crypto={}),X.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:i.algo.MD5,sha1:i.algo.SHA1,sha224:i.algo.SHA224,sha256:i.algo.SHA256,sha384:i.algo.SHA384,sha512:i.algo.SHA512,ripemd160:i.algo.RIPEMD160},this.getDigestInfoHex=function(e,t){if("undefined"==typeof this.DIGESTINFOHEAD[t])throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.DIGESTINFOHEAD[t]+e},this.getPaddedDigestInfoHex=function(e,t,n){var r=this.getDigestInfoHex(e,t),i=n/4;if(r.length+22>i)throw"key is too short for SigAlg: keylen="+n+","+t;for(var a="0001",o="00"+r,s="",u=i-a.length-o.length,c=0;c<u;c+=2)s+="ff";return a+s+o},this.hashString=function(e,t){return new X.crypto.MessageDigest({alg:t}).digestString(e)},this.hashHex=function(e,t){return new X.crypto.MessageDigest({alg:t}).digestHex(e)},this.sha1=function(e){return this.hashString(e,"sha1")},this.sha256=function(e){return this.hashString(e,"sha256")},this.sha256Hex=function(e){return this.hashHex(e,"sha256")},this.sha512=function(e){return this.hashString(e,"sha512")},this.sha512Hex=function(e){return this.hashHex(e,"sha512")},this.isKey=function(e){return e instanceof z||e instanceof X.crypto.DSA||e instanceof X.crypto.ECDSA}},X.crypto.Util.md5=function(e){return new X.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(e)},X.crypto.Util.ripemd160=function(e){return new X.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(e)},X.crypto.Util.SECURERANDOMGEN=new U,X.crypto.Util.getRandomHexOfNbytes=function(e){var t=new Array(e);return X.crypto.Util.SECURERANDOMGEN.nextBytes(t),re(t)},X.crypto.Util.getRandomBigIntegerOfNbytes=function(e){return new l(X.crypto.Util.getRandomHexOfNbytes(e),16)},X.crypto.Util.getRandomHexOfNbits=function(e){var t=e%8,n=new Array((e-t)/8+1);return X.crypto.Util.SECURERANDOMGEN.nextBytes(n),n[0]=(255<<t&255^255)&n[0],re(n)},X.crypto.Util.getRandomBigIntegerOfNbits=function(e){return new l(X.crypto.Util.getRandomHexOfNbits(e),16)},X.crypto.Util.getRandomBigIntegerZeroToMax=function(e){for(var t=e.bitLength();;){var n=X.crypto.Util.getRandomBigIntegerOfNbits(t);if(-1!=e.compareTo(n))return n}},X.crypto.Util.getRandomBigIntegerMinToMax=function(e,t){var n=e.compareTo(t);if(1==n)throw"biMin is greater than biMax";if(0==n)return e;var r=t.subtract(e);return X.crypto.Util.getRandomBigIntegerZeroToMax(r).add(e)},X.crypto.MessageDigest=function(e){this.setAlgAndProvider=function(e,t){if(null!==(e=X.crypto.MessageDigest.getCanonicalAlgName(e))&&void 0===t&&(t=X.crypto.Util.DEFAULTPROVIDER[e]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(e)&&"cryptojs"==t){try{this.md=X.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[e].create()}catch(n){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+n}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=i.enc.Hex.parse(e);this.md.update(t)},this.digest=function(){return this.md.finalize().toString(i.enc.Hex)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}if(-1!=":sha256:".indexOf(e)&&"sjcl"==t){try{this.md=new sjcl.hash.sha256}catch(n){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+n}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=sjcl.codec.hex.toBits(e);this.md.update(t)},this.digest=function(){var e=this.md.finalize();return sjcl.codec.hex.fromBits(e)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==e&&void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=X.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},X.crypto.MessageDigest.getCanonicalAlgName=function(e){return"string"===typeof e&&(e=(e=e.toLowerCase()).replace(/-/,"")),e},X.crypto.MessageDigest.getHashLength=function(e){var t=X.crypto.MessageDigest,n=t.getCanonicalAlgName(e);if(void 0===t.HASHLENGTH[n])throw"not supported algorithm: "+e;return t.HASHLENGTH[n]},X.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},X.crypto.Mac=function(e){this.setAlgAndProvider=function(e,t){if(null==(e=e.toLowerCase())&&(e="hmacsha1"),"hmac"!=(e=e.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+e;void 0===t&&(t=X.crypto.Util.DEFAULTPROVIDER[e]),this.algProv=e+"/"+t;var n=e.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(n)&&"cryptojs"==t){try{var r=X.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[n];this.mac=i.algo.HMAC.create(r,this.pass)}catch(a){throw"setAlgAndProvider hash alg set fail hashAlg="+n+"/"+a}this.updateString=function(e){this.mac.update(e)},this.updateHex=function(e){var t=i.enc.Hex.parse(e);this.mac.update(t)},this.doFinal=function(){return this.mac.finalize().toString(i.enc.Hex)},this.doFinalString=function(e){return this.updateString(e),this.doFinal()},this.doFinalHex=function(e){return this.updateHex(e),this.doFinal()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(e){if("string"==typeof e){var t=e;return e.length%2!=1&&e.match(/^[0-9A-Fa-f]+$/)||(t=de(e)),void(this.pass=i.enc.Hex.parse(t))}if("object"!=typeof e)throw"KJUR.crypto.Mac unsupported password type: "+e;t=null;if(void 0!==e.hex){if(e.hex.length%2!=0||!e.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+e.hex;t=e.hex}if(void 0!==e.utf8&&(t=ce(e.utf8)),void 0!==e.rstr&&(t=de(e.rstr)),void 0!==e.b64&&(t=u(e.b64)),void 0!==e.b64u&&(t=ue(e.b64u)),null==t)throw"KJUR.crypto.Mac unsupported password type: "+e;this.pass=i.enc.Hex.parse(t)},void 0!==e&&(void 0!==e.pass&&this.setPassword(e.pass),void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=X.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},X.crypto.Signature=function(e){var t=null;if(this._setAlgNames=function(){var e=this.algName.match(/^(.+)with(.+)$/);e&&(this.mdAlgName=e[1].toLowerCase(),this.pubkeyAlgName=e[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(e,t){for(var n="",r=t/4-e.length,i=0;i<r;i++)n+="0";return n+e},this.setAlgAndProvider=function(e,t){if(this._setAlgNames(),"cryptojs/jsrsa"!=t)throw new Error("provider not supported: "+t);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new X.crypto.MessageDigest({alg:this.mdAlgName})}catch(n){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+n)}this.init=function(e,t){var n=null;try{n=void 0===t?Ue.getKey(e):Ue.getKey(e,t)}catch(r){throw"init failed:"+r}if(!0===n.isPrivate)this.prvKey=n,this.state="SIGN";else{if(!0!==n.isPublic)throw"init failed.:"+n;this.pubKey=n,this.state="VERIFY"}},this.updateString=function(e){this.md.updateString(e)},this.updateHex=function(e){this.md.updateHex(e)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==X.crypto.ECDSA&&(this.prvKey=new X.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof z&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof z&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof X.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof X.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(e){return this.updateString(e),this.sign()},this.signHex=function(e){return this.updateHex(e),this.sign()},this.verify=function(e){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==X.crypto.ECDSA&&(this.pubKey=new X.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof z&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,e,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof z&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==X.crypto.ECDSA&&this.pubKey instanceof X.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==X.crypto.DSA&&this.pubKey instanceof X.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(e,t){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(e){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(e){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(e){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(e){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=e,void 0!==e&&(void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov?this.provName=X.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=e.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==e.psssaltlen&&(this.pssSaltLen=e.psssaltlen),void 0!==e.prvkeypem)){if(void 0!==e.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{t=Ue.getKey(e.prvkeypem);this.init(t)}catch(n){throw"fatal error to load pem private key: "+n}}},X.crypto.Cipher=function(e){},X.crypto.Cipher.encrypt=function(e,t,n){if(t instanceof z&&t.isPublic){var r=X.crypto.Cipher.getAlgByKeyAndName(t,n);if("RSA"===r)return t.encrypt(e);if("RSAOAEP"===r)return t.encryptOAEP(e,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.encryptOAEP(e,"sha"+i[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.encrypt: unsupported key or algorithm"},X.crypto.Cipher.decrypt=function(e,t,n){if(t instanceof z&&t.isPrivate){var r=X.crypto.Cipher.getAlgByKeyAndName(t,n);if("RSA"===r)return t.decrypt(e);if("RSAOAEP"===r)return t.decryptOAEP(e,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.decryptOAEP(e,"sha"+i[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.decrypt: unsupported key or algorithm"},X.crypto.Cipher.getAlgByKeyAndName=function(e,t){if(e instanceof z){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(t))return t;if(null===t||void 0===t)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+t}throw"getAlgByKeyAndName: not supported algorithm name: "+t},X.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040022":"secp384r1","2b81040023":"secp521r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},"undefined"!=typeof X&&X||(X={}),"undefined"!=typeof X.crypto&&X.crypto||(X.crypto={}),X.crypto.ECDSA=function(e){var t=Error,n=l,r=$,i=X.crypto.ECDSA,a=X.crypto.ECParameterDB,o=i.getName,s=ee,u=s.getVbyListEx,c=s.isASN1HEX,h=new U;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(e){return new n(e.bitLength(),h).mod(e.subtract(n.ONE)).add(n.ONE)},this.setNamedCurve=function(e){this.ecparams=a.getByName(e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=e},this.setPrivateKeyHex=function(e){this.isPrivate=!0,this.prvKeyHex=e},this.setPublicKeyHex=function(e){this.isPublic=!0,this.pubKeyHex=e},this.getPublicKeyXYHex=function(){var e=this.pubKeyHex;if("04"!==e.substr(0,2))throw"this method supports uncompressed format(04) only";var t=this.ecparams.keycharlen;if(e.length!==2+2*t)throw"malformed public key hex length";var n={};return n.x=e.substr(2,t),n.y=e.substr(2+t),n},this.getShortNISTPCurveName=function(){var e=this.curveName;return"secp256r1"===e||"NIST P-256"===e||"P-256"===e||"prime256v1"===e?"P-256":"secp384r1"===e||"NIST P-384"===e||"P-384"===e?"P-384":"secp521r1"===e||"NIST P-521"===e||"P-521"===e?"P-521":null},this.generateKeyPairHex=function(){var e=this.ecparams.n,t=this.getBigRandom(e),n=this.ecparams.keycharlen,r=("0000000000"+t.toString(16)).slice(-n);return this.setPrivateKeyHex(r),{ecprvhex:r,ecpubhex:this.generatePublicKeyHex()}},this.generatePublicKeyHex=function(){var e=new n(this.prvKeyHex,16),t=this.ecparams.G.multiply(e),r=t.getX().toBigInteger(),i=t.getY().toBigInteger(),a=this.ecparams.keycharlen,o="04"+("0000000000"+r.toString(16)).slice(-a)+("0000000000"+i.toString(16)).slice(-a);return this.setPublicKeyHex(o),o},this.signWithMessageHash=function(e){return this.signHex(e,this.prvKeyHex)},this.signHex=function(e,t){var r=new n(t,16),a=this.ecparams.n,o=new n(e.substring(0,this.ecparams.keycharlen),16);do{var s=this.getBigRandom(a),u=this.ecparams.G.multiply(s).getX().toBigInteger().mod(a)}while(u.compareTo(n.ZERO)<=0);var c=s.modInverse(a).multiply(o.add(r.multiply(u))).mod(a);return i.biRSSigToASN1Sig(u,c)},this.sign=function(e,t){var r=t,i=this.ecparams.n,a=n.fromByteArrayUnsigned(e);do{var o=this.getBigRandom(i),s=this.ecparams.G.multiply(o).getX().toBigInteger().mod(i)}while(s.compareTo(l.ZERO)<=0);var u=o.modInverse(i).multiply(a.add(r.multiply(s))).mod(i);return this.serializeSig(s,u)},this.verifyWithMessageHash=function(e,t){return this.verifyHex(e,t,this.pubKeyHex)},this.verifyHex=function(e,t,a){try{var o,s,u=i.parseSigHex(t);o=u.r,s=u.s;var c=r.decodeFromHex(this.ecparams.curve,a),l=new n(e.substring(0,this.ecparams.keycharlen),16);return this.verifyRaw(l,o,s,c)}catch(h){return!1}},this.verify=function(e,t,i){var a,o,s;if(Bitcoin.Util.isArray(t)){var u=this.parseSig(t);a=u.r,o=u.s}else{if("object"!==typeof t||!t.r||!t.s)throw"Invalid value for signature";a=t.r,o=t.s}if(i instanceof $)s=i;else{if(!Bitcoin.Util.isArray(i))throw"Invalid format for pubkey value, must be byte array or ECPointFp";s=r.decodeFrom(this.ecparams.curve,i)}var c=n.fromByteArrayUnsigned(e);return this.verifyRaw(c,a,o,s)},this.verifyRaw=function(e,t,r,i){var a=this.ecparams.n,o=this.ecparams.G;if(t.compareTo(n.ONE)<0||t.compareTo(a)>=0)return!1;if(r.compareTo(n.ONE)<0||r.compareTo(a)>=0)return!1;var s=r.modInverse(a),u=e.multiply(s).mod(a),c=t.multiply(s).mod(a);return o.multiply(u).add(i.multiply(c)).getX().toBigInteger().mod(a).equals(t)},this.serializeSig=function(e,t){var n=e.toByteArraySigned(),r=t.toByteArraySigned(),i=[];return i.push(2),i.push(n.length),(i=i.concat(n)).push(2),i.push(r.length),(i=i.concat(r)).unshift(i.length),i.unshift(48),i},this.parseSig=function(e){var t;if(48!=e[0])throw new Error("Signature not a valid DERSequence");if(2!=e[t=2])throw new Error("First element in signature must be a DERInteger");var r=e.slice(t+2,t+2+e[t+1]);if(2!=e[t+=2+e[t+1]])throw new Error("Second element in signature must be a DERInteger");var i=e.slice(t+2,t+2+e[t+1]);return t+=2+e[t+1],{r:n.fromByteArrayUnsigned(r),s:n.fromByteArrayUnsigned(i)}},this.parseSigCompact=function(e){if(65!==e.length)throw"Signature has the wrong length";var t=e[0]-27;if(t<0||t>7)throw"Invalid signature type";var r=this.ecparams.n;return{r:n.fromByteArrayUnsigned(e.slice(1,33)).mod(r),s:n.fromByteArrayUnsigned(e.slice(33,65)).mod(r),i:t}},this.readPKCS5PrvKeyHex=function(e){if(!1===c(e))throw new Error("not ASN.1 hex string");var t,n,r;try{t=u(e,0,["[0]",0],"06"),n=u(e,0,[1],"04");try{r=u(e,0,["[1]",0],"03")}catch(i){}}catch(i){throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=o(t),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(r),this.setPrivateKeyHex(n),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(e){if(!1===c(e))throw new t("not ASN.1 hex string");var n,r,i;try{u(e,0,[1,0],"06"),n=u(e,0,[1,1],"06"),r=u(e,0,[2,0,1],"04");try{i=u(e,0,[2,0,"[1]",0],"03")}catch(a){}}catch(a){throw new t("malformed PKCS#8 plain ECC private key")}if(this.curveName=o(n),void 0===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i),this.setPrivateKeyHex(r),this.isPublic=!1},this.readPKCS8PubKeyHex=function(e){if(!1===c(e))throw new t("not ASN.1 hex string");var n,r;try{u(e,0,[0,0],"06"),n=u(e,0,[0,1],"06"),r=u(e,0,[1],"03")}catch(i){throw new t("malformed PKCS#8 ECC public key")}if(this.curveName=o(n),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(r)},this.readCertPubKeyHex=function(e,n){if(!1===c(e))throw new t("not ASN.1 hex string");var r,i;try{r=u(e,0,[0,5,0,1],"06"),i=u(e,0,[0,5,1],"03")}catch(a){throw new t("malformed X.509 certificate ECC public key")}if(this.curveName=o(r),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i)},void 0!==e&&void 0!==e.curve&&(this.curveName=e.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==e&&(void 0!==e.prv&&this.setPrivateKeyHex(e.prv),void 0!==e.pub&&this.setPublicKeyHex(e.pub))},X.crypto.ECDSA.parseSigHex=function(e){var t=X.crypto.ECDSA.parseSigHexInHexRS(e);return{r:new l(t.r,16),s:new l(t.s,16)}},X.crypto.ECDSA.parseSigHexInHexRS=function(e){var t=ee,n=t.getChildIdx,r=t.getV;if(t.checkStrictDER(e,0),"30"!=e.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var i=n(e,0);if(2!=i.length)throw new Error("signature shall have two elements");var a=i[0],o=i[1];if("02"!=e.substr(a,2))throw new Error("1st item not ASN.1 integer");if("02"!=e.substr(o,2))throw new Error("2nd item not ASN.1 integer");return{r:r(e,a),s:r(e,o)}},X.crypto.ECDSA.asn1SigToConcatSig=function(e){var t=X.crypto.ECDSA.parseSigHexInHexRS(e),n=t.r,r=t.s;if(n.length>=130&&n.length<=134){if(n.length%2!=0)throw Error("unknown ECDSA sig r length error");if(r.length%2!=0)throw Error("unknown ECDSA sig s length error");"00"==n.substr(0,2)&&(n=n.substr(2)),"00"==r.substr(0,2)&&(r=r.substr(2));var i=Math.max(n.length,r.length);return(n=("000000"+n).slice(-i))+(r=("000000"+r).slice(-i))}if("00"==n.substr(0,2)&&n.length%32==2&&(n=n.substr(2)),"00"==r.substr(0,2)&&r.length%32==2&&(r=r.substr(2)),n.length%32==30&&(n="00"+n),r.length%32==30&&(r="00"+r),n.length%32!=0)throw Error("unknown ECDSA sig r length error");if(r.length%32!=0)throw Error("unknown ECDSA sig s length error");return n+r},X.crypto.ECDSA.concatSigToASN1Sig=function(e){if(e.length%4!=0)throw Error("unknown ECDSA concatinated r-s sig length error");var t=e.substr(0,e.length/2),n=e.substr(e.length/2);return X.crypto.ECDSA.hexRSSigToASN1Sig(t,n)},X.crypto.ECDSA.hexRSSigToASN1Sig=function(e,t){var n=new l(e,16),r=new l(t,16);return X.crypto.ECDSA.biRSSigToASN1Sig(n,r)},X.crypto.ECDSA.biRSSigToASN1Sig=function(e,t){var n=X.asn1,r=new n.DERInteger({bigint:e}),i=new n.DERInteger({bigint:t});return new n.DERSequence({array:[r,i]}).tohex()},X.crypto.ECDSA.getName=function(e){return"2b8104001f"===e?"secp192k1":"2a8648ce3d030107"===e?"secp256r1":"2b8104000a"===e?"secp256k1":"2b81040021"===e?"secp224r1":"2b81040022"===e?"secp384r1":"2b81040023"===e?"secp521r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e)?"secp256r1":-1!=="|secp256k1|".indexOf(e)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(e)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(e)?"secp384r1":-1!=="|secp521r1|NIST P-521|P-521|".indexOf(e)?"secp521r1":null},"undefined"!=typeof X&&X||(X={}),"undefined"!=typeof X.crypto&&X.crypto||(X.crypto={}),X.crypto.ECParameterDB=new function(){var e={},t={};function n(e){return new l(e,16)}this.getByName=function(n){var r=n;if("undefined"!=typeof t[r]&&(r=t[n]),"undefined"!=typeof e[r])return e[r];throw"unregistered EC curve name: "+r},this.regist=function(r,i,a,o,s,u,c,l,h,f,d,p){e[r]={};var v=n(a),g=n(o),y=n(s),m=n(u),b=n(c),w=new J(v,g,y),x=w.decodePointHex("04"+l+h);e[r].name=r,e[r].keylen=i,e[r].keycharlen=2*Math.ceil(i/8),e[r].curve=w,e[r].G=x,e[r].n=m,e[r].h=b,e[r].oid=d,e[r].info=p;for(var _=0;_<f.length;_++)t[f[_]]=r}},X.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),X.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),X.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),X.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),X.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),X.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),X.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),X.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),X.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),X.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","00C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]),"undefined"!=typeof X&&X||(X={}),"undefined"!=typeof X.crypto&&X.crypto||(X.crypto={}),X.crypto.DSA=function(){var e=ee,t=(e.getVbyList,e.getVbyListEx),n=e.isASN1HEX,r=l;this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type="DSA",this.isPrivate=!1,this.isPublic=!1,this.setPrivate=function(e,t,n,r,i){this.isPrivate=!0,this.p=e,this.q=t,this.g=n,this.y=r,this.x=i},this.setPrivateHex=function(e,t,n,r,i){var a,o,s,u,c;a=new l(e,16),o=new l(t,16),s=new l(n,16),u="string"===typeof r&&r.length>1?new l(r,16):null,c=new l(i,16),this.setPrivate(a,o,s,u,c)},this.setPublic=function(e,t,n,r){this.isPublic=!0,this.p=e,this.q=t,this.g=n,this.y=r,this.x=null},this.setPublicHex=function(e,t,n,r){var i,a,o,s;i=new l(e,16),a=new l(t,16),o=new l(n,16),s=new l(r,16),this.setPublic(i,a,o,s)},this.signWithMessageHash=function(e){var t=this.p,n=this.q,r=this.g,i=(this.y,this.x),a=X.crypto.Util.getRandomBigIntegerMinToMax(l.ONE.add(l.ONE),n.subtract(l.ONE)),o=new l(e.substr(0,n.bitLength()/4),16),s=r.modPow(a,t).mod(n),u=a.modInverse(n).multiply(o.add(i.multiply(s))).mod(n);return X.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:s}},{int:{bigint:u}}]})},this.verifyWithMessageHash=function(e,t){var n=this.p,r=this.q,i=this.g,a=this.y,o=this.parseASN1Signature(t),s=o[0],u=o[1],c=new l(e.substr(0,r.bitLength()/4),16);if(l.ZERO.compareTo(s)>0||s.compareTo(r)>0)throw"invalid DSA signature";if(l.ZERO.compareTo(u)>=0||u.compareTo(r)>0)throw"invalid DSA signature";var h=u.modInverse(r),f=c.multiply(h).mod(r),d=s.multiply(h).mod(r);return 0==i.modPow(f,n).multiply(a.modPow(d,n)).mod(n).mod(r).compareTo(s)},this.parseASN1Signature=function(e){try{return[new r(t(e,0,[0],"02"),16),new r(t(e,0,[1],"02"),16)]}catch(n){throw new Error("malformed ASN.1 DSA signature")}},this.readPKCS5PrvKeyHex=function(e){var r,i,a,o,s;if(!1===n(e))throw new Error("not ASN.1 hex string");try{r=t(e,0,[1],"02"),i=t(e,0,[2],"02"),a=t(e,0,[3],"02"),o=t(e,0,[4],"02"),s=t(e,0,[5],"02")}catch(u){throw new Error("malformed PKCS#1/5 plain DSA private key")}this.setPrivateHex(r,i,a,o,s)},this.readPKCS8PrvKeyHex=function(e){var r,i,a,o;if(!1===n(e))throw new Error("not ASN.1 hex string");try{r=t(e,0,[1,1,0],"02"),i=t(e,0,[1,1,1],"02"),a=t(e,0,[1,1,2],"02"),o=t(e,0,[2,0],"02")}catch(s){throw new Error("malformed PKCS#8 plain DSA private key")}this.setPrivateHex(r,i,a,null,o)},this.readPKCS8PubKeyHex=function(e){var r,i,a,o;if(!1===n(e))throw new Error("not ASN.1 hex string");try{r=t(e,0,[0,1,0],"02"),i=t(e,0,[0,1,1],"02"),a=t(e,0,[0,1,2],"02"),o=t(e,0,[1,0],"02")}catch(s){throw new Error("malformed PKCS#8 DSA public key")}this.setPublicHex(r,i,a,o)},this.readCertPubKeyHex=function(e,r){var i,a,o,s;if(!1===n(e))throw new Error("not ASN.1 hex string");try{i=t(e,0,[0,5,0,1,0],"02"),a=t(e,0,[0,5,0,1,1],"02"),o=t(e,0,[0,5,0,1,2],"02"),s=t(e,0,[0,5,1,0],"02")}catch(u){throw new Error("malformed X.509 certificate DSA public key")}this.setPublicHex(i,a,o,s)}};var Ue=function(){var e=function(e,n,r){return t(i.AES,e,n,r)},t=function(e,t,n,r){var a=i.enc.Hex.parse(t),o=i.enc.Hex.parse(n),s=i.enc.Hex.parse(r),u={};u.key=o,u.iv=s,u.ciphertext=a;var c=e.decrypt(u,o,{iv:s});return i.enc.Hex.stringify(c)},n=function(e,t,n){return r(i.AES,e,t,n)},r=function(e,t,n,r){var a=i.enc.Hex.parse(t),o=i.enc.Hex.parse(n),s=i.enc.Hex.parse(r),u=e.encrypt(a,o,{iv:s}),c=i.enc.Hex.parse(u.toString());return i.enc.Base64.stringify(c)},a={"AES-256-CBC":{proc:e,eproc:n,keylen:32,ivlen:16},"AES-192-CBC":{proc:e,eproc:n,keylen:24,ivlen:16},"AES-128-CBC":{proc:e,eproc:n,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(e,n,r){return t(i.TripleDES,e,n,r)},eproc:function(e,t,n){return r(i.TripleDES,e,t,n)},keylen:24,ivlen:8},"DES-CBC":{proc:function(e,n,r){return t(i.DES,e,n,r)},eproc:function(e,t,n){return r(i.DES,e,t,n)},keylen:8,ivlen:8}},o=function(e){var t={},n=e.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));n&&(t.cipher=n[1],t.ivsalt=n[2]);var r=e.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));r&&(t.type=r[1]);var i=-1,a=0;-1!=e.indexOf("\r\n\r\n")&&(i=e.indexOf("\r\n\r\n"),a=2),-1!=e.indexOf("\n\n")&&(i=e.indexOf("\n\n"),a=1);var o=e.indexOf("-----END");if(-1!=i&&-1!=o){var s=e.substring(i+2*a,o-a);s=s.replace(/\s+/g,""),t.data=s}return t},s=function(e,t,n){for(var r=n.substring(0,16),o=i.enc.Hex.parse(r),s=i.enc.Utf8.parse(t),u=a[e].keylen+a[e].ivlen,c="",l=null;;){var h=i.algo.MD5.create();if(null!=l&&h.update(l),h.update(s),h.update(o),l=h.finalize(),(c+=i.enc.Hex.stringify(l)).length>=2*u)break}var f={};return f.keyhex=c.substr(0,2*a[e].keylen),f.ivhex=c.substr(2*a[e].keylen,2*a[e].ivlen),f},u=function(e,t,n,r){var o=i.enc.Base64.parse(e),s=i.enc.Hex.stringify(o);return(0,a[t].proc)(s,n,r)};return{version:"1.0.0",parsePKCS5PEM:function(e){return o(e)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(e,t,n){return s(e,t,n)},decryptKeyB64:function(e,t,n,r){return u(e,t,n,r)},getDecryptedKeyHex:function(e,t){var n=o(e),r=(n.type,n.cipher),i=n.ivsalt,a=n.data,c=s(r,t,i).keyhex;return u(a,r,c,i)},getEncryptedPKCS5PEMFromPrvKeyHex:function(e,t,n,r,o){var u="";if("undefined"!=typeof r&&null!=r||(r="AES-256-CBC"),"undefined"==typeof a[r])throw new Error("KEYUTIL unsupported algorithm: "+r);if("undefined"==typeof o||null==o){var c=function(e){var t=i.lib.WordArray.random(e);return i.enc.Hex.stringify(t)}(a[r].ivlen);o=c.toUpperCase()}var l=function(e,t,n,r){return(0,a[t].eproc)(e,n,r)}(t,r,s(r,n,o).keyhex,o);u="-----BEGIN "+e+" PRIVATE KEY-----\r\n";return u+="Proc-Type: 4,ENCRYPTED\r\n",u+="DEK-Info: "+r+","+o+"\r\n",u+="\r\n",u+=l.replace(/(.{64})/g,"$1\r\n"),u+="\r\n-----END "+e+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(e){var t=ee,n=t.getChildIdx,r=t.getV,i={},a=n(e,0);if(2!=a.length)throw new Error("malformed format: SEQUENCE(0).items != 2: "+a.length);i.ciphertext=r(e,a[1]);var o=n(e,a[0]);if(2!=o.length)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+o.length);if("2a864886f70d01050d"!=r(e,o[0]))throw new Error("this only supports pkcs5PBES2");var s=n(e,o[1]);if(2!=o.length)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+s.length);var u=n(e,s[1]);if(2!=u.length)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+u.length);if("2a864886f70d0307"!=r(e,u[0]))throw"this only supports TripleDES";i.encryptionSchemeAlg="TripleDES",i.encryptionSchemeIV=r(e,u[1]);var c=n(e,s[0]);if(2!=c.length)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+c.length);if("2a864886f70d01050c"!=r(e,c[0]))throw new Error("this only supports pkcs5PBKDF2");var l=n(e,c[1]);if(l.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+l.length);i.pbkdf2Salt=r(e,l[0]);var h=r(e,l[1]);try{i.pbkdf2Iter=parseInt(h,16)}catch(f){throw new Error("malformed format pbkdf2Iter: "+h)}return i},getPBKDF2KeyHexFromParam:function(e,t){var n=i.enc.Hex.parse(e.pbkdf2Salt),r=e.pbkdf2Iter,a=i.PBKDF2(t,n,{keySize:6,iterations:r});return i.enc.Hex.stringify(a)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(e,t){var n=me(e,"ENCRYPTED PRIVATE KEY"),r=this.parseHexOfEncryptedPKCS8(n),a=Ue.getPBKDF2KeyHexFromParam(r,t),o={};o.ciphertext=i.enc.Hex.parse(r.ciphertext);var s=i.enc.Hex.parse(a),u=i.enc.Hex.parse(r.encryptionSchemeIV),c=i.TripleDES.decrypt(o,s,{iv:u});return i.enc.Hex.stringify(c)},getKeyFromEncryptedPKCS8PEM:function(e,t){var n=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(e,t);return this.getKeyFromPlainPrivatePKCS8Hex(n)},parsePlainPrivatePKCS8Hex:function(e){var t=ee,n=t.getChildIdx,r=t.getV,i={algparam:null};if("30"!=e.substr(0,2))throw new Error("malformed plain PKCS8 private key(code:001)");var a=n(e,0);if(a.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if("30"!=e.substr(a[1],2))throw new Error("malformed PKCS8 private key(code:003)");var o=n(e,a[1]);if(2!=o.length)throw new Error("malformed PKCS8 private key(code:004)");if("06"!=e.substr(o[0],2))throw new Error("malformed PKCS8 private key(code:005)");if(i.algoid=r(e,o[0]),"06"==e.substr(o[1],2)&&(i.algparam=r(e,o[1])),"04"!=e.substr(a[2],2))throw new Error("malformed PKCS8 private key(code:006)");return i.keyidx=t.getVidx(e,a[2]),i},getKeyFromPlainPrivatePKCS8PEM:function(e){var t=me(e,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(t)},getKeyFromPlainPrivatePKCS8Hex:function(e){var t,n=this.parsePlainPrivatePKCS8Hex(e);if("2a864886f70d010101"==n.algoid)t=new z;else if("2a8648ce380401"==n.algoid)t=new X.crypto.DSA;else{if("2a8648ce3d0201"!=n.algoid)throw new Error("unsupported private key algorithm");t=new X.crypto.ECDSA}return t.readPKCS8PrvKeyHex(e),t},_getKeyFromPublicPKCS8Hex:function(e){var t,n=ee.getVbyList(e,0,[0,0],"06");if("2a864886f70d010101"===n)t=new z;else if("2a8648ce380401"===n)t=new X.crypto.DSA;else{if("2a8648ce3d0201"!==n)throw new Error("unsupported PKCS#8 public key hex");t=new X.crypto.ECDSA}return t.readPKCS8PubKeyHex(e),t},parsePublicRawRSAKeyHex:function(e){var t=ee,n=t.getChildIdx,r=t.getV,i={};if("30"!=e.substr(0,2))throw new Error("malformed RSA key(code:001)");var a=n(e,0);if(2!=a.length)throw new Error("malformed RSA key(code:002)");if("02"!=e.substr(a[0],2))throw new Error("malformed RSA key(code:003)");if(i.n=r(e,a[0]),"02"!=e.substr(a[1],2))throw new Error("malformed RSA key(code:004)");return i.e=r(e,a[1]),i},parsePublicPKCS8Hex:function(e){var t=ee,n=t.getChildIdx,r=t.getV,i={algparam:null},a=n(e,0);if(2!=a.length)throw new Error("outer DERSequence shall have 2 elements: "+a.length);var o=a[0];if("30"!=e.substr(o,2))throw new Error("malformed PKCS8 public key(code:001)");var s=n(e,o);if(2!=s.length)throw new Error("malformed PKCS8 public key(code:002)");if("06"!=e.substr(s[0],2))throw new Error("malformed PKCS8 public key(code:003)");if(i.algoid=r(e,s[0]),"06"==e.substr(s[1],2)?i.algparam=r(e,s[1]):"30"==e.substr(s[1],2)&&(i.algparam={},i.algparam.p=t.getVbyList(e,s[1],[0],"02"),i.algparam.q=t.getVbyList(e,s[1],[1],"02"),i.algparam.g=t.getVbyList(e,s[1],[2],"02")),"03"!=e.substr(a[1],2))throw new Error("malformed PKCS8 public key(code:004)");return i.key=r(e,a[1]).substr(2),i}}}();Ue.getKey=function(e,t,n){var r=(y=ee).getChildIdx,i=(y.getV,y.getVbyList),a=X.crypto,o=a.ECDSA,s=a.DSA,u=z,c=me,h=Ue;if("undefined"!=typeof u&&e instanceof u)return e;if("undefined"!=typeof o&&e instanceof o)return e;if("undefined"!=typeof s&&e instanceof s)return e;if(void 0!==e.curve&&void 0!==e.xy&&void 0===e.d)return new o({pub:e.xy,curve:e.curve});if(void 0!==e.curve&&void 0!==e.d)return new o({prv:e.d,curve:e.curve});if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(P=new u).setPublic(e.n,e.e),P;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.co&&void 0===e.qi)return(P=new u).setPrivateEx(e.n,e.e,e.d,e.p,e.q,e.dp,e.dq,e.co),P;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0===e.p)return(P=new u).setPrivate(e.n,e.e,e.d),P;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0===e.x)return(P=new s).setPublic(e.p,e.q,e.g,e.y),P;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0!==e.x)return(P=new s).setPrivate(e.p,e.q,e.g,e.y,e.x),P;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(P=new u).setPublic(ue(e.n),ue(e.e)),P;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.qi)return(P=new u).setPrivateEx(ue(e.n),ue(e.e),ue(e.d),ue(e.p),ue(e.q),ue(e.dp),ue(e.dq),ue(e.qi)),P;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d)return(P=new u).setPrivate(ue(e.n),ue(e.e),ue(e.d)),P;if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0===e.d){var f=(A=new o({curve:e.crv})).ecparams.keycharlen,d="04"+("0000000000"+ue(e.x)).slice(-f)+("0000000000"+ue(e.y)).slice(-f);return A.setPublicKeyHex(d),A}if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0!==e.d){f=(A=new o({curve:e.crv})).ecparams.keycharlen,d="04"+("0000000000"+ue(e.x)).slice(-f)+("0000000000"+ue(e.y)).slice(-f);var p=("0000000000"+ue(e.d)).slice(-f);return A.setPublicKeyHex(d),A.setPrivateKeyHex(p),A}if("pkcs5prv"===n){var v,g=e,y=ee;if(9===(v=r(g,0)).length)(P=new u).readPKCS5PrvKeyHex(g);else if(6===v.length)(P=new s).readPKCS5PrvKeyHex(g);else{if(!(v.length>2&&"04"===g.substr(v[1],2)))throw new Error("unsupported PKCS#1/5 hexadecimal key");(P=new o).readPKCS5PrvKeyHex(g)}return P}if("pkcs8prv"===n)return P=h.getKeyFromPlainPrivatePKCS8Hex(e);if("pkcs8pub"===n)return h._getKeyFromPublicPKCS8Hex(e);if("x509pub"===n)return We.getPublicKeyFromCertHex(e);if(-1!=e.indexOf("-END CERTIFICATE-",0)||-1!=e.indexOf("-END X509 CERTIFICATE-",0)||-1!=e.indexOf("-END TRUSTED CERTIFICATE-",0))return We.getPublicKeyFromCertPEM(e);if(-1!=e.indexOf("-END PUBLIC KEY-")){var m=me(e,"PUBLIC KEY");return h._getKeyFromPublicPKCS8Hex(m)}if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var b=c(e,"RSA PRIVATE KEY");return h.getKey(b,null,"pkcs5prv")}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var w=i(F=c(e,"DSA PRIVATE KEY"),0,[1],"02"),x=i(F,0,[2],"02"),_=i(F,0,[3],"02"),S=i(F,0,[4],"02"),E=i(F,0,[5],"02");return(P=new s).setPrivate(new l(w,16),new l(x,16),new l(_,16),new l(S,16),new l(E,16)),P}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){b=c(e,"EC PRIVATE KEY");return h.getKey(b,null,"pkcs5prv")}if(-1!=e.indexOf("-END PRIVATE KEY-"))return h.getKeyFromPlainPrivatePKCS8PEM(e);if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var k=h.getDecryptedKeyHex(e,t),C=new z;return C.readPKCS5PrvKeyHex(k),C}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var A,P=i(F=h.getDecryptedKeyHex(e,t),0,[1],"04"),I=i(F,0,[2,0],"06"),T=i(F,0,[3,0],"03").substr(2);if(void 0===X.crypto.OID.oidhex2name[I])throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+I);return(A=new o({curve:X.crypto.OID.oidhex2name[I]})).setPublicKeyHex(T),A.setPrivateKeyHex(P),A.isPublic=!1,A}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var F;w=i(F=h.getDecryptedKeyHex(e,t),0,[1],"02"),x=i(F,0,[2],"02"),_=i(F,0,[3],"02"),S=i(F,0,[4],"02"),E=i(F,0,[5],"02");return(P=new s).setPrivate(new l(w,16),new l(x,16),new l(_,16),new l(S,16),new l(E,16)),P}if(-1!=e.indexOf("-END ENCRYPTED PRIVATE KEY-"))return h.getKeyFromEncryptedPKCS8PEM(e,t);throw new Error("not supported argument")},Ue.generateKeypair=function(e,t){if("RSA"==e){var n=t;(o=new z).generate(n,"10001"),o.isPrivate=!0,o.isPublic=!0;var r=new z,i=o.n.toString(16),a=o.e.toString(16);return r.setPublic(i,a),r.isPrivate=!1,r.isPublic=!0,(s={}).prvKeyObj=o,s.pubKeyObj=r,s}if("EC"==e){var o,s,u=t,c=new X.crypto.ECDSA({curve:u}).generateKeyPairHex();return(o=new X.crypto.ECDSA({curve:u})).setPublicKeyHex(c.ecpubhex),o.setPrivateKeyHex(c.ecprvhex),o.isPrivate=!0,o.isPublic=!1,(r=new X.crypto.ECDSA({curve:u})).setPublicKeyHex(c.ecpubhex),r.isPrivate=!1,r.isPublic=!0,(s={}).prvKeyObj=o,s.pubKeyObj=r,s}throw new Error("unknown algorithm: "+e)},Ue.getPEM=function(e,t,n,r,a,o){var s=X,u=s.asn1,c=u.DERObjectIdentifier,l=u.DERInteger,h=u.ASN1Util.newObject,f=u.x509.SubjectPublicKeyInfo,d=s.crypto,p=d.DSA,v=d.ECDSA,g=z;function y(e){return h({seq:[{int:0},{int:{bigint:e.n}},{int:e.e},{int:{bigint:e.d}},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.dmp1}},{int:{bigint:e.dmq1}},{int:{bigint:e.coeff}}]})}function m(e){return h({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a0",!0,{oid:{name:e.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]})}function b(e){return h({seq:[{int:0},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}},{int:{bigint:e.y}},{int:{bigint:e.x}}]})}if((void 0!==g&&e instanceof g||void 0!==p&&e instanceof p||void 0!==v&&e instanceof v)&&1==e.isPublic&&(void 0===t||"PKCS8PUB"==t))return ye(S=new f(e).tohex(),"PUBLIC KEY");if("PKCS1PRV"==t&&void 0!==g&&e instanceof g&&(void 0===n||null==n)&&1==e.isPrivate)return ye(S=y(e).tohex(),"RSA PRIVATE KEY");if("PKCS1PRV"==t&&void 0!==v&&e instanceof v&&(void 0===n||null==n)&&1==e.isPrivate){var w=new c({name:e.curveName}).tohex(),x=m(e).tohex(),_="";return _+=ye(w,"EC PARAMETERS"),_+=ye(x,"EC PRIVATE KEY")}if("PKCS1PRV"==t&&void 0!==p&&e instanceof p&&(void 0===n||null==n)&&1==e.isPrivate)return ye(S=b(e).tohex(),"DSA PRIVATE KEY");if("PKCS5PRV"==t&&void 0!==g&&e instanceof g&&void 0!==n&&null!=n&&1==e.isPrivate){var S=y(e).tohex();return void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",S,n,r,o)}if("PKCS5PRV"==t&&void 0!==v&&e instanceof v&&void 0!==n&&null!=n&&1==e.isPrivate){S=m(e).tohex();return void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",S,n,r,o)}if("PKCS5PRV"==t&&void 0!==p&&e instanceof p&&void 0!==n&&null!=n&&1==e.isPrivate){S=b(e).tohex();return void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",S,n,r,o)}var E=function(e,t){var n=k(e,t);return new h({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:n.pbkdf2Salt}},{int:n.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:n.encryptionSchemeIV}}]}]}]},{octstr:{hex:n.ciphertext}}]}).tohex()},k=function(e,t){var n=i.lib.WordArray.random(8),r=i.lib.WordArray.random(8),a=i.PBKDF2(t,n,{keySize:6,iterations:100}),o=i.enc.Hex.parse(e),s=i.TripleDES.encrypt(o,a,{iv:r})+"",u={};return u.ciphertext=s,u.pbkdf2Salt=i.enc.Hex.stringify(n),u.pbkdf2Iter=100,u.encryptionSchemeAlg="DES-EDE3-CBC",u.encryptionSchemeIV=i.enc.Hex.stringify(r),u};if("PKCS8PRV"==t&&void 0!=g&&e instanceof g&&1==e.isPrivate){var C=y(e).tohex();S=h({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:C}}]}).tohex();return void 0===n||null==n?ye(S,"PRIVATE KEY"):ye(x=E(S,n),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==t&&void 0!==v&&e instanceof v&&1==e.isPrivate){var A={seq:[{int:1},{octstr:{hex:e.prvKeyHex}}]};"string"==typeof e.pubKeyHex&&A.seq.push({tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]});C=new h(A).tohex(),S=h({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:e.curveName}}]},{octstr:{hex:C}}]}).tohex();return void 0===n||null==n?ye(S,"PRIVATE KEY"):ye(x=E(S,n),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==t&&void 0!==p&&e instanceof p&&1==e.isPrivate){C=new l({bigint:e.x}).tohex(),S=h({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}]},{octstr:{hex:C}}]}).tohex();return void 0===n||null==n?ye(S,"PRIVATE KEY"):ye(x=E(S,n),"ENCRYPTED PRIVATE KEY")}throw new Error("unsupported object nor format")},Ue.getKeyFromCSRPEM=function(e){var t=me(e,"CERTIFICATE REQUEST");return Ue.getKeyFromCSRHex(t)},Ue.getKeyFromCSRHex=function(e){var t=Ue.parseCSRHex(e);return Ue.getKey(t.p8pubkeyhex,null,"pkcs8pub")},Ue.parseCSRHex=function(e){var t=ee,n=t.getChildIdx,r=t.getTLV,i={},a=e;if("30"!=a.substr(0,2))throw new Error("malformed CSR(code:001)");var o=n(a,0);if(o.length<1)throw new Error("malformed CSR(code:002)");if("30"!=a.substr(o[0],2))throw new Error("malformed CSR(code:003)");var s=n(a,o[0]);if(s.length<3)throw new Error("malformed CSR(code:004)");return i.p8pubkeyhex=r(a,s[2]),i},Ue.getKeyID=function(e){var t=Ue,n=ee;"string"===typeof e&&-1!=e.indexOf("BEGIN ")&&(e=t.getKey(e));var r=me(t.getPEM(e)),i=n.getIdxbyList(r,0,[1]),a=n.getV(r,i).substring(2);return X.crypto.Util.hashHex(a,"sha1")},Ue.getJWK=function(e,t,n,r,i){var a,o,u={},c=X.crypto.Util.hashHex;if("string"==typeof e)a=Ue.getKey(e),-1!=e.indexOf("CERTIFICATE")&&(o=me(e));else{if("object"!=typeof e)throw new Error("unsupported keyinfo type");e instanceof We?(a=e.getPublicKey(),o=e.hex):a=e}if(a instanceof z&&a.isPrivate)u.kty="RSA",u.n=se(a.n.toString(16)),u.e=se(a.e.toString(16)),u.d=se(a.d.toString(16)),u.p=se(a.p.toString(16)),u.q=se(a.q.toString(16)),u.dp=se(a.dmp1.toString(16)),u.dq=se(a.dmq1.toString(16)),u.qi=se(a.coeff.toString(16));else if(a instanceof z&&a.isPublic)u.kty="RSA",u.n=se(a.n.toString(16)),u.e=se(a.e.toString(16));else if(a instanceof X.crypto.ECDSA&&a.isPrivate){if("P-256"!==(h=a.getShortNISTPCurveName())&&"P-384"!==h&&"P-521"!==h)throw new Error("unsupported curve name for JWT: "+h);var l=a.getPublicKeyXYHex();u.kty="EC",u.crv=h,u.x=se(l.x),u.y=se(l.y),u.d=se(a.prvKeyHex)}else if(a instanceof X.crypto.ECDSA&&a.isPublic){var h;if("P-256"!==(h=a.getShortNISTPCurveName())&&"P-384"!==h&&"P-521"!==h)throw new Error("unsupported curve name for JWT: "+h);l=a.getPublicKeyXYHex();u.kty="EC",u.crv=h,u.x=se(l.x),u.y=se(l.y)}if(void 0==u.kty)throw new Error("unsupported keyinfo");return a.isPrivate||1==t||(u.kid=X.jws.JWS.getJWKthumbprint(u)),void 0!=o&&1!=n&&(u.x5c=[s(o)]),void 0!=o&&1!=r&&(u.x5t=ae(s(c(o,"sha1")))),void 0!=o&&1!=i&&(u["x5t#S256"]=ae(s(c(o,"sha256")))),u},Ue.getJWKFromKey=function(e){return Ue.getJWK(e,!0,!0,!0,!0)},z.getPosArrayOfChildrenFromHex=function(e){return ee.getChildIdx(e,0)},z.getHexValueArrayOfChildrenFromHex=function(e){var t,n=ee.getV,r=n(e,(t=z.getPosArrayOfChildrenFromHex(e))[0]),i=n(e,t[1]),a=n(e,t[2]),o=n(e,t[3]),s=n(e,t[4]),u=n(e,t[5]),c=n(e,t[6]),l=n(e,t[7]),h=n(e,t[8]);return(t=new Array).push(r,i,a,o,s,u,c,l,h),t},z.prototype.readPrivateKeyFromPEMString=function(e){var t=me(e),n=z.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8])},z.prototype.readPKCS5PrvKeyHex=function(e){var t=z.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},z.prototype.readPKCS8PrvKeyHex=function(e){var t,n,r,i,a,o,s,u,c=ee,l=c.getVbyListEx;if(!1===c.isASN1HEX(e))throw new Error("not ASN.1 hex string");try{t=l(e,0,[2,0,1],"02"),n=l(e,0,[2,0,2],"02"),r=l(e,0,[2,0,3],"02"),i=l(e,0,[2,0,4],"02"),a=l(e,0,[2,0,5],"02"),o=l(e,0,[2,0,6],"02"),s=l(e,0,[2,0,7],"02"),u=l(e,0,[2,0,8],"02")}catch(h){throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(t,n,r,i,a,o,s,u)},z.prototype.readPKCS5PubKeyHex=function(e){var t=ee,n=t.getV;if(!1===t.isASN1HEX(e))throw new Error("keyHex is not ASN.1 hex string");var r=t.getChildIdx(e,0);if(2!==r.length||"02"!==e.substr(r[0],2)||"02"!==e.substr(r[1],2))throw new Error("wrong hex for PKCS#5 public key");var i=n(e,r[0]),a=n(e,r[1]);this.setPublic(i,a)},z.prototype.readPKCS8PubKeyHex=function(e){var t=ee;if(!1===t.isASN1HEX(e))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==t.getTLVbyListEx(e,0,[0,0]))throw new Error("not PKCS8 RSA public key");var n=t.getTLVbyListEx(e,0,[1,0]);this.readPKCS5PubKeyHex(n)},z.prototype.readCertPubKeyHex=function(e,t){var n,r;(n=new We).readCertHex(e),r=n.getPublicKeyHex(),this.readPKCS8PubKeyHex(r)};function qe(e,t){for(var n="",r=t/4-e.length,i=0;i<r;i++)n+="0";return n+e}function Ke(e,t,n){for(var r="",i=0;r.length<t;)r+=fe(n(de(e+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])))),i+=1;return r}function ze(e){for(var t in X.crypto.Util.DIGESTINFOHEAD){var n=X.crypto.Util.DIGESTINFOHEAD[t],r=n.length;if(e.substring(0,r)==n)return[t,e.substring(r)]}return[]}function We(e){var t,n=ee,r=n.getChildIdx,i=n.getV,a=(n.dump,n.parse),o=n.getTLV,s=n.getVbyList,u=n.getVbyListEx,c=n.getTLVbyList,l=n.getTLVbyListEx,h=n.getIdxbyList,f=n.getIdxbyListEx,d=n.getVidx,p=n.getInt,v=n.oidname,g=n.hextooidstr,y=me,m=Error;try{t=X.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch(L){}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(null===this.hex||0!==this.version)return this.version;var e=c(this.hex,0,[0,0]);if("a0"==e.substr(0,2)){var t=c(e,0,[0]),n=p(t,0);if(n<0||2<n)throw new Error("malformed version field");return this.version=n+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return u(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var e=l(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(e)},this.getAlgorithmIdentifierName=function(e){for(var n in t)if(e===t[n])return n;return v(u(e,0,[0],"06"))},this.getIssuer=function(e,t){return this.getX500Name(this.getIssuerHex(),e,t)},this.getIssuerHex=function(){return c(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(e,t){return this.getX500Name(this.getSubjectHex(),e,t)},this.getSubjectHex=function(){return c(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var e=s(this.hex,0,[0,4+this.foffset,0]);return e=e.replace(/(..)/g,"%$1"),e=decodeURIComponent(e)},this.getNotAfter=function(){var e=s(this.hex,0,[0,4+this.foffset,1]);return e=e.replace(/(..)/g,"%$1"),e=decodeURIComponent(e)},this.getPublicKeyHex=function(){return this.getSPKI()},this.getSPKI=function(){return c(this.hex,0,[0,6+this.foffset],"30")},this.getSPKIValue=function(){var e=this.getSPKI();return null==e?null:s(e,0,[1],"03",!0)},this.getPublicKeyIdx=function(){return h(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var e=this.getPublicKeyIdx();return h(this.hex,e,[1,0],"30")},this.getPublicKey=function(){return Ue.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var e=c(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(e)},this.getSignatureValueHex=function(){return s(this.hex,0,[2],"03",!0)},this.verifySignature=function(e){var t=this.getSignatureAlgorithmField(),n=this.getSignatureValueHex(),r=c(this.hex,0,[0],"30"),i=new X.crypto.Signature({alg:t});return i.init(e),i.updateHex(r),i.verify(n)},this.parseExt=function(e){var t,a,o;if(void 0===e){if(o=this.hex,3!==this.version)return-1;t=h(o,0,[0,7,0],"30"),a=r(o,t)}else{o=me(e);var u=h(o,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=i(o,u))return void(this.aExtInfo=new Array);t=h(o,0,[0,3,0,1,0],"30"),a=r(o,t),this.hex=o}this.aExtInfo=new Array;for(var c=0;c<a.length;c++){var l={critical:!1},f=0;3===r(o,a[c]).length&&(l.critical=!0,f=1),l.oid=n.hextooidstr(s(o,a[c],[0],"06"));var p=h(o,a[c],[1+f]);l.vidx=d(o,p),this.aExtInfo.push(l)}},this.getExtInfo=function(e){var t=this.aExtInfo,n=e;if(e.match(/^[0-9.]+$/)||(n=X.asn1.x509.OID.name2oid(e)),""!==n)for(var r=0;r<t.length;r++)if(t[r].oid===n)return t[r]},this.getCriticalExtV=function(e,t,n){if(void 0!=t)return[t,n];var r=this.getExtInfo(e);return void 0==r?[null,null]:[o(this.hex,r.vidx),r.critical]},this.getExtBasicConstraints=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("basicConstraints");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var r={extname:"basicConstraints"};if(t&&(r.critical=!0),"3000"===e)return r;if("30030101ff"===e)return r.cA=!0,r;if("30060101ff02"===e.substr(0,12)){var a=i(e,10),s=parseInt(a,16);return r.cA=!0,r.pathLen=s,r}throw new Error("hExtV parse error: "+e)},this.getExtNameConstraints=function(e,t){var n=this.getCriticalExtV("nameConstraints",e,t);if(e=n[0],t=n[1],null!=e){var i={extname:"nameConstraints"};t&&(i.critical=!0);for(var a=r(e,0),s=0;s<a.length;s++){for(var u=[],c=r(e,a[s]),l=0;l<c.length;l++){var h=o(e,c[l]),f=this.getGeneralSubtree(h);u.push(f)}var d=e.substr(a[s],2);"a0"==d?i.permit=u:"a1"==d&&(i.exclude=u)}return i}},this.getGeneralSubtree=function(e){var t=r(e,0),n=t.length;if(n<1||2<n)throw new Error("wrong num elements");for(var a=this.getGeneralName(o(e,t[0])),s=1;s<n;s++){var u=e.substr(t[s],2),c=i(e,t[s]),l=parseInt(c,16);"80"==u&&(a.min=l),"81"==u&&(a.max=l)}return a},this.getExtKeyUsage=function(e,t){var n=this.getCriticalExtV("keyUsage",e,t);if(e=n[0],t=n[1],null!=e){var r={extname:"keyUsage"};return t&&(r.critical=!0),r.names=this.getExtKeyUsageString(e).split(","),r}},this.getExtKeyUsageBin=function(e){if(void 0===e){var t=this.getExtInfo("keyUsage");if(void 0===t)return"";e=o(this.hex,t.vidx)}if(8!=e.length&&10!=e.length)throw new Error("malformed key usage value: "+e);var n="000000000000000"+parseInt(e.substr(6),16).toString(2);return 8==e.length&&(n=n.slice(-8)),10==e.length&&(n=n.slice(-16)),""==(n=n.replace(/0+$/,""))&&(n="0"),n},this.getExtKeyUsageString=function(e){for(var t=this.getExtKeyUsageBin(e),n=new Array,r=0;r<t.length;r++)"1"==t.substr(r,1)&&n.push(We.KEYUSAGE_NAME[r]);return n.join(",")},this.getExtSubjectKeyIdentifier=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("subjectKeyIdentifier");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var r={extname:"subjectKeyIdentifier"};t&&(r.critical=!0);var a=i(e,0);return r.kid={hex:a},r},this.getExtAuthorityKeyIdentifier=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("authorityKeyIdentifier");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var a={extname:"authorityKeyIdentifier"};t&&(a.critical=!0);for(var s=r(e,0),u=0;u<s.length;u++){var c=e.substr(s[u],2);if("80"===c&&(a.kid={hex:i(e,s[u])}),"a1"===c){var l=o(e,s[u]),h=this.getGeneralNames(l);a.issuer=h[0].dn}"82"===c&&(a.sn={hex:i(e,s[u])})}return a},this.getExtExtKeyUsage=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("extKeyUsage");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var a={extname:"extKeyUsage",array:[]};t&&(a.critical=!0);for(var s=r(e,0),u=0;u<s.length;u++)a.array.push(v(i(e,s[u])));return a},this.getExtExtKeyUsageName=function(){var e=this.getExtInfo("extKeyUsage");if(void 0===e)return e;var t=new Array,n=o(this.hex,e.vidx);if(""===n)return t;for(var a=r(n,0),s=0;s<a.length;s++)t.push(v(i(n,a[s])));return t},this.getExtSubjectAltName=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("subjectAltName");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var r={extname:"subjectAltName",array:[]};return t&&(r.critical=!0),r.array=this.getGeneralNames(e),r},this.getExtIssuerAltName=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("issuerAltName");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var r={extname:"issuerAltName",array:[]};return t&&(r.critical=!0),r.array=this.getGeneralNames(e),r},this.getGeneralNames=function(e){for(var t=r(e,0),n=[],i=0;i<t.length;i++){var a=this.getGeneralName(o(e,t[i]));void 0!==a&&n.push(a)}return n},this.getGeneralName=function(e){var t=e.substr(0,2),n=i(e,0),r=fe(n);return"81"==t?{rfc822:r}:"82"==t?{dns:r}:"86"==t?{uri:r}:"87"==t?{ip:ke(n)}:"a4"==t?{dn:this.getX500Name(n)}:"a0"==t?{other:this.getOtherName(e)}:void 0},this.getExtSubjectAltName2=function(){var e,t,n,a=this.getExtInfo("subjectAltName");if(void 0===a)return a;for(var s=new Array,u=o(this.hex,a.vidx),c=r(u,0),l=0;l<c.length;l++)n=u.substr(c[l],2),e=i(u,c[l]),"81"===n&&(t=le(e),s.push(["MAIL",t])),"82"===n&&(t=le(e),s.push(["DNS",t])),"84"===n&&(t=We.hex2dn(e,0),s.push(["DN",t])),"86"===n&&(t=le(e),s.push(["URI",t])),"87"===n&&(t=ke(e),s.push(["IP",t]));return s},this.getExtCRLDistributionPoints=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("cRLDistributionPoints");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var i={extname:"cRLDistributionPoints",array:[]};t&&(i.critical=!0);for(var a=r(e,0),s=0;s<a.length;s++){var u=o(e,a[s]);i.array.push(this.getDistributionPoint(u))}return i},this.getDistributionPoint=function(e){for(var t={},n=r(e,0),i=0;i<n.length;i++){var a=e.substr(n[i],2),s=o(e,n[i]);"a0"==a&&(t.dpname=this.getDistributionPointName(s))}return t},this.getDistributionPointName=function(e){for(var t={},n=r(e,0),i=0;i<n.length;i++){var a=e.substr(n[i],2),s=o(e,n[i]);"a0"==a&&(t.full=this.getGeneralNames(s))}return t},this.getExtCRLDistributionPointsURI=function(){var e=this.getExtCRLDistributionPoints();if(void 0==e)return e;for(var t=e.array,n=[],r=0;r<t.length;r++)try{void 0!=t[r].dpname.full[0].uri&&n.push(t[r].dpname.full[0].uri)}catch(i){}return n},this.getExtAIAInfo=function(){var e=this.getExtInfo("authorityInfoAccess");if(void 0===e)return e;for(var t={ocsp:[],caissuer:[]},n=r(this.hex,e.vidx),i=0;i<n.length;i++){var a=s(this.hex,n[i],[0],"06"),o=s(this.hex,n[i],[1],"86");"2b06010505073001"===a&&t.ocsp.push(le(o)),"2b06010505073002"===a&&t.caissuer.push(le(o))}return t},this.getExtAuthorityInfoAccess=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("authorityInfoAccess");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var i={extname:"authorityInfoAccess",array:[]};t&&(i.critical=!0);for(var a=r(e,0),c=0;c<a.length;c++){var l=u(e,a[c],[0],"06"),h=le(s(e,a[c],[1],"86"));if("2b06010505073001"==l)i.array.push({ocsp:h});else{if("2b06010505073002"!=l)throw new Error("unknown method: "+l);i.array.push({caissuer:h})}}return i},this.getExtCertificatePolicies=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("certificatePolicies");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var i={extname:"certificatePolicies",array:[]};t&&(i.critical=!0);for(var a=r(e,0),s=0;s<a.length;s++){var u=o(e,a[s]),c=this.getPolicyInformation(u);i.array.push(c)}return i},this.getPolicyInformation=function(e){var t={},n=s(e,0,[0],"06");t.policyoid=v(n);var i=f(e,0,[1],"30");if(-1!=i){t.array=[];for(var a=r(e,i),u=0;u<a.length;u++){var c=o(e,a[u]),l=this.getPolicyQualifierInfo(c);t.array.push(l)}}return t},this.getOtherName=function(e){var t={},n=r(e,0),i=s(e,n[0],[],"06"),o=s(e,n[1],[]);return t.oid=v(i),t.value=a(o),t},this.getPolicyQualifierInfo=function(e){var t={},n=s(e,0,[0],"06");if("2b06010505070201"===n){var r=u(e,0,[1],"16");t.cps=fe(r)}else if("2b06010505070202"===n){var i=c(e,0,[1],"30");t.unotice=this.getUserNotice(i)}return t},this.getUserNotice=function(e){for(var t={},n=r(e,0),i=0;i<n.length;i++){var a=o(e,n[i]);"30"!=a.substr(0,2)&&(t.exptext=this.getDisplayText(a))}return t},this.getDisplayText=function(e){var t={};return t.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[e.substr(0,2)],t.str=fe(i(e,0)),t},this.getExtPolicyMappings=function(e,t){var n=this.getCriticalExtV("policyMappings",e,t);if(e=n[0],t=n[1],null!=e){var r={extname:"policyMappings"};t&&(r.critical=!0);try{for(var i=a(e).seq,o=[],s=0;s<i.length;s++){var u=i[s].seq;o.push([u[0].oid,u[1].oid])}r.array=o}catch(c){throw new m("malformed policyMappings")}return r}},this.getExtPolicyConstraints=function(e,t){var n=this.getCriticalExtV("policyConstraints",e,t);if(e=n[0],t=n[1],null!=e){var r={extname:"policyConstraints"};t&&(r.critical=!0);var i=a(e);try{for(var o=i.seq,s=0;s<o.length;s++){var u=o[s].tag;0==u.explicit&&("80"==u.tag&&(r.reqexp=parseInt(u.hex,16)),"81"==u.tag&&(r.inhibit=parseInt(u.hex,16)))}}catch(c){return new m("malformed policyConstraints value")}return r}},this.getExtInhibitAnyPolicy=function(e,t){var n=this.getCriticalExtV("inhibitAnyPolicy",e,t);if(e=n[0],t=n[1],null!=e){var r={extname:"inhibitAnyPolicy"};t&&(r.critical=!0);var i=p(e,0);return-1==i?new m("wrong value"):(r.skip=i,r)}},this.getExtCRLNumber=function(e,t){var n={extname:"cRLNumber"};if(t&&(n.critical=!0),"02"==e.substr(0,2))return n.num={hex:i(e,0)},n;throw new m("hExtV parse error: "+e)},this.getExtCRLReason=function(e,t){var n={extname:"cRLReason"};if(t&&(n.critical=!0),"0a"==e.substr(0,2))return n.code=parseInt(i(e,0),16),n;throw new Error("hExtV parse error: "+e)},this.getExtOcspNonce=function(e,t){var n={extname:"ocspNonce"};t&&(n.critical=!0);var r=i(e,0);return n.hex=r,n},this.getExtOcspNoCheck=function(e,t){var n={extname:"ocspNoCheck"};return t&&(n.critical=!0),n},this.getExtAdobeTimeStamp=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("adobeTimeStamp");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var i={extname:"adobeTimeStamp"};t&&(i.critical=!0);var a=r(e,0);if(a.length>1){var s=o(e,a[1]),u=this.getGeneralName(s);void 0!=u.uri&&(i.uri=u.uri)}if(a.length>2){var c=o(e,a[2]);"0101ff"==c&&(i.reqauth=!0),"010100"==c&&(i.reqauth=!1)}return i};var b=function(e){var t={};try{var n=e.seq[0].oid,r=X.asn1.x509.OID.name2oid(n);t.type=X.asn1.x509.OID.oid2atype(r);var i=e.seq[1];if(void 0!=i.utf8str)t.ds="utf8",t.value=i.utf8str.str;else if(void 0!=i.numstr)t.ds="num",t.value=i.numstr.str;else if(void 0!=i.telstr)t.ds="tel",t.value=i.telstr.str;else if(void 0!=i.prnstr)t.ds="prn",t.value=i.prnstr.str;else if(void 0!=i.ia5str)t.ds="ia5",t.value=i.ia5str.str;else if(void 0!=i.visstr)t.ds="vis",t.value=i.visstr.str;else{if(void 0==i.bmpstr)throw"error";t.ds="bmp",t.value=i.bmpstr.str}return t}catch(a){throw new Erorr("improper ASN.1 parsed AttrTypeAndValue")}},w=function(e){try{return e.set.map((function(e){return b(e)}))}catch(H){throw new Error("improper ASN.1 parsed RDN: "+H)}};this.getX500NameRule=function(e){for(var t=null,n=[],r=0;r<e.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(i[a]);for(r=0;r<n.length;r++){var o=n[r],s=o.ds,u=o.value,c=o.type;if(":"+s,"prn"!=s&&"utf8"!=s&&"ia5"!=s)return"mixed";if("ia5"==s){if("CN"!=c)return"mixed";if(X.lang.String.isMail(u))continue;return"mixed"}if("C"==c){if("prn"==s)continue;return"mixed"}if(":"+s,null==t)t=s;else if(t!==s)return"mixed"}return null==t?"prn":t},this.getAttrTypeAndValue=function(e){var t=a(e);return b(t)},this.getRDN=function(e){var t=a(e);return w(t)},this.getX500NameArray=function(e){return function(t){try{return t.seq.map((function(e){return w(e)}))}catch(e){throw new Error("improper ASN.1 parsed X500Name: "+e)}}(a(e))},this.getX500Name=function(e,t,n){var r=this.getX500NameArray(e),i={str:this.dnarraytostr(r)};return i.array=r,1==n&&(i.hex=e),1==t&&(i.canon=this.c14nRDNArray(r)),i},this.readCertPEM=function(e){this.readCertHex(y(e))},this.readCertHex=function(e){this.hex=e,this.getVersion();try{h(this.hex,0,[0,7],"a3"),this.parseExt()}catch(t){}},this.getParam=function(e){var t={};return void 0==e&&(e={}),t.version=this.getVersion(),t.serial={hex:this.getSerialNumberHex()},t.sigalg=this.getSignatureAlgorithmField(),t.issuer=this.getIssuer(e.dncanon,e.dnhex),t.notbefore=this.getNotBefore(),t.notafter=this.getNotAfter(),t.subject=this.getSubject(e.dncanon,e.dnhex),t.sbjpubkey=ye(this.getPublicKeyHex(),"PUBLIC KEY"),void 0!=this.aExtInfo&&this.aExtInfo.length>0&&(t.ext=this.getExtParamArray()),t.sighex=this.getSignatureValueHex(),1==e.tbshex&&(t.tbshex=c(this.hex,0,[0])),1==e.nodnarray&&(delete t.issuer.array,delete t.subject.array),t},this.getExtParamArray=function(e){void 0==e&&(-1!=f(this.hex,0,[0,"[3]"])&&(e=l(this.hex,0,[0,"[3]",0],"30")));for(var t=[],n=r(e,0),i=0;i<n.length;i++){var a=o(e,n[i]),s=this.getExtParam(a);null!=s&&t.push(s)}return t},this.getExtParam=function(e){var t=r(e,0).length;if(2!=t&&3!=t)throw new Error("wrong number elements in Extension: "+t+" "+e);var n=g(s(e,0,[0],"06")),i=!1;3==t&&"0101ff"==c(e,0,[1])&&(i=!0);var a=c(e,0,[t-1,0]),o=void 0;if("2.5.29.14"==n?o=this.getExtSubjectKeyIdentifier(a,i):"2.5.29.15"==n?o=this.getExtKeyUsage(a,i):"2.5.29.17"==n?o=this.getExtSubjectAltName(a,i):"2.5.29.18"==n?o=this.getExtIssuerAltName(a,i):"2.5.29.19"==n?o=this.getExtBasicConstraints(a,i):"2.5.29.30"==n?o=this.getExtNameConstraints(a,i):"2.5.29.31"==n?o=this.getExtCRLDistributionPoints(a,i):"2.5.29.32"==n?o=this.getExtCertificatePolicies(a,i):"2.5.29.33"==n?o=this.getExtPolicyMappings(a,i):"2.5.29.35"==n?o=this.getExtAuthorityKeyIdentifier(a,i):"2.5.29.36"==n?o=this.getExtPolicyConstraints(a,i):"2.5.29.37"==n?o=this.getExtExtKeyUsage(a,i):"2.5.29.54"==n?o=this.getExtInhibitAnyPolicy(a,i):"1.3.6.1.5.5.7.1.1"==n?o=this.getExtAuthorityInfoAccess(a,i):"2.5.29.20"==n?o=this.getExtCRLNumber(a,i):"2.5.29.21"==n?o=this.getExtCRLReason(a,i):"1.3.6.1.5.5.7.48.1.2"==n?o=this.getExtOcspNonce(a,i):"1.3.6.1.5.5.7.48.1.5"==n?o=this.getExtOcspNoCheck(a,i):"1.2.840.113583.1.1.9.1"==n&&(o=this.getExtAdobeTimeStamp(a,i)),void 0!=o)return o;var u={extname:n,extn:a};return i&&(u.critical=!0),u},this.findExt=function(e,t){for(var n=0;n<e.length;n++)if(e[n].extname==t)return e[n];return null},this.updateExtCDPFullURI=function(e,t){var n=this.findExt(e,"cRLDistributionPoints");if(null!=n&&void 0!=n.array)for(var r=n.array,i=0;i<r.length;i++)if(void 0!=r[i].dpname&&void 0!=r[i].dpname.full)for(var a=r[i].dpname.full,o=0;o<a.length;o++){var s=a[i];void 0!=s.uri&&(s.uri=t)}},this.updateExtAIAOCSP=function(e,t){var n=this.findExt(e,"authorityInfoAccess");if(null!=n&&void 0!=n.array)for(var r=n.array,i=0;i<r.length;i++)void 0!=r[i].ocsp&&(r[i].ocsp=t)},this.updateExtAIACAIssuer=function(e,t){var n=this.findExt(e,"authorityInfoAccess");if(null!=n&&void 0!=n.array)for(var r=n.array,i=0;i<r.length;i++)void 0!=r[i].caissuer&&(r[i].caissuer=t)},this.dnarraytostr=function(e){return"/"+e.map((function(e){return function(e){return e.map((function(e){return function(e){return e.type+"="+e.value}(e).replace(/\+/,"\\+")})).join("+")}(e).replace(/\//,"\\/")})).join("/")},this.setCanonicalizedDN=function(e){var t;if(void 0!=e.str&&void 0==e.array){var n=new X.asn1.x509.X500Name({str:e.str}).tohex();t=this.getX500NameArray(n)}else t=e.array;void 0==e.canon&&(e.canon=this.c14nRDNArray(t))},this.c14nRDNArray=function(e){for(var t=[],n=0;n<e.length;n++){for(var r=e[n],i=[],a=0;a<r.length;a++){var o=r[a],s=o.value;s=(s=(s=(s=s.replace(/^\s*/,"")).replace(/\s*$/,"")).replace(/\s+/g," ")).toLowerCase(),i.push(o.type.toLowerCase()+"="+s)}t.push(i.join("+"))}return"/"+t.join("/")},this.getInfo=function(){var e,t,n,r=function(e){for(var t="",n="    ",r="\n",i=e.array,a=0;a<i.length;a++){var o=i[a];if(void 0!=o.dn&&(t+=n+"dn: "+o.dn.str+r),void 0!=o.ip&&(t+=n+"ip: "+o.ip+r),void 0!=o.rfc822&&(t+=n+"rfc822: "+o.rfc822+r),void 0!=o.dns&&(t+=n+"dns: "+o.dns+r),void 0!=o.uri&&(t+=n+"uri: "+o.uri+r),void 0!=o.other)t+=n+"other: "+o.other.oid+"="+JSON.stringify(o.other.value).replace(/\"/g,"")+r}return t=t.replace(/\n$/,"")},i=function(e){for(var t="",n=e.array,r=0;r<n.length;r++){var i=n[r];if(t+="    policy oid: "+i.policyoid+"\n",void 0!==i.array)for(var a=0;a<i.array.length;a++){var o=i.array[a];void 0!==o.cps&&(t+="    cps: "+o.cps+"\n")}}return t},a=function(e){for(var t="",n=e.array,r=0;r<n.length;r++){var i=n[r];try{void 0!==i.dpname.full[0].uri&&(t+="    "+i.dpname.full[0].uri+"\n")}catch(a){}try{void 0!==i.dname.full[0].dn.hex&&(t+="    "+We.hex2dn(i.dpname.full[0].dn.hex)+"\n")}catch(a){}}return t},o=function(e){for(var t="",n=e.array,r=0;r<n.length;r++){var i=n[r];void 0!==i.caissuer&&(t+="    caissuer: "+i.caissuer+"\n"),void 0!==i.ocsp&&(t+="    ocsp: "+i.ocsp+"\n")}return t};if(e="Basic Fields\n",e+="  serial number: "+this.getSerialNumberHex()+"\n",e+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",e+="  issuer: "+this.getIssuerString()+"\n",e+="  notBefore: "+this.getNotBefore()+"\n",e+="  notAfter: "+this.getNotAfter()+"\n",e+="  subject: "+this.getSubjectString()+"\n",e+="  subject public key info: \n",e+="    key algorithm: "+(t=this.getPublicKey()).type+"\n","RSA"===t.type&&(e+="    n="+Oe(t.n.toString(16)).substr(0,16)+"...\n",e+="    e="+Oe(t.e.toString(16))+"\n"),void 0!==(n=this.aExtInfo)&&null!==n){e+="X509v3 Extensions:\n";for(var s=0;s<n.length;s++){var u=n[s],c=X.asn1.x509.OID.oid2name(u.oid);""===c&&(c=u.oid);var l="";if(!0===u.critical&&(l="CRITICAL"),e+="  "+c+" "+l+":\n","basicConstraints"===c){var h=this.getExtBasicConstraints();void 0===h.cA?e+="    {}\n":(e+="    cA=true",void 0!==h.pathLen&&(e+=", pathLen="+h.pathLen),e+="\n")}else{var f;if("policyMappings"==c)e+="    "+this.getExtPolicyMappings().array.map((function(e){var t=e;return t[0]+":"+t[1]})).join(", ")+"\n";else if("policyConstraints"==c)e+="    ",void 0!=(f=this.getExtPolicyConstraints()).reqexp&&(e+=" reqexp="+f.reqexp),void 0!=f.inhibit&&(e+=" inhibit="+f.inhibit),e+="\n";else if("inhibitAnyPolicy"==c)e+="    skip="+(f=this.getExtInhibitAnyPolicy()).skip+"\n";else if("keyUsage"==c)e+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"==c)e+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"==c){var d=this.getExtAuthorityKeyIdentifier();void 0!==d.kid&&(e+="    kid="+d.kid.hex+"\n")}else{if("extKeyUsage"==c)e+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n";else if("subjectAltName"==c)e+=r(this.getExtSubjectAltName())+"\n";else if("cRLDistributionPoints"==c)e+=a(this.getExtCRLDistributionPoints());else if("authorityInfoAccess"==c)e+=o(this.getExtAuthorityInfoAccess());else"certificatePolicies"==c&&(e+=i(this.getExtCertificatePolicies()))}}}}return e+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n",e+="signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?this.readCertPEM(e):X.lang.String.isHex(e)&&this.readCertHex(e))}z.prototype.sign=function(e,t){var n,r=(n=e,X.crypto.Util.hashString(n,t));return this.signWithMessageHash(r,t)},z.prototype.signWithMessageHash=function(e,t){var n=q(X.crypto.Util.getPaddedDigestInfoHex(e,t,this.n.bitLength()),16);return qe(this.doPrivate(n).toString(16),this.n.bitLength())},z.prototype.signPSS=function(e,t,n){var r,i=(r=de(e),X.crypto.Util.hashHex(r,t));return void 0===n&&(n=-1),this.signWithMessageHashPSS(i,t,n)},z.prototype.signWithMessageHashPSS=function(e,t,n){var r,i=fe(e),a=i.length,o=this.n.bitLength()-1,s=Math.ceil(o/8),u=function(e){return X.crypto.Util.hashHex(e,t)};if(-1===n||void 0===n)n=a;else if(-2===n)n=s-a-2;else if(n<-2)throw new Error("invalid salt length");if(s<a+n+2)throw new Error("data too long");var c="";n>0&&(c=new Array(n),(new U).nextBytes(c),c=String.fromCharCode.apply(String,c));var h=fe(u(de("\0\0\0\0\0\0\0\0"+i+c))),f=[];for(r=0;r<s-n-a-2;r+=1)f[r]=0;var d=String.fromCharCode.apply(String,f)+"\x01"+c,p=Ke(h,d.length,u),v=[];for(r=0;r<d.length;r+=1)v[r]=d.charCodeAt(r)^p.charCodeAt(r);var g=65280>>8*s-o&255;for(v[0]&=~g,r=0;r<a;r++)v.push(h.charCodeAt(r));return v.push(188),qe(this.doPrivate(new l(v)).toString(16),this.n.bitLength())},z.prototype.verify=function(e,t){if(null==(t=t.toLowerCase()).match(/^[0-9a-f]+$/))return!1;var n=q(t,16),r=this.n.bitLength();if(n.bitLength()>r)return!1;var i=this.doPublic(n).toString(16);if(i.length+3!=r/4)return!1;var a=ze(i.replace(/^1f+00/,""));if(0==a.length)return!1;var o,s=a[0];return a[1]==(o=e,X.crypto.Util.hashString(o,s))},z.prototype.verifyWithMessageHash=function(e,t){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var n=q(t,16);if(n.bitLength()>this.n.bitLength())return 0;var r=ze(this.doPublic(n).toString(16).replace(/^1f+00/,""));if(0==r.length)return!1;r[0];return r[1]==e},z.prototype.verifyPSS=function(e,t,n,r){var i,a=(i=de(e),X.crypto.Util.hashHex(i,n));return void 0===r&&(r=-1),this.verifyWithMessageHashPSS(a,t,n,r)},z.prototype.verifyWithMessageHashPSS=function(e,t,n,r){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var i,a=new l(t,16),o=function(e){return X.crypto.Util.hashHex(e,n)},s=fe(e),u=s.length,c=this.n.bitLength()-1,h=Math.ceil(c/8);if(-1===r||void 0===r)r=u;else if(-2===r)r=h-u-2;else if(r<-2)throw new Error("invalid salt length");if(h<u+r+2)throw new Error("data too long");var f=this.doPublic(a).toByteArray();for(i=0;i<f.length;i+=1)f[i]&=255;for(;f.length<h;)f.unshift(0);if(188!==f[h-1])throw new Error("encoded message does not end in 0xbc");var d=(f=String.fromCharCode.apply(String,f)).substr(0,h-u-1),p=f.substr(d.length,u),v=65280>>8*h-c&255;if(0!==(d.charCodeAt(0)&v))throw new Error("bits beyond keysize not zero");var g=Ke(p,d.length,o),y=[];for(i=0;i<d.length;i+=1)y[i]=d.charCodeAt(i)^g.charCodeAt(i);y[0]&=~v;var m=h-u-r-2;for(i=0;i<m;i+=1)if(0!==y[i])throw new Error("leftmost octets not zero");if(1!==y[m])throw new Error("0x01 marker not found");return p===fe(o(de("\0\0\0\0\0\0\0\0"+s+String.fromCharCode.apply(String,y.slice(-r)))))},z.SALT_LEN_HLEN=-1,z.SALT_LEN_MAX=-2,z.SALT_LEN_RECOVER=-2,We.hex2dn=function(e,t){void 0===t&&(t=0);var n=new We;ee.getTLV(e,t);return n.getX500Name(e).str},We.hex2rdn=function(e,t){if(void 0===t&&(t=0),"31"!==e.substr(t,2))throw new Error("malformed RDN");for(var n=new Array,r=ee.getChildIdx(e,t),i=0;i<r.length;i++)n.push(We.hex2attrTypeValue(e,r[i]));return(n=n.map((function(e){return e.replace("+","\\+")}))).join("+")},We.hex2attrTypeValue=function(e,t){var n=ee,r=n.getV;if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw new Error("malformed attribute type and value");var i=n.getChildIdx(e,t);2!==i.length||e.substr(i[0],2);var a=r(e,i[0]),o=X.asn1.ASN1Util.oidHexToInt(a);return X.asn1.x509.OID.oid2atype(o)+"="+fe(r(e,i[1]))},We.getPublicKeyFromCertHex=function(e){var t=new We;return t.readCertHex(e),t.getPublicKey()},We.getPublicKeyFromCertPEM=function(e){var t=new We;return t.readCertPEM(e),t.getPublicKey()},We.getPublicKeyInfoPropOfCertPEM=function(e){var t,n,r=ee.getVbyList,i={};return i.algparam=null,(t=new We).readCertPEM(e),n=t.getPublicKeyHex(),i.keyhex=r(n,0,[1],"03").substr(2),i.algoid=r(n,0,[0,0],"06"),"2a8648ce3d0201"===i.algoid&&(i.algparam=r(n,0,[0,1],"06")),i},We.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"];"undefined"!=typeof X&&X||(X={}),"undefined"!=typeof X.jws&&X.jws||(X.jws={}),X.jws.JWS=function(){var e=X.jws.JWS.isSafeJSONString;this.parseJWS=function(t,n){if(void 0===this.parsedJWS||!n&&void 0===this.parsedJWS.sigvalH){var r=t.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==r)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var i=r[1],a=r[2],o=r[3],s=i+"."+a;if(this.parsedJWS={},this.parsedJWS.headB64U=i,this.parsedJWS.payloadB64U=a,this.parsedJWS.sigvalB64U=o,this.parsedJWS.si=s,!n){var u=ue(o),c=q(u,16);this.parsedJWS.sigvalH=u,this.parsedJWS.sigvalBI=c}var l=Z(i),h=Z(a);if(this.parsedJWS.headS=l,this.parsedJWS.payloadS=h,!e(l,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+l}}},X.jws.JWS.sign=function(e,t,n,r,i){var a,o,s,u=X,c=u.jws.JWS,l=c.readSafeJSONString,h=c.isSafeJSONString,f=u.crypto,d=(f.ECDSA,f.Mac),p=f.Signature,v=JSON;if("string"!=typeof t&&"object"!=typeof t)throw"spHeader must be JSON string or object: "+t;if("object"==typeof t&&(o=t,a=v.stringify(o)),"string"==typeof t){if(!h(a=t))throw"JWS Head is not safe JSON string: "+a;o=l(a)}if(s=n,"object"==typeof n&&(s=v.stringify(n)),""!=e&&null!=e||void 0===o.alg||(e=o.alg),""!=e&&null!=e&&void 0===o.alg&&(o.alg=e,a=v.stringify(o)),e!==o.alg)throw"alg and sHeader.alg doesn't match: "+e+"!="+o.alg;var g=null;if(void 0===c.jwsalg2sigalg[e])throw"unsupported alg name: "+e;g=c.jwsalg2sigalg[e];var y=Q(a)+"."+Q(s),m="";if("Hmac"==g.substr(0,4)){if(void 0===r)throw"mac key shall be specified for HS* alg";var b=new d({alg:g,prov:"cryptojs",pass:r});b.updateString(y),m=b.doFinal()}else if(-1!=g.indexOf("withECDSA")){(x=new p({alg:g})).init(r,i),x.updateString(y);var w=x.sign();m=X.crypto.ECDSA.asn1SigToConcatSig(w)}else{var x;if("none"!=g)(x=new p({alg:g})).init(r,i),x.updateString(y),m=x.sign()}return y+"."+se(m)},X.jws.JWS.verify=function(e,t,n){var r,i=X,a=i.jws.JWS,o=a.readSafeJSONString,s=i.crypto,u=s.ECDSA,c=s.Mac,l=s.Signature;if(r=z,!Re(e))return!1;var h=e.split(".");if(3!==h.length)return!1;var f=h[0]+"."+h[1],d=ue(h[2]),p=o(Z(h[0])),v=null,g=null;if(void 0===p.alg)throw"algorithm not specified in header";if((g=(v=p.alg).substr(0,2),null!=n&&"[object Array]"===Object.prototype.toString.call(n)&&n.length>0)&&-1==(":"+n.join(":")+":").indexOf(":"+v+":"))throw"algorithm '"+v+"' not accepted in the list";if("none"!=v&&null===t)throw"key shall be specified to verify.";if("string"==typeof t&&-1!=t.indexOf("-----BEGIN ")&&(t=Ue.getKey(t)),("RS"==g||"PS"==g)&&!(t instanceof r))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==g&&!(t instanceof u))throw"key shall be a ECDSA obj for ES* algs";var y=null;if(void 0===a.jwsalg2sigalg[p.alg])throw"unsupported alg name: "+v;if("none"==(y=a.jwsalg2sigalg[v]))throw"not supported";if("Hmac"==y.substr(0,4)){if(void 0===t)throw"hexadecimal key shall be specified for HMAC";var m=new c({alg:y,pass:t});return m.updateString(f),d==m.doFinal()}if(-1!=y.indexOf("withECDSA")){var b,w=null;try{w=u.concatSigToASN1Sig(d)}catch(x){return!1}return(b=new l({alg:y})).init(t),b.updateString(f),b.verify(w)}return(b=new l({alg:y})).init(t),b.updateString(f),b.verify(d)},X.jws.JWS.parse=function(e){var t,n,r,i=e.split("."),a={};if(2!=i.length&&3!=i.length)throw"malformed sJWS: wrong number of '.' splitted elements";return t=i[0],n=i[1],3==i.length&&(r=i[2]),a.headerObj=X.jws.JWS.readSafeJSONString(Z(t)),a.payloadObj=X.jws.JWS.readSafeJSONString(Z(n)),a.headerPP=JSON.stringify(a.headerObj,null,"  "),null==a.payloadObj?a.payloadPP=Z(n):a.payloadPP=JSON.stringify(a.payloadObj,null,"  "),void 0!==r&&(a.sigHex=ue(r)),a},X.jws.JWS.verifyJWT=function(e,t,n){var r=X.jws,i=r.JWS,a=i.readSafeJSONString,o=i.inArray,s=i.includedArray;if(!Re(e))return!1;var u=e.split(".");if(3!=u.length)return!1;var c=u[0],l=u[1],h=(ue(u[2]),a(Z(c))),f=a(Z(l));if(void 0===h.alg)return!1;if(void 0===n.alg)throw"acceptField.alg shall be specified";if(!o(h.alg,n.alg))return!1;if(void 0!==f.iss&&"object"===typeof n.iss&&!o(f.iss,n.iss))return!1;if(void 0!==f.sub&&"object"===typeof n.sub&&!o(f.sub,n.sub))return!1;if(void 0!==f.aud&&"object"===typeof n.aud)if("string"==typeof f.aud){if(!o(f.aud,n.aud))return!1}else if("object"==typeof f.aud&&!s(f.aud,n.aud))return!1;var d=r.IntDate.getNow();return void 0!==n.verifyAt&&"number"===typeof n.verifyAt&&(d=n.verifyAt),void 0!==n.gracePeriod&&"number"===typeof n.gracePeriod||(n.gracePeriod=0),!(void 0!==f.exp&&"number"==typeof f.exp&&f.exp+n.gracePeriod<d)&&(!(void 0!==f.nbf&&"number"==typeof f.nbf&&d<f.nbf-n.gracePeriod)&&(!(void 0!==f.iat&&"number"==typeof f.iat&&d<f.iat-n.gracePeriod)&&((void 0===f.jti||void 0===n.jti||f.jti===n.jti)&&!!i.verify(e,t,n.alg))))},X.jws.JWS.includedArray=function(e,t){var n=X.jws.JWS.inArray;if(null===e)return!1;if("object"!==typeof e)return!1;if("number"!==typeof e.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t))return!1;return!0},X.jws.JWS.inArray=function(e,t){if(null===t)return!1;if("object"!==typeof t)return!1;if("number"!==typeof t.length)return!1;for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},X.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",ES512:"SHA512withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},X.jws.JWS.isSafeJSONString=function(e,t,n){var r=null;try{return"object"!=typeof(r=Y(e))||r.constructor===Array?0:(t&&(t[n]=r),1)}catch(i){return 0}},X.jws.JWS.readSafeJSONString=function(e){var t=null;try{return"object"!=typeof(t=Y(e))||t.constructor===Array?null:t}catch(n){return null}},X.jws.JWS.getEncodedSignatureValueFromJWS=function(e){var t=e.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==t)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return t[1]},X.jws.JWS.getJWKthumbprint=function(e){if("RSA"!==e.kty&&"EC"!==e.kty&&"oct"!==e.kty)throw"unsupported algorithm for JWK Thumprint";var t="{";if("RSA"===e.kty){if("string"!=typeof e.n||"string"!=typeof e.e)throw"wrong n and e value for RSA key";t+='"e":"'+e.e+'",',t+='"kty":"'+e.kty+'",',t+='"n":"'+e.n+'"}'}else if("EC"===e.kty){if("string"!=typeof e.crv||"string"!=typeof e.x||"string"!=typeof e.y)throw"wrong crv, x and y value for EC key";t+='"crv":"'+e.crv+'",',t+='"kty":"'+e.kty+'",',t+='"x":"'+e.x+'",',t+='"y":"'+e.y+'"}'}else if("oct"===e.kty){if("string"!=typeof e.k)throw"wrong k value for oct(symmetric) key";t+='"kty":"'+e.kty+'",',t+='"k":"'+e.k+'"}'}var n=de(t);return se(X.crypto.Util.hashHex(n,"sha256"))},X.jws.IntDate={},X.jws.IntDate.get=function(e){var t=X.jws.IntDate,n=t.getNow,r=t.getZulu;if("now"==e)return n();if("now + 1hour"==e)return n()+3600;if("now + 1day"==e)return n()+86400;if("now + 1month"==e)return n()+2592e3;if("now + 1year"==e)return n()+31536e3;if(e.match(/Z$/))return r(e);if(e.match(/^[0-9]+$/))return parseInt(e);throw"unsupported format: "+e},X.jws.IntDate.getZulu=function(e){return we(e)},X.jws.IntDate.getNow=function(){return~~(new Date/1e3)},X.jws.IntDate.intDate2UTCString=function(e){return new Date(1e3*e).toUTCString()},X.jws.IntDate.intDate2Zulu=function(e){var t=new Date(1e3*e);return("0000"+t.getUTCFullYear()).slice(-4)+("00"+(t.getUTCMonth()+1)).slice(-2)+("00"+t.getUTCDate()).slice(-2)+("00"+t.getUTCHours()).slice(-2)+("00"+t.getUTCMinutes()).slice(-2)+("00"+t.getUTCSeconds()).slice(-2)+"Z"},"undefined"!=typeof X&&X||(X={}),"undefined"!=typeof X.jws&&X.jws||(X.jws={}),X.jws.JWSJS=function(){var e=X.jws.JWS,t=e.readSafeJSONString;this.aHeader=[],this.sPayload="",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(e){this.init();var t=e.split(".");if(3!=t.length)throw"malformed input JWS";this.aHeader.push(t[0]),this.sPayload=t[1],this.aSignature.push(t[2])},this.addSignature=function(e,t,n,r){if(void 0===this.sPayload||null===this.sPayload)throw"there's no JSON-JS signature to add.";var i=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw"aHeader.length != aSignature.length";try{var a=X.jws.JWS.sign(e,t,this.sPayload,n,r).split(".");a[0],a[2];this.aHeader.push(a[0]),this.aSignature.push(a[2])}catch(o){throw this.aHeader.length>i&&this.aHeader.pop(),this.aSignature.length>i&&this.aSignature.pop(),"addSignature failed: "+o}},this.verifyAll=function(e){if(this.aHeader.length!==e.length||this.aSignature.length!==e.length)return!1;for(var t=0;t<e.length;t++){var n=e[t];if(2!==n.length)return!1;if(!1===this.verifyNth(t,n[0],n[1]))return!1}return!0},this.verifyNth=function(t,n,r){if(this.aHeader.length<=t||this.aSignature.length<=t)return!1;var i=this.aHeader[t],a=this.aSignature[t],o=i+"."+this.sPayload+"."+a,s=!1;try{s=e.verify(o,n,r)}catch(u){return!1}return s},this.readJWSJS=function(e){if("string"===typeof e){var n=t(e);if(null==n)throw"argument is not safe JSON object string";this.aHeader=n.headers,this.sPayload=n.payload,this.aSignature=n.signatures}else try{if(!(e.headers.length>0))throw"malformed header";if(this.aHeader=e.headers,"string"!==typeof e.payload)throw"malformed signatures";if(this.sPayload=e.payload,!(e.signatures.length>0))throw"malformed signatures";this.aSignature=e.signatures}catch(r){throw"malformed JWS-JS JSON object: "+r}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return 0==this.aHeader.length?1:0}},X.crypto.ECDSA,X.crypto.DSA,X.crypto.Signature,X.crypto.MessageDigest,X.crypto.Mac,X.crypto.Cipher,t.fs=X,X.crypto,X.asn1,X.jws,X.lang},102:function(e){function t(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function n(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,r,i){var a=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");"function"===typeof r&&(i=r,r={}),r=r||{},i=i||function(){},o.type=r.type||"text/javascript",o.charset=r.charset||"utf8",o.async=!("async"in r)||!!r.async,o.src=e,r.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(o,r.attrs),r.text&&(o.text=""+r.text),("onload"in o?t:n)(o,i),o.onload||t(o,i),a.appendChild(o)}},781:function(e,t,n){"use strict";n.r(t);var r=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function i(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(i=e[n],a=t[n],!(i===a||r(i)&&r(a)))return!1;var i,a;return!0}t.default=function(e,t){var n;void 0===t&&(t=i);var r,a=[],o=!1;return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return o&&n===this&&t(i,a)||(r=e.apply(this,i),o=!0,n=this,a=i),r}}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function m(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,m);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,m);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,m);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),A=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var j,L=Object.assign;function B(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var M=!1;function H(e,t){if(!e||M)return"";M=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{M=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function V(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 1:return e=H(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case _:return"Portal";case k:return"Profiler";case E:return"StrictMode";case I:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case F:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function z(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=z(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=z(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){X(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,he=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function me(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Se=null,Ee=null;function ke(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=xi(t),_e(e.stateNode,e.type,t))}}function Ce(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Ae(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Pe(e,t){return e(t)}function Ie(){}var Te=!1;function Fe(e,t,n){if(Te)return e(t,n);Te=!0;try{return Pe(e,t,n)}finally{Te=!1,(null!==Se||null!==Ee)&&(Ie(),Ae())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(le){Oe=!1}function De(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var je=!1,Le=null,Be=!1,Me=null,He={onError:function(e){je=!0,Le=e}};function Ve(e,t,n,r,i,a,o,s,u){je=!1,Le=null,De.apply(He,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Ue(e)!==e)throw Error(a(188))}function ze(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,$e=i.unstable_cancelCallback,Je=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Qe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ht(s):0!==(a&=o)&&(r=ht(a))}else 0!==(o=n&~i)?r=ht(o):0!==a&&(r=ht(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function mt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,_t,St,Et,kt,Ct=!1,At=[],Pt=null,It=null,Tt=null,Ft=new Map,Rt=new Map,Ot=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Ft.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function jt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=mi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void kt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Mt(e,t,n){Bt(e)&&n.delete(t)}function Ht(){Ct=!1,null!==Pt&&Bt(Pt)&&(Pt=null),null!==It&&Bt(It)&&(It=null),null!==Tt&&Bt(Tt)&&(Tt=null),Ft.forEach(Mt),Rt.forEach(Mt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ht)))}function Ut(e){function t(t){return Vt(t,e)}if(0<At.length){Vt(At[0],e);for(var n=1;n<At.length;n++){var r=At[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Pt&&Vt(Pt,e),null!==It&&Vt(It,e),null!==Tt&&Vt(Tt,e),Ft.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Lt(n),null===n.blockedOn&&Ot.shift()}var qt=w.ReactCurrentBatchConfig,Kt=!0;function zt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Wt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Gt(e,t,n,r){if(Kt){var i=Jt(e,t,n,r);if(null===i)Kr(e,t,r,$t,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Pt=jt(Pt,e,t,n,r,i),!0;case"dragenter":return It=jt(It,e,t,n,r,i),!0;case"mouseover":return Tt=jt(Tt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ft.set(a,jt(Ft.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,jt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&xt(a),null===(a=Jt(e,t,n,r))&&Kr(e,t,r,$t,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var $t=null;function Jt(e,t,n,r){if($t=null,null!==(e=mi(e=xe(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Qt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Qt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),hn=L({},cn,{view:0,detail:0}),fn=an(hn),dn=L({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(L({},dn,{dataTransfer:0})),gn=an(L({},hn,{relatedTarget:0})),yn=an(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(mn),wn=an(L({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function kn(){return En}var Cn=L({},hn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=an(Cn),Pn=an(L({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=an(L({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Tn=an(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Fn=L({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(Fn),On=[9,13,27,32],Nn=l&&"CompositionEvent"in window,Dn=null;l&&"documentMode"in document&&(Dn=document.documentMode);var jn=l&&"TextEvent"in window&&!Dn,Ln=l&&(!Nn||Dn&&8<Dn&&11>=Dn),Bn=String.fromCharCode(32),Mn=!1;function Hn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function zn(e,t,n,r){Ce(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function $n(e){Br(e,0)}function Jn(e){if(G(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Qn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Qn=Zn}else Qn=!1;Xn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&Jn(Gn)){var t=[];zn(t,Gn,e,xe(e)),Fe($n,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Gn)}function ar(e,t){if("click"===e)return Jn(t)}function or(e,t){if("input"===e||"change"===e)return Jn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,mr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==$(r)||("selectionStart"in(r=gr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&ur(mr,r)||(mr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Sr={},Er={};function kr(e){if(Sr[e])return Sr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Cr=kr("animationend"),Ar=kr("animationiteration"),Pr=kr("animationstart"),Ir=kr("transitionend"),Tr=new Map,Fr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Tr.set(e,t),u(t,[e])}for(var Or=0;Or<Fr.length;Or++){var Nr=Fr[Or];Rr(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Rr(Cr,"onAnimationEnd"),Rr(Ar,"onAnimationIteration"),Rr(Pr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Ve.apply(this,arguments),je){if(!je)throw Error(a(198));var l=Le;je=!1,Le=null,Be||(Be=!0,Me=l)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Lr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Lr(i,s,c),a=u}}}if(Be)throw e=Me,Be=!1,Me=null,e}function Mr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Hr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(jr.has(t)||Hr(t,!1,e),Hr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Hr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=zt;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=mi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Fe((function(){var r=a,i=xe(n),o=[];e:{var s=Tr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=An;break;case"focusin":c="focus",u=gn;break;case"focusout":c="blur",u=gn;break;case"beforeblur":case"afterblur":u=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=In;break;case Cr:case Ar:case Pr:u=yn;break;case Ir:u=Tn;break;case"scroll":u=fn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Pn}var l=0!==(4&t),h=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=Re(p,f))&&l.push(zr(p,v,d)))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!mi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?mi(c):null)&&(c!==(h=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Pn,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:wi(u),d=null==c?s:wi(c),(s=new l(v,p+"leave",u,n,i)).target=h,s.relatedTarget=d,v=null,mi(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=d,l.relatedTarget=h,v=l),h=v,u&&c)e:{for(f=c,p=0,d=l=u;d;d=Gr(d))p++;for(d=0,v=f;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)f=Gr(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Gr(l),f=Gr(f)}l=null}else l=null;null!==u&&$r(o,s,u,l,!1),null!==c&&null!==h&&$r(o,h,c,l,!0)}if("select"===(u=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Yn;else if(Kn(s))if(Xn)g=or;else{g=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ar);switch(g&&(g=g(e,r))?zn(o,g,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?wi(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,mr=null);break;case"focusout":mr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":wr(o,n,i)}var m;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?Hn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(m=en()):(Qt="value"in(Xt=i)?Xt.value:Xt.textContent,Un=!0)),0<(y=Wr(r,b)).length&&(b=new wn(b,e,null,n,i),o.push({event:b,listeners:y}),m?b.data=m:null!==(m=Vn(n))&&(b.data=m))),(m=jn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Mn=!0,Bn);case"textInput":return(e=t.data)===Bn&&Mn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Nn&&Hn(e,t)?(e=en(),Zt=Qt=Xt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=m))}Br(o,t)}))}function zr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(zr(e,a,i)),null!=(a=Re(e,t))&&r.push(zr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Re(n,a))&&o.unshift(zr(n,u,s)):i||null!=(u=Re(n,a))&&o.push(zr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Jr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Yr,"")}function Qr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,di="__reactProps$"+hi,pi="__reactContainer$"+hi,vi="__reactEvents$"+hi,gi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function mi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[fi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function xi(e){return e[di]||null}var _i=[],Si=-1;function Ei(e){return{current:e}}function ki(e){0>Si||(e.current=_i[Si],_i[Si]=null,Si--)}function Ci(e,t){Si++,_i[Si]=e.current,e.current=t}var Ai={},Pi=Ei(Ai),Ii=Ei(!1),Ti=Ai;function Fi(e,t){var n=e.type.contextTypes;if(!n)return Ai;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){ki(Ii),ki(Pi)}function Ni(e,t,n){if(Pi.current!==Ai)throw Error(a(168));Ci(Pi,t),Ci(Ii,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return L({},n,r)}function ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ai,Ti=Pi.current,Ci(Pi,e),Ci(Ii,Ii.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Di(e,t,Ti),r.__reactInternalMemoizedMergedChildContext=e,ki(Ii),ki(Pi),Ci(Pi,e)):ki(Ii),Ci(Ii,n)}var Bi=null,Mi=!1,Hi=!1;function Vi(e){null===Bi?Bi=[e]:Bi.push(e)}function Ui(){if(!Hi&&null!==Bi){Hi=!0;var e=0,t=bt;try{var n=Bi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Bi=null,Mi=!1}catch(i){throw null!==Bi&&(Bi=Bi.slice(e+1)),Ge(Ze,Ui),i}finally{bt=t,Hi=!1}}return null}var qi=[],Ki=0,zi=null,Wi=0,Gi=[],$i=0,Ji=null,Yi=1,Xi="";function Qi(e,t){qi[Ki++]=Wi,qi[Ki++]=zi,zi=e,Wi=t}function Zi(e,t,n){Gi[$i++]=Yi,Gi[$i++]=Xi,Gi[$i++]=Ji,Ji=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Yi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Qi(e,1),Zi(e,1,0))}function ta(e){for(;e===zi;)zi=qi[--Ki],qi[Ki]=null,Wi=qi[--Ki],qi[Ki]=null;for(;e===Ji;)Ji=Gi[--$i],Gi[$i]=null,Xi=Gi[--$i],Gi[$i]=null,Yi=Gi[--$i],Gi[$i]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Fc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ji?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Fc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ha(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw fa(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=w.ReactCurrentBatchConfig;function ga(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ei(null),ma=null,ba=null,wa=null;function xa(){wa=ba=ma=null}function _a(e){var t=ya.current;ki(ya),e._currentValue=t}function Sa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ma=e,wa=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function ka(e){var t=e._currentValue;if(wa!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ma)throw Error(a(308));ba=e,ma.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ca=null;function Aa(e){null===Ca?Ca=[e]:Ca.push(e)}function Pa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Aa(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ia(e,r)}function Ia(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ta=!1;function Fa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Na(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Pu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ia(e,n)}return null===(i=r.interleaved)?(t.next=t,Aa(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ia(e,n)}function Da(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}function ja(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function La(e,t,n,r){var i=e.updateQueue;Ta=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var h=i.baseState;for(o=0,l=c=u=null,s=a;;){var f=s.lane,d=s.eventTime;if((r&f)===f){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(f=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(d,h,f):p)||void 0===f)break e;h=L({},h,f);break e;case 2:Ta=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=h):l=l.next=d,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===l&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);ju|=o,e.lanes=o,e.memoizedState=h}}function Ba(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ma=(new r.Component).refs;function Ha(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Na(e,a,i))&&(nc(t,e,i,r),Da(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Na(e,a,i))&&(nc(t,e,i,r),Da(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Na(e,i,r))&&(nc(t,e,r,n),Da(t,e,r))}};function Ua(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ai,a=t.contextType;return"object"===typeof a&&null!==a?a=ka(a):(i=Ri(t)?Ti:Pi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Fi(e,i):Ai),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function za(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ma,Fa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=ka(a):(a=Ri(t)?Ti:Pi.current,i.context=Fi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ha(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Va.enqueueReplaceState(i,i.state,null),La(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ma&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $a(e){return(0,e._init)(e._payload)}function Ja(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===S?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&$a(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Nc(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Nc(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case _:return(t=Bc(t,e.mode,n)).return=e,t;case R:return f(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Dc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:h(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return h(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,h=a,v=a=0,g=null;null!==h&&v<s.length;v++){h.index>v?(g=h,h=null):g=h.sibling;var y=d(i,h,s[v],u);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,h=g}if(v===s.length)return n(i,h),ia&&Qi(i,v),c;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(a=o(h,a,v),null===l?c=h:l.sibling=h,l=h);return ia&&Qi(i,v),c}for(h=r(i,h);v<s.length;v++)null!==(g=p(h,i,v,s[v],u))&&(e&&null!==g.alternate&&h.delete(null===g.key?v:g.key),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g);return e&&h.forEach((function(e){return t(i,e)})),ia&&Qi(i,v),c}function g(i,s,u,c){var l=D(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var h=l=null,v=s,g=s=0,y=null,m=u.next();null!==v&&!m.done;g++,m=u.next()){v.index>g?(y=v,v=null):y=v.sibling;var b=d(i,v,m.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,g),null===h?l=b:h.sibling=b,h=b,v=y}if(m.done)return n(i,v),ia&&Qi(i,g),l;if(null===v){for(;!m.done;g++,m=u.next())null!==(m=f(i,m.value,c))&&(s=o(m,s,g),null===h?l=m:h.sibling=m,h=m);return ia&&Qi(i,g),l}for(v=r(i,v);!m.done;g++,m=u.next())null!==(m=p(v,i,g,m.value,c))&&(e&&null!==m.alternate&&v.delete(null===m.key?g:m.key),s=o(m,s,g),null===h?l=m:h.sibling=m,h=m);return e&&v.forEach((function(e){return t(i,e)})),ia&&Qi(i,g),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===S){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&$a(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Wa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===S?((a=Dc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Nc(o.type,o.key,o.props,null,r.mode,u)).ref=Wa(r,a,o),u.return=r,r=u)}return s(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Bc(o,r.mode,u)).return=r,r=a}return s(r);case R:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(D(o))return g(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Lc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ya=Ja(!0),Xa=Ja(!1),Qa={},Za=Ei(Qa),eo=Ei(Qa),to=Ei(Qa);function no(e){if(e===Qa)throw Error(a(174));return e}function ro(e,t){switch(Ci(to,t),Ci(eo,e),Ci(Za,Qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Za),Ci(Za,t)}function io(){ki(Za),ki(eo),ki(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ci(eo,e),Ci(Za,n))}function oo(e){eo.current===e&&(ki(Za),ki(eo))}var so=Ei(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var ho=w.ReactCurrentDispatcher,fo=w.ReactCurrentBatchConfig,po=0,vo=null,go=null,yo=null,mo=!1,bo=!1,wo=0,xo=0;function _o(){throw Error(a(321))}function So(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),bo){o=0;do{if(bo=!1,wo=0,25<=o)throw Error(a(301));o+=1,yo=go=null,t.updateQueue=null,ho.current=cs,e=n(r,i)}while(bo)}if(ho.current=os,t=null!==go&&null!==go.next,po=0,yo=go=vo=null,mo=!1,t)throw Error(a(300));return e}function ko(){var e=0!==wo;return wo=0,e}function Co(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function Ao(){if(null===go){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,go=e;else{if(null===e)throw Error(a(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Po(e,t){return"function"===typeof t?t(e):t}function Io(e){var t=Ao(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=go,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var h=l.lane;if((po&h)===h)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:h,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=f,s=r):c=c.next=f,vo.lanes|=h,ju|=h}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,ju|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function To(e){var t=Ao(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ws=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Fo(){}function Ro(e,t){var n=vo,r=Ao(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ws=!0),r=r.queue,Ko(Do.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Mo(9,No.bind(null,n,r,i,t),void 0,null),null===Iu)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function No(e,t,n,r){t.value=n,t.getSnapshot=r,jo(t)&&Lo(e)}function Do(e,t,n){return n((function(){jo(t)&&Lo(e)}))}function jo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Lo(e){var t=Ia(e,1);null!==t&&nc(t,e,1,-1)}function Bo(e){var t=Co();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ho(){return Ao().memoizedState}function Vo(e,t,n,r){var i=Co();vo.flags|=e,i.memoizedState=Mo(1|t,n,void 0,void 0===r?null:r)}function Uo(e,t,n,r){var i=Ao();r=void 0===r?null:r;var a=void 0;if(null!==go){var o=go.memoizedState;if(a=o.destroy,null!==r&&So(r,o.deps))return void(i.memoizedState=Mo(t,n,a,r))}vo.flags|=e,i.memoizedState=Mo(1|t,n,a,r)}function qo(e,t){return Vo(8390656,8,e,t)}function Ko(e,t){return Uo(2048,8,e,t)}function zo(e,t){return Uo(4,2,e,t)}function Wo(e,t){return Uo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $o(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4,4,Go.bind(null,t,e),n)}function Jo(){}function Yo(e,t){var n=Ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=Ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,ju|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{bt=n,fo.transition=r}}function es(){return Ao().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Pa(e,t,n,r))){nc(n,e,r,ec()),as(n,t,r)}}function ns(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Aa(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Pa(e,t,i,r))&&(nc(n,e,r,i=ec()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){bo=mo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}var os={readContext:ka,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},ss={readContext:ka,useCallback:function(e,t){return Co().memoizedState=[e,void 0===t?null:t],e},useContext:ka,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=Co();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Co();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Co().memoizedState=e},useState:Bo,useDebugValue:Jo,useDeferredValue:function(e){return Co().memoizedState=e},useTransition:function(){var e=Bo(!1),t=e[0];return e=Zo.bind(null,e[1]),Co().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Co();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Iu)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Do.bind(null,r,o,e),[e]),r.flags|=2048,Mo(9,No.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Co(),t=Iu.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=wo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=xo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:ka,useCallback:Yo,useContext:ka,useEffect:Ko,useImperativeHandle:$o,useInsertionEffect:zo,useLayoutEffect:Wo,useMemo:Xo,useReducer:Io,useRef:Ho,useState:function(){return Io(Po)},useDebugValue:Jo,useDeferredValue:function(e){return Qo(Ao(),go.memoizedState,e)},useTransition:function(){return[Io(Po)[0],Ao().memoizedState]},useMutableSource:Fo,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1},cs={readContext:ka,useCallback:Yo,useContext:ka,useEffect:Ko,useImperativeHandle:$o,useInsertionEffect:zo,useLayoutEffect:Wo,useMemo:Xo,useReducer:To,useRef:Ho,useState:function(){return To(Po)},useDebugValue:Jo,useDeferredValue:function(e){var t=Ao();return null===go?t.memoizedState=e:Qo(t,go.memoizedState,e)},useTransition:function(){return[To(Po)[0],Ao().memoizedState]},useMutableSource:Fo,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function hs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ku||(Ku=!0,zu=r),fs(0,t)},n}function vs(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Wu?Wu=new Set([this]):Wu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ms(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Na(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=w.ReactCurrentOwner,ws=!1;function xs(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ya(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=ko(),null===e||ws?(ia&&n&&ea(t),t.flags|=1,xs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Es(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Ks(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ks(e,t,i);0!==(131072&e.flags)&&(ws=!0)}}return As(e,t,n,r,i)}function ks(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Ou,Ru),Ru|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Ou,Ru),Ru|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ci(Ou,Ru),Ru|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ci(Ou,Ru),Ru|=r;return xs(e,t,i,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function As(e,t,n,r,i){var a=Ri(n)?Ti:Pi.current;return a=Fi(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=ko(),null===e||ws?(ia&&r&&ea(t),t.flags|=1,xs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function Ps(e,t,n,r,i){if(Ri(n)){var a=!0;ji(t)}else a=!1;if(Ea(t,i),null===t.stateNode)qs(e,t),qa(t,n,r),za(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=ka(c):c=Fi(t,c=Ri(n)?Ti:Pi.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Ka(t,o,r,c),Ta=!1;var f=t.memoizedState;o.state=f,La(t,r,o,i),u=t.memoizedState,s!==r||f!==u||Ii.current||Ta?("function"===typeof l&&(Ha(t,n,l,r),u=t.memoizedState),(s=Ta||Ua(t,n,s,r,f,u,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ga(t.type,s),o.props=c,h=t.pendingProps,f=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=ka(u):u=Fi(t,u=Ri(n)?Ti:Pi.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||f!==u)&&Ka(t,o,r,u),Ta=!1,f=t.memoizedState,o.state=f,La(t,r,o,i);var p=t.memoizedState;s!==h||f!==p||Ii.current||Ta?("function"===typeof d&&(Ha(t,n,d,r),p=t.memoizedState),(c=Ta||Ua(t,n,c,r,f,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Is(e,t,n,r,a,i)}function Is(e,t,n,r,i,a){Cs(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Li(t,n,!1),Ks(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,s,a)):xs(e,t,s,a),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Ts(e){var t=e.stateNode;t.pendingContext?Ni(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ni(0,t.context,!1),ro(e,t.containerInfo)}function Fs(e,t,n,r,i){return da(),pa(i),t.flags|=256,xs(e,t,n,r),t.child}var Rs,Os,Ns,Ds={dehydrated:null,treeContext:null,retryLane:0};function js(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ci(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=jc(u,i,0,null),e=Dc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=js(n),t.memoizedState=Ds,e):Bs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Ms(e,t,s,r=hs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(o=Dc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,s),t.child.memoizedState=js(s),t.memoizedState=Ds,o);if(0===(1&t.mode))return Ms(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Ms(e,t,s,r=hs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ws||u){if(null!==(r=Iu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ia(e,i),nc(r,e,i,-1))}return vc(),Ms(e,t,s,r=hs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ac.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[$i++]=Yi,Gi[$i++]=Xi,Gi[$i++]=Ji,Yi=e.id,Xi=e.overflow,Ji=t),t=Bs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Oc(r,s):(s=Dc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?js(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ds,i}return e=(s=e.child).sibling,i=Oc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Bs(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ms(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Hs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Sa(e.return,t,n)}function Vs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Us(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(xs(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Hs(e,n,t);else if(19===e.tag)Hs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,a);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ks(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ju|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function zs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Ri(t.type)&&Oi(),Ws(t),null;case 3:return r=t.stateNode,io(),ki(Ii),ki(Pi),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ha(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Ws(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ws(t),null}if(e=no(Za.current),ha(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Mr("cancel",r),Mr("close",r);break;case"iframe":case"object":case"embed":Mr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Mr(Dr[i],r);break;case"source":Mr("error",r);break;case"img":case"image":case"link":Mr("error",r),Mr("load",r);break;case"details":Mr("toggle",r);break;case"input":Y(r,o),Mr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Mr("invalid",r);break;case"textarea":ie(r,o),Mr("invalid",r)}for(var u in me(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Mr("scroll",r)}switch(n){case"input":W(r),Z(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[di]=r,Rs(e,t),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Mr("cancel",e),Mr("close",e),i=r;break;case"iframe":case"object":case"embed":Mr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Mr(Dr[i],e);i=r;break;case"source":Mr("error",e),i=r;break;case"img":case"image":case"link":Mr("error",e),Mr("load",e),i=r;break;case"details":Mr("toggle",e),i=r;break;case"input":Y(e,r),i=J(e,r),Mr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Mr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Mr("invalid",e)}for(o in me(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ge(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&he(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Mr("scroll",e):null!=l&&b(e,o,l,u))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Ns(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),ha(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Ws(t),null;case 13:if(ki(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))fa(),da(),t.flags|=98560,o=!1;else if(o=ha(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[fi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Nu&&(Nu=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return io(),null===e&&Ur(t.stateNode.containerInfo),Ws(t),null;case 10:return _a(t.type._context),Ws(t),null;case 19:if(ki(so),null===(o=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)zs(o,!1);else{if(0!==Nu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,zs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Uu&&(t.flags|=128,r=!0,zs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),zs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ws(t),null}else 2*Xe()-o.renderingStartTime>Uu&&1073741824!==n&&(t.flags|=128,r=!0,zs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=so.current,Ci(so,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ru)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function $s(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),ki(Ii),ki(Pi),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(ki(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(so),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=J(e,i),r=J(e,r),o=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in me(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Mr("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ns=function(e,t,n,r){n!==r&&(t.flags|=4)};var Js=!1,Ys=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Qs=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[di],delete t[vi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,hu=!1;function fu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||Zs(n,t);case 6:var r=lu,i=hu;lu=null,fu(e,t,n),hu=i,null!==(lu=r)&&(hu?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(hu?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Ut(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=hu,lu=n.stateNode.containerInfo,hu=!0,fu(e,t,n),lu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(n,t,o),i=i.next}while(i!==r)}fu(e,t,n);break;case 1:if(!Ys&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}fu(e,t,n);break;case 21:fu(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,fu(e,t,n),Ys=r):fu(e,t,n);break;default:fu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=Pc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,hu=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===lu)throw Error(a(160));du(o,s,i),lu=null,hu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),yu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(g){Ec(e,e.return,g)}try{nu(5,e,e.return)}catch(g){Ec(e,e.return,g)}}break;case 1:vu(t,e),yu(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(vu(t,e),yu(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(g){Ec(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&X(i,o),be(u,s);var l=be(u,o);for(s=0;s<c.length;s+=2){var h=c[s],f=c[s+1];"style"===h?ge(i,f):"dangerouslySetInnerHTML"===h?he(i,f):"children"===h?fe(i,f):b(i,h,f,l)}switch(u){case"input":Q(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(g){Ec(e,e.return,g)}}break;case 6:if(vu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Ec(e,e.return,g)}}break;case 3:if(vu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){Ec(e,e.return,g)}break;case 4:default:vu(t,e),yu(e);break;case 13:vu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vu=Xe())),4&r&&pu(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(l=Ys)||h,vu(t,e),Ys=l):vu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!h&&0!==(1&e.mode))for(Qs=e,h=e.child;null!==h;){for(f=Qs=h;null!==Qs;){switch(p=(d=Qs).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:Zs(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Ec(r,n,g)}}break;case 5:Zs(d,d.return);break;case 22:if(null!==d.memoizedState){xu(f);continue}}null!==p?(p.return=d,Qs=p):xu(f)}h=h.sibling}e:for(h=null,f=e;;){if(5===f.tag){if(null===h){h=f;try{i=f.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=f.stateNode,s=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(g){Ec(e,e.return,g)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(g){Ec(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vu(t,e),yu(e),4&r&&pu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),cu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function mu(e,t,n){Qs=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Qs;){var i=Qs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Js;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Ys;s=Js;var c=Ys;if(Js=o,(Ys=u)&&!c)for(Qs=i;null!==Qs;)u=(o=Qs).child,22===o.tag&&null!==o.memoizedState?_u(i):null!==u?(u.return=o,Qs=u):_u(i);for(;null!==a;)Qs=a,bu(a,t,n),a=a.sibling;Qs=i,Js=s,Ys=c}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Qs=a):wu(e)}}function wu(e){for(;null!==Qs;){var t=Qs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ga(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ba(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ba(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var h=l.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&Ut(f)}}}break;default:throw Error(a(163))}Ys||512&t.flags&&iu(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qs=n;break}Qs=t.return}}function xu(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qs=n;break}Qs=t.return}}function _u(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Ec(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ec(t,i,u)}}var a=t.return;try{iu(t)}catch(u){Ec(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){Ec(t,o,u)}}}catch(u){Ec(t,t.return,u)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var Su,Eu=Math.ceil,ku=w.ReactCurrentDispatcher,Cu=w.ReactCurrentOwner,Au=w.ReactCurrentBatchConfig,Pu=0,Iu=null,Tu=null,Fu=0,Ru=0,Ou=Ei(0),Nu=0,Du=null,ju=0,Lu=0,Bu=0,Mu=null,Hu=null,Vu=0,Uu=1/0,qu=null,Ku=!1,zu=null,Wu=null,Gu=!1,$u=null,Ju=0,Yu=0,Xu=null,Qu=-1,Zu=0;function ec(){return 0!==(6&Pu)?Xe():-1!==Qu?Qu:Qu=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Pu)&&0!==Fu?Fu&-Fu:null!==va.transition?(0===Zu&&(Zu=vt()),Zu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yu)throw Yu=0,Xu=null,Error(a(185));yt(e,n,r),0!==(2&Pu)&&e===Iu||(e===Iu&&(0===(2&Pu)&&(Lu|=n),4===Nu&&sc(e,Fu)),rc(e,r),1===n&&0===Pu&&0===(1&t.mode)&&(Uu=Xe()+500,Mi&&Ui()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===Iu?Fu:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Mi=!0,Vi(e)}(uc.bind(null,e)):Vi(uc.bind(null,e)),oi((function(){0===(6&Pu)&&Ui()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ic(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Qu=-1,Zu=0,0!==(6&Pu))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ft(e,e===Iu?Fu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Pu;Pu|=2;var o=pc();for(Iu===e&&Fu===t||(qu=null,Uu=Xe()+500,fc(e,t));;)try{mc();break}catch(u){dc(e,u)}xa(),ku.current=o,Pu=i,null!==Tu?t=0:(Iu=null,Fu=0,t=Nu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Du,fc(e,0),sc(e,r),rc(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Du,fc(e,0),sc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,Hu,qu);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Vu+500-Xe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Hu,qu),t);break}xc(e,Hu,qu);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Hu,qu),r);break}xc(e,Hu,qu);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Mu;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Hu,Hu=n,null!==t&&oc(t)),e}function oc(e){null===Hu?Hu=e:Hu.push.apply(Hu,e)}function sc(e,t){for(t&=~Bu,t&=~Lu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Pu))throw Error(a(327));_c();var t=ft(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Du,fc(e,0),sc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Hu,qu),rc(e,Xe()),null}function cc(e,t){var n=Pu;Pu|=1;try{return e(t)}finally{0===(Pu=n)&&(Uu=Xe()+500,Mi&&Ui())}}function lc(e){null!==$u&&0===$u.tag&&0===(6&Pu)&&_c();var t=Pu;Pu|=1;var n=Au.transition,r=bt;try{if(Au.transition=null,bt=1,e)return e()}finally{bt=r,Au.transition=n,0===(6&(Pu=t))&&Ui()}}function hc(){Ru=Ou.current,ki(Ou)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Tu)for(n=Tu.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),ki(Ii),ki(Pi),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:ki(so);break;case 10:_a(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Iu=e,Tu=e=Oc(e.current,null),Fu=Ru=t,Nu=0,Du=null,Bu=Lu=ju=0,Hu=Mu=null,null!==Ca){for(t=0;t<Ca.length;t++)if(null!==(r=(n=Ca[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ca=null}return e}function dc(e,t){for(;;){var n=Tu;try{if(xa(),ho.current=os,mo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}mo=!1}if(po=0,yo=go=vo=null,bo=!1,wo=0,Cu.current=null,null===n||null===n.return){Nu=1,Du=t,Tu=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Fu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,h=u,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,ms(p,s,u,0,t),1&p.mode&&gs(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}if(0===(1&t)){gs(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ms(y,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Nu&&(Nu=2),null===Mu?Mu=[o]:Mu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,ja(o,ps(0,c,t));break e;case 1:u=c;var m=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof m.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wu||!Wu.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,ja(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(w){t=w,Tu===n&&null!==n&&(Tu=n=n.return);continue}break}}function pc(){var e=ku.current;return ku.current=os,null===e?os:e}function vc(){0!==Nu&&3!==Nu&&2!==Nu||(Nu=4),null===Iu||0===(268435455&ju)&&0===(268435455&Lu)||sc(Iu,Fu)}function gc(e,t){var n=Pu;Pu|=2;var r=pc();for(Iu===e&&Fu===t||(qu=null,fc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(xa(),Pu=n,ku.current=r,null!==Tu)throw Error(a(261));return Iu=null,Fu=0,Nu}function yc(){for(;null!==Tu;)bc(Tu)}function mc(){for(;null!==Tu&&!Je();)bc(Tu)}function bc(e){var t=Su(e.alternate,e,Ru);e.memoizedProps=e.pendingProps,null===t?wc(e):Tu=t,Cu.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Ru)))return void(Tu=n)}else{if(null!==(n=$s(n,t)))return n.flags&=32767,void(Tu=n);if(null===e)return Nu=6,void(Tu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tu=t);Tu=t=e}while(null!==t);0===Nu&&(Nu=5)}function xc(e,t,n){var r=bt,i=Au.transition;try{Au.transition=null,bt=1,function(e,t,n,r){do{_c()}while(null!==$u);if(0!==(6&Pu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Iu&&(Tu=Iu=null,Fu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gu||(Gu=!0,Ic(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Au.transition,Au.transition=null;var s=bt;bt=1;var u=Pu;Pu|=4,Cu.current=null,function(e,t){if(ei=Kt,dr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var s=0,u=-1,c=-1,l=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==o||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++h===r&&(c=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var g=v.memoizedProps,y=v.memoizedState,m=t.stateNode,b=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:ga(t.type,g),y);m.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(a(163))}}catch(x){Ec(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}v=tu,tu=!1}(e,n),gu(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,mu(n,e,i),Ye(),Pu=u,bt=s,Au.transition=o}else e.current=n;if(Gu&&(Gu=!1,$u=e,Ju=i),o=e.pendingLanes,0===o&&(Wu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ku)throw Ku=!1,e=zu,zu=null,e;0!==(1&Ju)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===Xu?Yu++:(Yu=0,Xu=e):Yu=0,Ui()}(e,t,n,r)}finally{Au.transition=i,bt=r}return null}function _c(){if(null!==$u){var e=wt(Ju),t=Au.transition,n=bt;try{if(Au.transition=null,bt=16>e?16:e,null===$u)var r=!1;else{if(e=$u,$u=null,Ju=0,0!==(6&Pu))throw Error(a(331));var i=Pu;for(Pu|=4,Qs=e.current;null!==Qs;){var o=Qs,s=o.child;if(0!==(16&Qs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Qs=l;null!==Qs;){var h=Qs;switch(h.tag){case 0:case 11:case 15:nu(8,h,o)}var f=h.child;if(null!==f)f.return=h,Qs=f;else for(;null!==Qs;){var d=(h=Qs).sibling,p=h.return;if(au(h),h===l){Qs=null;break}if(null!==d){d.return=p,Qs=d;break}Qs=p}}}var v=o.alternate;if(null!==v){var g=v.child;if(null!==g){v.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Qs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Qs=s;else e:for(;null!==Qs;){if(0!==(2048&(o=Qs).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var m=o.sibling;if(null!==m){m.return=o.return,Qs=m;break e}Qs=o.return}}var b=e.current;for(Qs=b;null!==Qs;){var w=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Qs=w;else e:for(s=b;null!==Qs;){if(0!==(2048&(u=Qs).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(_){Ec(u,u.return,_)}if(u===s){Qs=null;break e}var x=u.sibling;if(null!==x){x.return=u.return,Qs=x;break e}Qs=u.return}}if(Pu=i,Ui(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,Au.transition=t}}return!1}function Sc(e,t,n){e=Na(e,t=ps(0,t=ls(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wu||!Wu.has(r))){t=Na(t,e=vs(t,e=ls(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Iu===e&&(Fu&n)===n&&(4===Nu||3===Nu&&(130023424&Fu)===Fu&&500>Xe()-Vu?fc(e,0):Bu|=n),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Ia(e,t))&&(yt(e,t,n),rc(e,n))}function Ac(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Pc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Cc(e,n)}function Ic(e,t){return Ge(e,t)}function Tc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fc(e,t,n,r){return new Tc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Fc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Rc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Dc(n.children,i,o,t);case E:s=8,i|=8;break;case k:return(e=Fc(12,n,t,2|i)).elementType=k,e.lanes=o,e;case I:return(e=Fc(13,n,t,i)).elementType=I,e.lanes=o,e;case T:return(e=Fc(19,n,t,i)).elementType=T,e.lanes=o,e;case O:return jc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case A:s=9;break e;case P:s=11;break e;case F:s=14;break e;case R:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Fc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Dc(e,t,n,r){return(e=Fc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Fc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Fc(6,e,null,t)).lanes=n,e}function Bc(e,t,n){return(t=Fc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hc(e,t,n,r,i,a,o,s,u){return e=new Mc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Fc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fa(a),e}function Vc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Uc(e){if(!e)return Ai;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Di(e,n,t)}return t}function qc(e,t,n,r,i,a,o,s,u){return(e=Hc(n,r,!0,e,0,a,0,s,u)).context=Uc(null),n=e.current,(a=Oa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Na(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Kc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Na(i,t,o))&&(nc(e,i,o,a),Da(e,i,o)),o}function zc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Su=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:Ts(t),da();break;case 5:ao(t);break;case 1:Ri(t.type)&&ji(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(Ci(so,1&so.current),null!==(e=Ks(e,t,n))?e.sibling:null);Ci(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Us(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,ks(e,t,n)}return Ks(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=Fi(t,Pi.current);Ea(t,n),i=Eo(null,t,r,e,i,n);var o=ko();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,ji(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Fa(t),i.updater=Va,t.stateNode=i,i._reactInternals=t,za(t,r,e,n),t=Is(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),xs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===F)return 14}return 2}(r),e=ga(r,e),i){case 0:t=As(null,t,r,e,n);break e;case 1:t=Ps(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,ga(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,As(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ps(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 3:e:{if(Ts(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),La(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Fs(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Fs(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ks(e,t,n);break e}xs(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Cs(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Ls(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):xs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ci(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ii.current){t=Ks(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Oa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var h=(l=l.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Sa(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Sa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}xs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=ka(i)),t.flags|=1,xs(e,t,r,n),t.child;case 14:return i=ga(r=t.type,t.pendingProps),Ss(e,t,r,i=ga(r.type,i),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ga(r,i),qs(e,t),t.tag=1,Ri(r)?(e=!0,ji(t)):e=!1,Ea(t,n),qa(t,r,i),za(t,r,i,n),Is(null,t,r,!0,e,n);case 19:return Us(e,t,n);case 22:return ks(e,t,n)}throw Error(a(156,t.tag))};var $c="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=zc(o);s.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=zc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Ur(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=zc(u);s.call(e)}}var u=Hc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,Ur(8===e.nodeType?e.parentNode:e),lc((function(){Kc(t,u,n,r)})),u}(n,t,e,i,r);return zc(o)}Yc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kc(e,t,null,null)},Yc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Kc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Lt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(mt(t,1|n),rc(t,Xe()),0===(6&Pu)&&(Uu=Xe()+500,Ui()))}break;case 13:lc((function(){var t=Ia(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},_t=function(e){if(13===e.tag){var t=Ia(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Ia(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},Et=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(a(90));G(r),Q(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Pe=cc,Ie=lc;var tl={usingClientEntryPoint:!1,Events:[bi,wi,xi,Ce,Ae,cc]},nl={findFiberByHostInstance:mi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=ze(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return Vc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=$c;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Hc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=ze(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=$c;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Ur(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},77:function(e){var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){if(e.constructor!==o.constructor)return!1;var s,u,c,l;if(Array.isArray(e)){if((s=e.length)!=o.length)return!1;for(u=s;0!==u--;)if(!a(e[u],o[u]))return!1;return!0}if(n&&e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(l=e.entries();!(u=l.next()).done;)if(!o.has(u.value[0]))return!1;for(l=e.entries();!(u=l.next()).done;)if(!a(u.value[1],o.get(u.value[0])))return!1;return!0}if(r&&e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(l=e.entries();!(u=l.next()).done;)if(!o.has(u.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(o)){if((s=e.length)!=o.length)return!1;for(u=s;0!==u--;)if(e[u]!==o[u])return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===o.toString();if((s=(c=Object.keys(e)).length)!==Object.keys(o).length)return!1;for(u=s;0!==u--;)if(!Object.prototype.hasOwnProperty.call(o,c[u]))return!1;if(t&&e instanceof Element)return!1;for(u=s;0!==u--;)if(("_owner"!==c[u]&&"__v"!==c[u]&&"__o"!==c[u]||!e.$$typeof)&&!a(e[c[u]],o[c[u]]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return a(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,m=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case h:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case f:case g:case v:case u:return e;default:return t}}case i:return t}}}function _(e){return x(e)===h}t.AsyncMode=l,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=a,t.Lazy=g,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||x(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===f},t.isFragment=function(e){return x(e)===a},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===v},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===o},t.isSuspense=function(e){return x(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===h||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===m||e.$$typeof===b||e.$$typeof===w||e.$$typeof===y)},t.typeOf=x},441:function(e,t,n){"use strict";e.exports=n(372)},434:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(791)),o=(i=n(77))&&i.__esModule?i:{default:i},s=n(174),u=n(135);function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(s,e);var t,n,r,i=p(s);function s(){var e;h(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(g(e=i.call.apply(i,[this].concat(n))),"mounted",!1),m(g(e),"isReady",!1),m(g(e),"isPlaying",!1),m(g(e),"isLoading",!0),m(g(e),"loadOnReady",null),m(g(e),"startOnPlay",!0),m(g(e),"seekOnPlay",null),m(g(e),"onDurationCalled",!1),m(g(e),"handlePlayerMount",(function(t){e.player||(e.player=t,e.player.load(e.props.url)),e.progress()})),m(g(e),"getInternalPlayer",(function(t){return e.player?e.player[t]:null})),m(g(e),"progress",(function(){if(e.props.url&&e.player&&e.isReady){var t=e.getCurrentTime()||0,n=e.getSecondsLoaded(),r=e.getDuration();if(r){var i={playedSeconds:t,played:t/r};null!==n&&(i.loadedSeconds=n,i.loaded=n/r),i.playedSeconds===e.prevPlayed&&i.loadedSeconds===e.prevLoaded||e.props.onProgress(i),e.prevPlayed=i.playedSeconds,e.prevLoaded=i.loadedSeconds}}e.progressTimeout=setTimeout(e.progress,e.props.progressFrequency||e.props.progressInterval)})),m(g(e),"handleReady",(function(){if(e.mounted){e.isReady=!0,e.isLoading=!1;var t=e.props,n=t.onReady,r=t.playing,i=t.volume,a=t.muted;n(),a||null===i||e.player.setVolume(i),e.loadOnReady?(e.player.load(e.loadOnReady,!0),e.loadOnReady=null):r&&e.player.play(),e.handleDurationCheck()}})),m(g(e),"handlePlay",(function(){e.isPlaying=!0,e.isLoading=!1;var t=e.props,n=t.onStart,r=t.onPlay,i=t.playbackRate;e.startOnPlay&&(e.player.setPlaybackRate&&1!==i&&e.player.setPlaybackRate(i),n(),e.startOnPlay=!1),r(),e.seekOnPlay&&(e.seekTo(e.seekOnPlay),e.seekOnPlay=null),e.handleDurationCheck()})),m(g(e),"handlePause",(function(t){e.isPlaying=!1,e.isLoading||e.props.onPause(t)})),m(g(e),"handleEnded",(function(){var t=e.props,n=t.activePlayer,r=t.loop,i=t.onEnded;n.loopOnEnded&&r&&e.seekTo(0),r||(e.isPlaying=!1,i())})),m(g(e),"handleError",(function(){var t;e.isLoading=!1,(t=e.props).onError.apply(t,arguments)})),m(g(e),"handleDurationCheck",(function(){clearTimeout(e.durationCheckTimeout);var t=e.getDuration();t?e.onDurationCalled||(e.props.onDuration(t),e.onDurationCalled=!0):e.durationCheckTimeout=setTimeout(e.handleDurationCheck,100)})),m(g(e),"handleLoaded",(function(){e.isLoading=!1})),e}return t=s,n=[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.player){var n=this.props,r=n.url,i=n.playing,a=n.volume,s=n.muted,c=n.playbackRate,l=n.pip,h=n.loop,f=n.activePlayer,d=n.disableDeferredLoading;if(!(0,o.default)(e.url,r)){if(this.isLoading&&!f.forceLoad&&!d&&!(0,u.isMediaStream)(r))return console.warn("ReactPlayer: the attempt to load ".concat(r," is being deferred until the player has loaded")),void(this.loadOnReady=r);this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(r,this.isReady)}e.playing||!i||this.isPlaying||this.player.play(),e.playing&&!i&&this.isPlaying&&this.player.pause(),!e.pip&&l&&this.player.enablePIP&&this.player.enablePIP(),e.pip&&!l&&this.player.disablePIP&&this.player.disablePIP(),e.volume!==a&&null!==a&&this.player.setVolume(a),e.muted!==s&&(s?this.player.mute():(this.player.unmute(),null!==a&&setTimeout((function(){return t.player.setVolume(a)})))),e.playbackRate!==c&&this.player.setPlaybackRate&&this.player.setPlaybackRate(c),e.loop!==h&&this.player.setLoop&&this.player.setLoop(h)}}},{key:"getDuration",value:function(){return this.isReady?this.player.getDuration():null}},{key:"getCurrentTime",value:function(){return this.isReady?this.player.getCurrentTime():null}},{key:"getSecondsLoaded",value:function(){return this.isReady?this.player.getSecondsLoaded():null}},{key:"seekTo",value:function(e,t){var n=this;if(this.isReady){if(t?"fraction"===t:e>0&&e<1){var r=this.player.getDuration();return r?void this.player.seekTo(r*e):void console.warn("ReactPlayer: could not seek using fraction \u2013\xa0duration not yet available")}this.player.seekTo(e)}else 0!==e&&(this.seekOnPlay=e,setTimeout((function(){n.seekOnPlay=null}),5e3))}},{key:"render",value:function(){var e=this.props.activePlayer;return e?a.default.createElement(e,l({},this.props,{onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError})):null}}],n&&f(t.prototype,n),r&&f(t,r),s}(a.Component);t.default=b,m(b,"displayName","Player"),m(b,"propTypes",s.propTypes),m(b,"defaultProps",s.defaultProps)},275:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(791));function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g="64px",y={},m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(o,e);var t,n,r,a=h(o);function o(){var e;u(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(d(e=a.call.apply(a,[this].concat(n))),"mounted",!1),v(d(e),"state",{image:null}),v(d(e),"handleKeyPress",(function(t){"Enter"!==t.key&&" "!==t.key||e.props.onClick()})),e}return t=o,(n=[{key:"componentDidMount",value:function(){this.mounted=!0,this.fetchImage(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.url,r=t.light;e.url===n&&e.light===r||this.fetchImage(this.props)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"fetchImage",value:function(e){var t=this,n=e.url,r=e.light,a=e.oEmbedUrl;if(!i.default.isValidElement(r))if("string"!==typeof r){if(!y[n])return this.setState({image:null}),window.fetch(a.replace("{url}",n)).then((function(e){return e.json()})).then((function(e){if(e.thumbnail_url&&t.mounted){var r=e.thumbnail_url.replace("height=100","height=480");t.setState({image:r}),y[n]=r}}));this.setState({image:y[n]})}else this.setState({image:r})}},{key:"render",value:function(){var e=this.props,t=e.light,n=e.onClick,r=e.playIcon,a=e.previewTabIndex,o=this.state.image,u=i.default.isValidElement(t),c={display:"flex",alignItems:"center",justifyContent:"center"},l={preview:s({width:"100%",height:"100%",backgroundImage:o&&!u?"url(".concat(o,")"):void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},c),shadow:s({background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:g,width:g,height:g,position:u?"absolute":void 0},c),playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},h=i.default.createElement("div",{style:l.shadow,className:"react-player__shadow"},i.default.createElement("div",{style:l.playIcon,className:"react-player__play-icon"}));return i.default.createElement("div",{style:l.preview,className:"react-player__preview",onClick:n,tabIndex:a,onKeyPress:this.handleKeyPress},u?t:null,r||h)}}])&&c(t.prototype,n),r&&c(t,r),o}(i.Component);t.default=m},646:function(e,t,n){"use strict";t.e=void 0;var r=C(n(791)),i=l(n(948)),a=l(n(781)),o=l(n(77)),s=n(174),u=n(135),c=l(n(434));function l(e){return e&&e.__esModule?e:{default:e}}function h(e){return h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function v(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var i=S(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){return!t||"object"!==h(t)&&"function"!==typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return k=function(){return e},e}function C(e){if(e&&e.__esModule)return e;if(null===e||"object"!==h(e)&&"function"!==typeof e)return{default:e};var t=k();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}var A=(0,r.lazy)((function(){return Promise.resolve().then((function(){return C(n(275))}))})),P="undefined"!==typeof window&&window.document,I="undefined"!==typeof n.g&&n.g.window&&n.g.window.document,T=Object.keys(s.propTypes),F=P||I?r.Suspense:function(){return null},R=[];t.e=function(e,t){var n,l;return l=n=function(n){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(x,n);var l,h,f,g=w(x);function x(){var n;y(this,x);for(var o=arguments.length,l=new Array(o),h=0;h<o;h++)l[h]=arguments[h];return E(_(n=g.call.apply(g,[this].concat(l))),"state",{showPreview:!!n.props.light}),E(_(n),"references",{wrapper:function(e){n.wrapper=e},player:function(e){n.player=e}}),E(_(n),"handleClickPreview",(function(e){n.setState({showPreview:!1}),n.props.onClickPreview(e)})),E(_(n),"showPreview",(function(){n.setState({showPreview:!0})})),E(_(n),"getDuration",(function(){return n.player?n.player.getDuration():null})),E(_(n),"getCurrentTime",(function(){return n.player?n.player.getCurrentTime():null})),E(_(n),"getSecondsLoaded",(function(){return n.player?n.player.getSecondsLoaded():null})),E(_(n),"getInternalPlayer",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"player";return n.player?n.player.getInternalPlayer(e):null})),E(_(n),"seekTo",(function(e,t){if(!n.player)return null;n.player.seekTo(e,t)})),E(_(n),"handleReady",(function(){n.props.onReady(_(n))})),E(_(n),"getActivePlayer",(0,a.default)((function(n){for(var r=0,i=[].concat(R,v(e));r<i.length;r++){var a=i[r];if(a.canPlay(n))return a}return t||null}))),E(_(n),"getConfig",(0,a.default)((function(e,t){var r=n.props.config;return i.default.all([s.defaultProps.config,s.defaultProps.config[t]||{},r,r[t]||{}])}))),E(_(n),"getAttributes",(0,a.default)((function(e){return(0,u.omit)(n.props,T)}))),E(_(n),"renderActivePlayer",(function(e){if(!e)return null;var t=n.getActivePlayer(e);if(!t)return null;var i=n.getConfig(e,t.key);return r.default.createElement(c.default,p({},n.props,{key:t.key,ref:n.references.player,config:i,activePlayer:t.lazyPlayer||t,onReady:n.handleReady}))})),n}return l=x,h=[{key:"shouldComponentUpdate",value:function(e,t){return!(0,o.default)(this.props,e)||!(0,o.default)(this.state,t)}},{key:"componentDidUpdate",value:function(e){var t=this.props.light;!e.light&&t&&this.setState({showPreview:!0}),e.light&&!t&&this.setState({showPreview:!1})}},{key:"renderPreview",value:function(e){if(!e)return null;var t=this.props,n=t.light,i=t.playIcon,a=t.previewTabIndex,o=t.oEmbedUrl;return r.default.createElement(A,{url:e,light:n,playIcon:i,previewTabIndex:a,oEmbedUrl:o,onClick:this.handleClickPreview})}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.style,i=e.width,a=e.height,o=e.fallback,s=e.wrapper,u=this.state.showPreview,c=this.getAttributes(t),l="string"===typeof s?this.references.wrapper:void 0;return r.default.createElement(s,p({ref:l,style:d(d({},n),{},{width:i,height:a})},c),r.default.createElement(F,{fallback:o},u?this.renderPreview(t):this.renderActivePlayer(t)))}}],h&&m(l.prototype,h),f&&m(l,f),x}(r.Component),E(n,"displayName","ReactPlayer"),E(n,"propTypes",s.propTypes),E(n,"defaultProps",s.defaultProps),E(n,"addCustomPlayer",(function(e){R.push(e)})),E(n,"removeCustomPlayers",(function(){R.length=0})),E(n,"canPlay",(function(t){for(var n=0,r=[].concat(R,v(e));n<r.length;n++){if(r[n].canPlay(t))return!0}return!1})),E(n,"canEnablePIP",(function(t){for(var n=0,r=[].concat(R,v(e));n<r.length;n++){var i=r[n];if(i.canEnablePIP&&i.canEnablePIP(t))return!0}return!1})),l}},365:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canPlay=t.FLV_EXTENSIONS=t.DASH_EXTENSIONS=t.HLS_EXTENSIONS=t.VIDEO_EXTENSIONS=t.AUDIO_EXTENSIONS=t.MATCH_URL_KALTURA=t.MATCH_URL_VIDYARD=t.MATCH_URL_MIXCLOUD=t.MATCH_URL_DAILYMOTION=t.MATCH_URL_TWITCH_CHANNEL=t.MATCH_URL_TWITCH_VIDEO=t.MATCH_URL_WISTIA=t.MATCH_URL_STREAMABLE=t.MATCH_URL_FACEBOOK_WATCH=t.MATCH_URL_FACEBOOK=t.MATCH_URL_VIMEO=t.MATCH_URL_SOUNDCLOUD=t.MATCH_URL_YOUTUBE=void 0;var r=n(135);function i(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//;t.MATCH_URL_YOUTUBE=o;var s=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/;t.MATCH_URL_SOUNDCLOUD=s;var u=/vimeo\.com\/(?!progressive_redirect).+/;t.MATCH_URL_VIMEO=u;var c=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/;t.MATCH_URL_FACEBOOK=c;var l=/^https?:\/\/fb\.watch\/.+$/;t.MATCH_URL_FACEBOOK_WATCH=l;var h=/streamable\.com\/([a-z0-9]+)$/;t.MATCH_URL_STREAMABLE=h;var f=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?(.*)$/;t.MATCH_URL_WISTIA=f;var d=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/;t.MATCH_URL_TWITCH_VIDEO=d;var p=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/;t.MATCH_URL_TWITCH_CHANNEL=p;var v=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?$/;t.MATCH_URL_DAILYMOTION=v;var g=/mixcloud\.com\/([^/]+\/[^/]+)/;t.MATCH_URL_MIXCLOUD=g;var y=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/;t.MATCH_URL_VIDYARD=y;var m=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/;t.MATCH_URL_KALTURA=m;var b=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i;t.AUDIO_EXTENSIONS=b;var w=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i;t.VIDEO_EXTENSIONS=w;var x=/\.(m3u8)($|\?)/i;t.HLS_EXTENSIONS=x;var _=/\.(mpd)($|\?)/i;t.DASH_EXTENSIONS=_;var S=/\.(flv)($|\?)/i;t.FLV_EXTENSIONS=S;var E={youtube:function(e){return e instanceof Array?e.every((function(e){return o.test(e)})):o.test(e)},soundcloud:function(e){return s.test(e)&&!b.test(e)},vimeo:function(e){return u.test(e)&&!w.test(e)&&!x.test(e)},facebook:function(e){return c.test(e)||l.test(e)},streamable:function(e){return h.test(e)},wistia:function(e){return f.test(e)},twitch:function(e){return d.test(e)||p.test(e)},dailymotion:function(e){return v.test(e)},mixcloud:function(e){return g.test(e)},vidyard:function(e){return y.test(e)},kaltura:function(e){return m.test(e)},file:function e(t){if(t instanceof Array){var n,a=i(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;if("string"===typeof o&&e(o))return!0;if(e(o.src))return!0}}catch(s){a.e(s)}finally{a.f()}return!1}return!(!(0,r.isMediaStream)(t)&&!(0,r.isBlobUrl)(t))||(b.test(t)||w.test(t)||x.test(t)||_.test(t)||S.test(t))}};t.canPlay=E},322:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}t.Z=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(791)),a=n(135),o=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w="YT",x=/[?&](?:list|channel)=([a-zA-Z0-9_-]+)/,_=/user\/([a-zA-Z0-9_-]+)\/?/,S=/youtube-nocookie\.com/,E=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(u,e);var t,n,r,s=v(u);function u(){var e;f(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(y(e=s.call.apply(s,[this].concat(n))),"callPlayer",a.callPlayer),b(y(e),"parsePlaylist",(function(t){return t instanceof Array?{listType:"playlist",playlist:t.map(e.getID).join(",")}:x.test(t)?{listType:"playlist",list:l(t.match(x),2)[1].replace(/^UC/,"UU")}:_.test(t)?{listType:"user_uploads",list:l(t.match(_),2)[1]}:{}})),b(y(e),"onStateChange",(function(t){var n=t.data,r=e.props,i=r.onPlay,a=r.onPause,o=r.onBuffer,s=r.onBufferEnd,u=r.onEnded,c=r.onReady,l=r.loop,h=r.config,f=h.playerVars,d=h.onUnstarted,p=window[w].PlayerState,v=p.UNSTARTED,g=p.PLAYING,y=p.PAUSED,m=p.BUFFERING,b=p.ENDED,x=p.CUED;if(n===v&&d(),n===g&&(i(),s()),n===y&&a(),n===m&&o(),n===b){var _=!!e.callPlayer("getPlaylist");l&&!_&&(f.start?e.seekTo(f.start):e.play()),u()}n===x&&c()})),b(y(e),"mute",(function(){e.callPlayer("mute")})),b(y(e),"unmute",(function(){e.callPlayer("unMute")})),b(y(e),"ref",(function(t){e.container=t})),e}return t=u,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"getID",value:function(e){return!e||e instanceof Array||x.test(e)?null:e.match(o.MATCH_URL_YOUTUBE)[1]}},{key:"load",value:function(e,t){var n=this,r=this.props,i=r.playing,o=r.muted,s=r.playsinline,u=r.controls,l=r.loop,h=r.config,f=r.onError,d=h.playerVars,p=h.embedOptions,v=this.getID(e);if(t)return x.test(e)||_.test(e)||e instanceof Array?void this.player.loadPlaylist(this.parsePlaylist(e)):void this.player.cueVideoById({videoId:v,startSeconds:(0,a.parseStartTime)(e)||d.start,endSeconds:(0,a.parseEndTime)(e)||d.end});(0,a.getSDK)("https://www.youtube.com/iframe_api",w,"onYouTubeIframeAPIReady",(function(e){return e.loaded})).then((function(t){n.container&&(n.player=new t.Player(n.container,c({width:"100%",height:"100%",videoId:v,playerVars:c(c({autoplay:i?1:0,mute:o?1:0,controls:u?1:0,start:(0,a.parseStartTime)(e),end:(0,a.parseEndTime)(e),origin:window.location.origin,playsinline:s?1:0},n.parsePlaylist(e)),d),events:{onReady:function(){l&&n.player.setLoop(!0),n.props.onReady()},onPlaybackRateChange:function(e){return n.props.onPlaybackRateChange(e.data)},onStateChange:n.onStateChange,onError:function(e){return f(e.data)}},host:S.test(e)?"https://www.youtube-nocookie.com":void 0},p)))}),f),p.events&&console.warn("Using `embedOptions.events` will likely break things. Use ReactPlayer\u2019s callback props instead, eg onReady, onPlay, onPause")}},{key:"play",value:function(){this.callPlayer("playVideo")}},{key:"pause",value:function(){this.callPlayer("pauseVideo")}},{key:"stop",value:function(){document.body.contains(this.callPlayer("getIframe"))&&this.callPlayer("stopVideo")}},{key:"seekTo",value:function(e){this.callPlayer("seekTo",e),this.props.playing||this.pause()}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",100*e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("setPlaybackRate",e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return this.callPlayer("getVideoLoadedFraction")*this.getDuration()}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("div",{style:e},i.default.createElement("div",{ref:this.ref}))}}])&&d(t.prototype,n),r&&d(t,r),u}(i.Component);t.Z=E,b(E,"displayName","YouTube"),b(E,"canPlay",o.canPlay.youtube)},174:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultProps=t.propTypes=void 0;var r,i=(r=n(7))&&r.__esModule?r:{default:r};var a=i.default.string,o=i.default.bool,s=i.default.number,u=i.default.array,c=i.default.oneOfType,l=i.default.shape,h=i.default.object,f=i.default.func,d=i.default.node,p={url:c([a,u,h]),playing:o,loop:o,controls:o,volume:s,muted:o,playbackRate:s,width:c([a,s]),height:c([a,s]),style:h,progressInterval:s,playsinline:o,pip:o,stopOnUnmount:o,light:c([o,a,h]),playIcon:d,previewTabIndex:s,fallback:d,oEmbedUrl:a,wrapper:c([a,f,l({render:f.isRequired})]),config:l({soundcloud:l({options:h}),youtube:l({playerVars:h,embedOptions:h,onUnstarted:f}),facebook:l({appId:a,version:a,playerId:a,attributes:h}),dailymotion:l({params:h}),vimeo:l({playerOptions:h,title:a}),file:l({attributes:h,tracks:u,forceVideo:o,forceAudio:o,forceHLS:o,forceDASH:o,forceFLV:o,hlsOptions:h,hlsVersion:a,dashVersion:a,flvVersion:a}),wistia:l({options:h,playerId:a,customControls:u}),mixcloud:l({options:h}),twitch:l({options:h,playerId:a}),vidyard:l({options:h})}),onReady:f,onStart:f,onPlay:f,onPause:f,onBuffer:f,onBufferEnd:f,onEnded:f,onError:f,onDuration:f,onSeek:f,onPlaybackRateChange:f,onProgress:f,onClickPreview:f,onEnablePIP:f,onDisablePIP:f};t.propTypes=p;var v=function(){},g={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:v},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0"},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:v,onStart:v,onPlay:v,onPause:v,onBuffer:v,onBufferEnd:v,onEnded:v,onError:v,onDuration:v,onSeek:v,onPlaybackRateChange:v,onProgress:v,onClickPreview:v,onEnablePIP:v,onDisablePIP:v};t.defaultProps=g},135:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseStartTime=function(e){return f(e,u)},t.parseEndTime=function(e){return f(e,c)},t.randomString=function(){return Math.random().toString(36).substr(2,5)},t.queryString=function(e){return Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&")},t.getSDK=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.default,o=d(t);if(o&&i(o))return Promise.resolve(o);return new Promise((function(r,i){if(p[e])p[e].push({resolve:r,reject:i});else{p[e]=[{resolve:r,reject:i}];var o=function(t){p[e].forEach((function(e){return e.resolve(t)}))};if(n){var s=window[n];window[n]=function(){s&&s(),o(d(t))}}a(e,(function(r){r?(p[e].forEach((function(e){return e.reject(r)})),p[e]=null):n||o(d(t))}))}}))},t.getConfig=function(e,t){return(0,i.default)(t.config,e.config)},t.omit=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=(t=[]).concat.apply(t,r),o={},s=Object.keys(e),u=0,c=s;u<c.length;u++){var l=c[u];-1===a.indexOf(l)&&(o[l]=e[l])}return o},t.callPlayer=function(e){var t;if(!this.player||!this.player[e]){var n="ReactPlayer: ".concat(this.constructor.displayName," player could not call %c").concat(e,"%c \u2013 ");return this.player?this.player[e]||(n+="The method was not available"):n+="The player was not available",console.warn(n,"font-weight: bold",""),null}for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return(t=this.player)[e].apply(t,i)},t.isMediaStream=function(e){return"undefined"!==typeof window&&"undefined"!==typeof window.MediaStream&&e instanceof window.MediaStream},t.isBlobUrl=function(e){return/^blob:/.test(e)},t.supportsWebKitPresentationMode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("video"),t=!1===/iPhone|iPod/.test(navigator.userAgent);return e.webkitSupportsPresentationMode&&"function"===typeof e.webkitSetPresentationMode&&t};var r=a(n(102)),i=a(n(948));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=/[?&#](?:start|t)=([0-9hms]+)/,c=/[?&#]end=([0-9hms]+)/,l=/(\d+)(h|m|s)/g,h=/^\d+$/;function f(e,t){if(!(e instanceof Array)){var n=e.match(t);if(n){var r=n[1];if(r.match(l))return function(e){var t=0,n=l.exec(e);for(;null!==n;){var r=o(n,3),i=r[1],a=r[2];"h"===a&&(t+=60*parseInt(i,10)*60),"m"===a&&(t+=60*parseInt(i,10)),"s"===a&&(t+=parseInt(i,10)),n=l.exec(e)}return t}(r);if(h.test(r))return parseInt(r)}}}function d(e){return window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null}var p={}},134:function(e,t,n){var r=n(646).e,i=n(322).Z;e.exports=r([{key:"youtube",canPlay:i.canPlay,lazyPlayer:i}])},459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case f:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case h:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},900:function(e,t,n){"use strict";n(459)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function m(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var w=b.prototype=new m;w.constructor=b,v(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,_=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:S.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+P(u,0):a,x(o)?(i="",null!=e&&(i=e.replace(A,"$&/")+"/"),I(o,t,i,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(A,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",x(e))for(var c=0;c<e.length;c++){var l=a+P(s=e[c],c);u+=I(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=I(s=s.value,t,i,l=a+P(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function T(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function F(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},N={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)_.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:F}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],h=1,f=null,d=3,p=!1,v=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,m="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function x(e){if(g=!1,w(e),!v)if(null!==r(c))v=!0,O(_);else{var t=r(l);null!==t&&N(x,t.startTime-e)}}function _(e,n){v=!1,g&&(g=!1,m(C),C=-1),p=!0;var a=d;try{for(w(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!I());){var o=f.callback;if("function"===typeof o){f.callback=null,d=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(c)&&i(c),w(n)}else i(c);f=r(c)}if(null!==f)var u=!0;else{var h=r(l);null!==h&&N(x,h.startTime-n),u=!1}return u}finally{f=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,k=null,C=-1,A=5,P=-1;function I(){return!(t.unstable_now()-P<A)}function T(){if(null!==k){var e=t.unstable_now();P=e;var n=!0;try{n=k(!0,e)}finally{n?S():(E=!1,k=null)}}else E=!1}if("function"===typeof b)S=function(){b(T)};else if("undefined"!==typeof MessageChannel){var F=new MessageChannel,R=F.port2;F.port1.onmessage=T,S=function(){R.postMessage(null)}}else S=function(){y(T,0)};function O(e){k=e,E||(E=!0,S())}function N(e,n){C=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(g?(m(C),C=-1):g=!0,N(x,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,O(_))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},561:function(e,t,n){"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,t,n){"use strict";var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var h=s(null);if(null===h.current){var f={hasValue:!1,value:null};h.current=f}else f=h.current;h=c((function(){function e(e){if(!u){if(u=!0,o=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,u=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,h[0],h[1]);return u((function(){f.hasValue=!0,f.value=d}),[d]),l(d),d}},248:function(e,t,n){"use strict";e.exports=n(561)},327:function(e,t,n){"use strict";e.exports=n(595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){"use strict";var e={};n.r(e),n.d(e,{ADD_COURSE:function(){return Ad},BASE_URL:function(){return xd},COURSES:function(){return _d},USER_COURSES:function(){return Cd},USER_LOGIN:function(){return Ed},USER_PASSWORD:function(){return kd},WORKOUTS:function(){return Sd}});var t=n(791),r=n.t(t,2),i=n(250);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(){o=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(T){l=function(e,t,n){return e[t]=n}}function h(e,t,n,i){var a=t&&t.prototype instanceof p?t:p,o=Object.create(a.prototype),s=new A(i||[]);return r(o,"_invoke",{value:S(e,n,s)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=h;var d={};function p(){}function v(){}function g(){}var y={};l(y,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(P([])));b&&b!==t&&n.call(b,s)&&(y=b);var w=g.prototype=p.prototype=Object.create(y);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function i(r,o,s,u){var c=f(e[r],e,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==a(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(h).then((function(e){l.value=e,s(l)}),(function(e){return i("throw",e,s,u)}))}u(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function P(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return v.prototype=g,r(w,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:v,configurable:!0}),v.displayName=l(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},x(_.prototype),l(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new _(h(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(w),l(w,c,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=P,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function s(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(ho){return void n(ho)}s.done?t(u):Promise.resolve(u).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){s(a,r,i,o,u,"next",e)}function u(e){s(a,r,i,o,u,"throw",e)}o(void 0)}))}}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function l(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}function h(){return h="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=l(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},h.apply(this,arguments)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function g(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function y(e){var t=v();return function(){var n,r=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){if(e){if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function w(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=b(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S(r.key),r)}}function k(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function C(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t,n){return(t=S(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t,n){return P=v()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&d(i,n.prototype),i},P.apply(null,arguments)}function I(e){var t="function"===typeof Map?new Map:void 0;return I=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return P(e,arguments,c(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,e)},I(e)}var T=!1,F=!1,R="${JSCORE_VERSION}",O=function(e,t){if(!e)throw N(t)},N=function(e){return new Error("Firebase Database ("+R+") INTERNAL ASSERT FAILED: "+e)},D=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},j={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,h=(3&a)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(D(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},L=function(e){var t=D(e);return j.encodeByteArray(t,!0)},B=function(e){return L(e).replace(/\./g,"")},M=function(e){try{return j.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function H(e){return V(void 0,e)}function V(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=V(e[n],t[n]));return e}function U(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function q(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(U())}function K(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function z(){return!0===T||!0===F}var W=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},G=function(){try{return W()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DATABASE_URL:"https://sky-fitness-pro-default-rtdb.europe-west1.firebasedatabase.app",REACT_APP_FIREBASE_API_KEY:"AIzaSyAeGrI4TpLgj2YifCsyMfEgRs1jLzSBEpA",REACT_APP_FIREBASE_APP_ID:"1:6100456749:web:fe933d2896714cbf3e6fa4",REACT_APP_FIREBASE_AUTH_DOMAIN:"sky-fitness-pro.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"6100456749",REACT_APP_FIREBASE_PROJECT_ID:"sky-fitness-pro",REACT_APP_FIREBASE_STORAGE_BUCKET:"sky-fitness-pro.appspot.com"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&M(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},$=function(e){var t,n;return null===(n=null===(t=G())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},J=function(e){var t=$(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},Y=function(){var e;return null===(e=G())||void 0===e?void 0:e.config},X=function(e){var t;return null===(t=G())||void 0===t?void 0:t["_".concat(e)]},Q=function(){function e(){var t=this;_(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return k(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Z(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[B(JSON.stringify({alg:"none",type:"JWT"})),B(JSON.stringify(a)),""].join(".")}var ee=function(e){p(n,e);var t=y(n);function n(e,r,i){var a;return _(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(f(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(f(a),te.prototype.create),a}return k(n)}(I(Error)),te=function(){function e(t,n,r){_(this,e),this.service=t,this.serviceName=n,this.errors=r}return k(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?ne(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new ee(n,a,t);return o}}]),e}();function ne(e,t){return e.replace(re,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var re=/\{\$([^}]+)}/g;function ie(e){return JSON.parse(e)}function ae(e){return JSON.stringify(e)}var oe=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=ie(M(a[0])||""),n=ie(M(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function se(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ue(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function ce(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function le(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function he(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(fe(s)&&fe(u)){if(!he(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var h=l[c];if(!n.includes(h))return!1}return!0}function fe(e){return null!==e&&"object"===typeof e}function de(e){for(var t=[],n=function(){var e=x(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function pe(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=x(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function ve(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var ge=function(){function e(){_(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return k(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],h=this.chain_[2],f=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=f^l&(h^f),u=1518500249):(s=l^h^f,u=1859775393):p<60?(s=l&h|f&(l|h),u=2400959708):(s=l^h^f,u=3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=f,f=h,h=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();var ye=function(){function e(t,n){var r=this;_(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return k(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=w(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=me),void 0===r.error&&(r.error=me),void 0===r.complete&&(r.complete=me);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function me(){}function be(e,t){return"".concat(e," failed: ").concat(t," argument ")}var we=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function xe(e){return e&&e._delegate?e._delegate:e}var _e=function(){function e(t,n,r){_(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return k(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Se="[DEFAULT]",Ee=function(){function e(t,n){_(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return k(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Q;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Se})}catch(u){}var t,n=w(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=x(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(C(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),C(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=w(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=x(i.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);r===l&&c.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=w(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Se?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se;return this.component?this.component.multipleInstances?e:Se:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var ke,Ce,Ae=function(){function e(t){_(this,e),this.name=t,this.providers=new Map}return k(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ee(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Pe=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ce||(Ce={}));var Ie={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},Te=Ce.INFO,Fe=(A(ke={},Ce.DEBUG,"log"),A(ke,Ce.VERBOSE,"log"),A(ke,Ce.INFO,"info"),A(ke,Ce.WARN,"warn"),A(ke,Ce.ERROR,"error"),ke),Re=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Fe[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Oe=function(){function e(t){_(this,e),this.name=t,this._logLevel=Te,this._logHandler=Re,this._userLogHandler=null,Pe.push(this)}return k(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ce))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ie[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ce.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ce.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ce.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ce.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ce.INFO].concat(t)),this._logHandler.apply(this,[this,Ce.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ce.WARN].concat(t)),this._logHandler.apply(this,[this,Ce.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ce.ERROR].concat(t)),this._logHandler.apply(this,[this,Ce.ERROR].concat(t))}}]),e}();function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var je,Le;var Be=new WeakMap,Me=new WeakMap,He=new WeakMap,Ve=new WeakMap,Ue=new WeakMap;var qe={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Me.get(e);if("objectStoreNames"===t)return e.objectStoreNames||He.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return We(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Ke(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Le||(Le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ge(this),n),We(Be.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return We(e.apply(Ge(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Ge(this),t].concat(r));return He.set(a,t.sort?t.sort():[t]),We(a)}}function ze(e){return"function"===typeof e?Ke(e):(e instanceof IDBTransaction&&function(e){if(!Me.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Me.set(e,t)}}(e),t=e,(je||(je=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,qe):e);var t}function We(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(We(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Be.set(t,e)})).catch((function(){})),Ue.set(t,e),t}(e);if(Ve.has(e))return Ve.get(e);var t=ze(e);return t!==e&&(Ve.set(e,t),Ue.set(t,e)),t}var Ge=function(e){return Ue.get(e)};var $e,Je,Ye=["get","getKey","getAll","getAllKeys","count"],Xe=["put","add","delete","clear"],Qe=new Map;function Ze(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Qe.get(t))return Qe.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Xe.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Ye.includes(n))){var a=function(){var e=u(o().mark((function e(t){var a,s,u,c,l,h,f=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s=this.transaction(t,i?"readwrite":"readonly"),u=s.store,c=f.length,l=new Array(c>1?c-1:0),h=1;h<c;h++)l[h-1]=f[h];return r&&(u=u.index(l.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,l),i&&s.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Qe.set(t,a),a}}}qe=function(e){return De(De({},e),{},{get:function(t,n,r){return Ze(t,n)||e.get(t,n,r)},has:function(t,n){return!!Ze(t,n)||e.has(t,n)}})}(qe);var et=function(){function e(t){_(this,e),this.container=t}return k(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var tt="@firebase/app",nt="0.8.4",rt=new Oe("@firebase/app"),it="[DEFAULT]",at=(A($e={},tt,"fire-core"),A($e,"@firebase/app-compat","fire-core-compat"),A($e,"@firebase/analytics","fire-analytics"),A($e,"@firebase/analytics-compat","fire-analytics-compat"),A($e,"@firebase/app-check","fire-app-check"),A($e,"@firebase/app-check-compat","fire-app-check-compat"),A($e,"@firebase/auth","fire-auth"),A($e,"@firebase/auth-compat","fire-auth-compat"),A($e,"@firebase/database","fire-rtdb"),A($e,"@firebase/database-compat","fire-rtdb-compat"),A($e,"@firebase/functions","fire-fn"),A($e,"@firebase/functions-compat","fire-fn-compat"),A($e,"@firebase/installations","fire-iid"),A($e,"@firebase/installations-compat","fire-iid-compat"),A($e,"@firebase/messaging","fire-fcm"),A($e,"@firebase/messaging-compat","fire-fcm-compat"),A($e,"@firebase/performance","fire-perf"),A($e,"@firebase/performance-compat","fire-perf-compat"),A($e,"@firebase/remote-config","fire-rc"),A($e,"@firebase/remote-config-compat","fire-rc-compat"),A($e,"@firebase/storage","fire-gcs"),A($e,"@firebase/storage-compat","fire-gcs-compat"),A($e,"@firebase/firestore","fire-fst"),A($e,"@firebase/firestore-compat","fire-fst-compat"),A($e,"fire-js","fire-js"),A($e,"firebase","fire-js-all"),$e),ot=new Map,st=new Map;function ut(e,t){try{e.container.addComponent(t)}catch(n){rt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ct(e){var t=e.name;if(st.has(t))return rt.debug("There were multiple attempts to register component ".concat(t,".")),!1;st.set(t,e);var n,r=w(ot.values());try{for(r.s();!(n=r.n()).done;){ut(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function lt(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var ht=(A(Je={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),A(Je,"bad-app-name","Illegal App name: '{$appName}"),A(Je,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),A(Je,"app-deleted","Firebase App named '{$appName}' already deleted"),A(Je,"no-options","Need to provide options, when not being deployed to hosting via source."),A(Je,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),A(Je,"invalid-log-argument","First argument to `onLog` must be null or a function."),A(Je,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),A(Je,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),A(Je,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),A(Je,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Je),ft=new te("app","Firebase",ht),dt=function(){function e(t,n,r){var i=this;_(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _e("app",(function(){return i}),"PUBLIC"))}return k(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ft.create("app-deleted",{appName:this._name})}}]),e}(),pt="9.14.0";function vt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:it,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw ft.create("bad-app-name",{appName:String(a)});if(n||(n=Y()),!n)throw ft.create("no-options");var o=ot.get(a);if(o){if(he(n,o.options)&&he(i,o.config))return o;throw ft.create("duplicate-app",{appName:a})}var s,u=new Ae(a),c=w(st.values());try{for(c.s();!(s=c.n()).done;){var l=s.value;u.addComponent(l)}}catch(f){c.e(f)}finally{c.f()}var h=new dt(n,i,u);return ot.set(a,h),h}function gt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=ot.get(e);if(!t&&e===it)return vt();if(!t)throw ft.create("no-app",{appName:e});return t}function yt(e,t,n){var r,i=null!==(r=at[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void rt.warn(s.join(" "))}ct(new _e("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var mt="firebase-heartbeat-store",bt=null;function wt(){return bt||(bt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=We(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(We(s.result),e.oldVersion,e.newVersion,We(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(mt)}}).catch((function(e){throw ft.create("idb-open",{originalErrorMessage:e.message})}))),bt}function xt(e){return _t.apply(this,arguments)}function _t(){return _t=u(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wt();case 3:return r=e.sent,e.abrupt("return",r.transaction(mt).objectStore(mt).get(kt(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof ee?rt.warn(e.t0.message):(i=ft.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),rt.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),_t.apply(this,arguments)}function St(e,t){return Et.apply(this,arguments)}function Et(){return Et=u(o().mark((function e(t,n){var r,i,a,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wt();case 3:return i=e.sent,a=i.transaction(mt,"readwrite"),s=a.objectStore(mt),e.next=8,s.put(n,kt(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof ee?rt.warn(e.t0.message):(u=ft.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),rt.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Et.apply(this,arguments)}function kt(e){return"".concat(e.name,"!").concat(e.options.appId)}var Ct=function(){function e(t){var n=this;_(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Tt(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return k(e,[{key:"triggerHeartbeat",value:function(){var e=u(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=At(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=u(o().mark((function e(){var t,n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=At(),n=Pt(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=B(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function At(){return(new Date).toISOString().substring(0,10)}function Pt(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=w(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Ft(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Ft(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var It,Tt=function(){function e(t){_(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return k(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===typeof indexedDB){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(ho){t(ho)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,xt(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",St(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",St(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(C(r.heartbeats),C(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ft(e){return B(JSON.stringify({version:2,heartbeats:e})).length}It="",ct(new _e("platform-logger",(function(e){return new et(e)}),"PRIVATE")),ct(new _e("heartbeat",(function(e){return new Ct(e)}),"PRIVATE")),yt(tt,nt,It),yt(tt,nt,"esm2017"),yt("fire-js","");function Rt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Ot;Object.create;function Nt(){return A({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Dt=Nt,jt=new te("auth","Firebase",Nt()),Lt=new Oe("@firebase/auth");function Bt(e){if(Lt.logLevel<=Ce.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Lt.error.apply(Lt,["Auth (".concat(pt,"): ").concat(e)].concat(n))}}function Mt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ut.apply(void 0,[e].concat(n))}function Ht(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ut.apply(void 0,[e].concat(n))}function Vt(e,t,n){var r=Object.assign(Object.assign({},Dt()),A({},t,n));return new te("auth","Firebase",r).create(t,{appName:e.name})}function Ut(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=C(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(C(o)))}return jt.create.apply(jt,[e].concat(n))}function qt(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ut.apply(void 0,[t].concat(r))}}function Kt(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Bt(t),new Error(t)}function zt(e,t){e||Kt(t)}var Wt=new Map;function Gt(e){zt(e instanceof Function,"Expected a class definition");var t=Wt.get(e);return t?(zt(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Wt.set(e,t),t)}function $t(e,t){var n=lt(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(he(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;Mt(r,"already-initialized")}return n.initialize({options:t})}function Jt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Yt(){return"http:"===Xt()||"https:"===Xt()}function Xt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Qt(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Yt()||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}var Zt=function(){function e(t,n){_(this,e),this.shortDelay=t,this.longDelay=n,zt(n>t,"Short delay should be less than long delay!"),this.isMobile=q()||K()}return k(e,[{key:"get",value:function(){return Qt()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),e}();function en(e,t){zt(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var tn=function(){function e(){_(this,e)}return k(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Kt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Kt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Kt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),nn=(A(Ot={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),A(Ot,"MISSING_CUSTOM_TOKEN","internal-error"),A(Ot,"INVALID_IDENTIFIER","invalid-email"),A(Ot,"MISSING_CONTINUE_URI","internal-error"),A(Ot,"INVALID_PASSWORD","wrong-password"),A(Ot,"MISSING_PASSWORD","internal-error"),A(Ot,"EMAIL_EXISTS","email-already-in-use"),A(Ot,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),A(Ot,"INVALID_IDP_RESPONSE","invalid-credential"),A(Ot,"INVALID_PENDING_TOKEN","invalid-credential"),A(Ot,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),A(Ot,"MISSING_REQ_TYPE","internal-error"),A(Ot,"EMAIL_NOT_FOUND","user-not-found"),A(Ot,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),A(Ot,"EXPIRED_OOB_CODE","expired-action-code"),A(Ot,"INVALID_OOB_CODE","invalid-action-code"),A(Ot,"MISSING_OOB_CODE","internal-error"),A(Ot,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),A(Ot,"INVALID_ID_TOKEN","invalid-user-token"),A(Ot,"TOKEN_EXPIRED","user-token-expired"),A(Ot,"USER_NOT_FOUND","user-token-expired"),A(Ot,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),A(Ot,"INVALID_CODE","invalid-verification-code"),A(Ot,"INVALID_SESSION_INFO","invalid-verification-id"),A(Ot,"INVALID_TEMPORARY_PROOF","invalid-credential"),A(Ot,"MISSING_SESSION_INFO","missing-verification-id"),A(Ot,"SESSION_EXPIRED","code-expired"),A(Ot,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),A(Ot,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),A(Ot,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),A(Ot,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),A(Ot,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),A(Ot,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),A(Ot,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),A(Ot,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),A(Ot,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),A(Ot,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),A(Ot,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Ot),rn=new Zt(3e4,6e4);function an(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function on(e,t,n,r){return sn.apply(this,arguments)}function sn(){return sn=u(o().mark((function e(t,n,r,i){var a,s=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.abrupt("return",un(t,a,u(o().mark((function e(){var a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},s={},i&&("GET"===n?s=i:a={body:JSON.stringify(i)}),u=de(Object.assign({key:t.config.apiKey},s)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(c=e.sent)["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",tn.fetch()(fn(t,t.config.apiHost,r,u),Object.assign({method:n,headers:c,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),sn.apply(this,arguments)}function un(e,t,n){return cn.apply(this,arguments)}function cn(){return cn=u(o().mark((function e(t,n,r){var i,a,s,u,c,l,h,f,d,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},nn),n),e.prev=2,a=new dn(t),e.next=6,Promise.race([r(),a.promise]);case 6:return s=e.sent,a.clearNetworkTimeout(),e.next=10,s.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw pn(t,"account-exists-with-different-credential",u);case 13:if(!s.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=s.ok?u.errorMessage:u.error.message,l=c.split(" : "),h=x(l,2),f=h[0],d=h[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw pn(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw pn(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw pn(t,"user-disabled",u);case 29:if(p=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Vt(t,p,d);case 34:Mt(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof ee)){e.next=41;break}throw e.t0;case 41:Mt(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),cn.apply(this,arguments)}function ln(e,t,n,r){return hn.apply(this,arguments)}function hn(){return hn=u(o().mark((function e(t,n,r,i){var a,s,u=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,on(t,n,r,i,a);case 3:return"mfaPendingCredential"in(s=e.sent)&&Mt(t,"multi-factor-auth-required",{_serverResponse:s}),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)}))),hn.apply(this,arguments)}function fn(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?en(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var dn=function(){function e(t){var n=this;_(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Ht(n.auth,"network-request-failed"))}),rn.get())}))}return k(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function pn(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Ht(e,t,r);return i.customData._tokenResponse=n,i}function vn(e,t){return gn.apply(this,arguments)}function gn(){return gn=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",on(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),gn.apply(this,arguments)}function yn(e,t){return mn.apply(this,arguments)}function mn(){return mn=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",on(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),mn.apply(this,arguments)}function bn(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function wn(){return wn=u(o().mark((function e(t){var n,r,i,a,s,u,c=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]&&c[1],r=xe(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,qt((a=_n(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),s="object"===typeof a.firebase?a.firebase:void 0,u=null===s||void 0===s?void 0:s.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:bn(xn(a.auth_time)),issuedAtTime:bn(xn(a.iat)),expirationTime:bn(xn(a.exp)),signInProvider:u||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),wn.apply(this,arguments)}function xn(e){return 1e3*Number(e)}function _n(e){var t,n=x(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return Bt("JWT malformed, contained fewer than 3 sections"),null;try{var o=M(i);return o?JSON.parse(o):(Bt("Failed to decode base64 JWT payload"),null)}catch(s){return Bt("Caught error parsing JWT payload as JSON",null===(t=s)||void 0===t?void 0:t.toString()),null}}function Sn(e,t){return En.apply(this,arguments)}function En(){return En=u(o().mark((function e(t,n){var r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof ee&&kn(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),En.apply(this,arguments)}function kn(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Cn=function(){function e(t){_(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return k(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(u(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),An=function(){function e(t,n){_(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return k(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=bn(this.lastLoginAt),this.creationTime=bn(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Pn(e){return In.apply(this,arguments)}function In(){return In=u(o().mark((function e(t){var n,r,i,a,s,u,c,l,h,f,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Sn(t,yn(r,{idToken:i}));case 6:qt(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),s=a.users[0],t._notifyReloadListener(s),u=(null===(n=s.providerUserInfo)||void 0===n?void 0:n.length)?Rn(s.providerUserInfo):[],c=Fn(t.providerData,u),l=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(null===c||void 0===c?void 0:c.length),f=!!l&&h,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new An(s.createdAt,s.lastLoginAt),isAnonymous:f},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),In.apply(this,arguments)}function Tn(){return(Tn=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xe(t),e.next=3,Pn(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fn(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(C(n),C(t))}function Rn(e){return e.map((function(e){var t=e.providerId,n=Rt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function On(e,t){return Nn.apply(this,arguments)}function Nn(){return Nn=u(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,un(t,{},u(o().mark((function e(){var r,i,a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=de({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,s=i.apiKey,u=fn(t,a,"/v1/token","key=".concat(s)),e.next=5,t._getAdditionalHeaders();case 5:return(c=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",tn.fetch()(u,{method:"POST",headers:c,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Nn.apply(this,arguments)}var Dn=function(){function e(){_(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return k(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){qt(e.idToken,"internal-error"),qt("undefined"!==typeof e.idToken,"internal-error"),qt("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=_n(e);return qt(t,"internal-error"),qt("undefined"!==typeof t.exp,"internal-error"),qt("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=u(o().mark((function e(t){var n,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],qt(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=u(o().mark((function e(t,n){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,On(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,s=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(s));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Kt("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(qt("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(qt("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(qt("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function jn(e,t){qt("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Ln=function(){function e(t){_(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Rt(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Cn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?C(a.providerData):[],this.metadata=new An(a.createdAt||void 0,a.lastLoginAt||void 0)}return k(e,[{key:"getIdToken",value:function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sn(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(qt(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return wn.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Tn.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(qt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){qt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=u(o().mark((function e(t){var n,r,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Pn(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Sn(this,vn(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,h=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,g=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,m=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,w=n.emailVerified,x=n.isAnonymous,_=n.providerData,S=n.stsTokenManager;qt(b&&S,t,"internal-error");var E=Dn.fromJSON(this.name,S);qt("string"===typeof b,t,"internal-error"),jn(h,t.name),jn(f,t.name),qt("boolean"===typeof w,t,"internal-error"),qt("boolean"===typeof x,t,"internal-error"),jn(d,t.name),jn(p,t.name),jn(v,t.name),jn(g,t.name),jn(y,t.name),jn(m,t.name);var k=new e({uid:b,auth:t,email:f,emailVerified:w,displayName:h,isAnonymous:x,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:m});return _&&Array.isArray(_)&&(k.providerData=_.map((function(e){return Object.assign({},e)}))),g&&(k._redirectEventId=g),k}},{key:"_fromIdTokenResponse",value:function(){var t=u(o().mark((function t(n,r){var i,a,s,u=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Dn).updateFromServerResponse(r),s=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Pn(s);case 6:return t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Bn=function(){function e(){_(this,e),this.type="NONE",this.storage={}}return k(e,[{key:"_isAvailable",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Bn.type="NONE";var Mn=Bn;function Hn(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Vn=function(){function e(t,n,r){_(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Hn(this.userKey,a.apiKey,o),this.fullPersistenceKey=Hn("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return k(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Ln._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=u(o().mark((function t(n,r){var i,a,s,c,l,h,f,d,p,v,g,y=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=y.length>2&&void 0!==y[2]?y[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Gt(Mn),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),s=a[0]||Gt(Mn),c=Hn(i,n.config.apiKey,n.name),l=null,h=w(r),t.prev=10,h.s();case 12:if((f=h.n()).done){t.next=29;break}return d=f.value,t.prev=14,t.next=17,d._get(c);case 17:if(!(p=t.sent)){t.next=23;break}return v=Ln._fromJSON(n,p),d!==s&&(l=v),s=d,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),h.e(t.t1);case 34:return t.prev=34,h.f(),t.finish(34);case 37:if(g=a.filter((function(e){return e._shouldAllowMigration})),s._shouldAllowMigration&&g.length){t.next=40;break}return t.abrupt("return",new e(s,n,i));case 40:if(s=g[0],!l){t.next=44;break}return t.next=44,s._set(c,l.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===s){e.next=8;break}return e.prev=1,e.next=4,t._remove(c);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(s,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Un(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Wn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(qn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if($n(t))return"Blackberry";if(Jn(t))return"Webos";if(Kn(t))return"Safari";if((t.includes("chrome/")||zn(t))&&!t.includes("edge/"))return"Chrome";if(Gn(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function qn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U();return/firefox\//i.test(e)}function Kn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function zn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U();return/crios\//i.test(e)}function Wn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U();return/iemobile/i.test(e)}function Gn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U();return/android/i.test(e)}function $n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U();return/blackberry/i.test(e)}function Jn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U();return/webos/i.test(e)}function Yn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Xn(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U();return Yn(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Qn(){return function(){var e=U();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Zn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U();return Yn(e)||Gn(e)||Jn(e)||$n(e)||/windows phone/i.test(e)||Wn(e)}function er(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Un(U());break;case"Worker":t="".concat(Un(U()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(pt,"/").concat(r)}var tr=function(){function e(t){_(this,e),this.auth=t,this.queue=[]}return k(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=u(o().mark((function e(t){var n,r,i,a,s,u,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=w(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return s=a.value,e.next=11,s(t);case 11:s.onAbort&&r.push(s.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=w(r);try{for(u.s();!(c=u.n()).done;){l=c.value;try{l()}catch(hh){}}}catch(o){u.e(o)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),nr=function(){function e(t,n,r){_(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ir(this),this.idTokenSubscription=new ir(this),this.beforeStateQueue=new tr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return k(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Gt(t)),this._initializationPromise=this.queue(u(o().mark((function r(){var i,a;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Vn.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=u(o().mark((function e(t){var n,r,i,a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return s=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:c=e.sent,s&&s!==u||!(null===c||void 0===c?void 0:c.user)||(i=c.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return qt(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pn(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?xe(t):null)&&qt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=u(o().mark((function e(t){var n,r=this,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&qt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(u(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Gt(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new te("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=u(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return qt(n=t&&Gt(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Vn.create(this,[Gt(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=u(o().mark((function e(t){var n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return qt(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return qt(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=er(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=u(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=A({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function rr(e){return xe(e)}var ir=function(){function e(t){var n=this;_(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new ye(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return k(e,[{key:"next",get:function(){return qt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function ar(e,t,n){var r=rr(e);qt(r._canInitEmulator,r,"emulator-config-failed"),qt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=or(t),o=function(e){var t=or(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:sr(r.substr(a.length+1))}}var o=x(r.split(":"),2);return{host:o[0],port:sr(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function or(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function sr(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var ur=function(){function e(t,n){_(this,e),this.providerId=t,this.signInMethod=n}return k(e,[{key:"toJSON",value:function(){return Kt("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Kt("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Kt("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Kt("not implemented")}}]),e}();function cr(e,t){return lr.apply(this,arguments)}function lr(){return lr=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",on(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),lr.apply(this,arguments)}function hr(e,t){return fr.apply(this,arguments)}function fr(){return fr=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ln(t,"POST","/v1/accounts:signInWithPassword",an(t,n)));case 1:case"end":return e.stop()}}),e)}))),fr.apply(this,arguments)}function dr(e,t){return pr.apply(this,arguments)}function pr(){return pr=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ln(t,"POST","/v1/accounts:signInWithEmailLink",an(t,n)));case 1:case"end":return e.stop()}}),e)}))),pr.apply(this,arguments)}function vr(e,t){return gr.apply(this,arguments)}function gr(){return gr=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ln(t,"POST","/v1/accounts:signInWithEmailLink",an(t,n)));case 1:case"end":return e.stop()}}),e)}))),gr.apply(this,arguments)}var yr=function(e){p(n,e);var t=y(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return k(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",hr(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",dr(t,{email:this._email,oobCode:this._password}));case 5:Mt(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",cr(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",vr(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Mt(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(ur);function mr(e,t){return br.apply(this,arguments)}function br(){return br=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ln(t,"POST","/v1/accounts:signInWithIdp",an(t,n)));case 1:case"end":return e.stop()}}),e)}))),br.apply(this,arguments)}var wr=function(e){p(n,e);var t=y(n);function n(){var e;return _(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return k(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return mr(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,mr(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,mr(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=de(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Mt("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Rt(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(ur);function xr(e,t){return _r.apply(this,arguments)}function _r(){return _r=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",on(t,"POST","/v1/accounts:sendVerificationCode",an(t,n)));case 1:case"end":return e.stop()}}),e)}))),_r.apply(this,arguments)}function Sr(){return Sr=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ln(t,"POST","/v1/accounts:signInWithPhoneNumber",an(t,n)));case 1:case"end":return e.stop()}}),e)}))),Sr.apply(this,arguments)}function Er(){return Er=u(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ln(t,"POST","/v1/accounts:signInWithPhoneNumber",an(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw pn(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Er.apply(this,arguments)}var kr=A({},"USER_NOT_FOUND","user-not-found");function Cr(){return Cr=u(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ln(t,"POST","/v1/accounts:signInWithPhoneNumber",an(t,r),kr));case 2:case"end":return e.stop()}}),e)}))),Cr.apply(this,arguments)}var Ar=function(e){p(n,e);var t=y(n);function n(e){var r;return _(this,n),(r=t.call(this,"phone","phone")).params=e,r}return k(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Sr.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Er.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Cr.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(ur);var Pr=function(){function e(t){var n,r,i,a,o,s;_(this,e);var u=pe(ve(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);qt(c&&l&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return k(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=pe(ve(e)).link,n=t?pe(ve(t)).deep_link_id:null,r=pe(ve(e)).deep_link_id;return(r?pe(ve(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Ir=function(){function e(){_(this,e),this.providerId=e.PROVIDER_ID}return k(e,null,[{key:"credential",value:function(e,t){return yr._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Pr.parseLink(t);return qt(n,"argument-error"),yr._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Ir.PROVIDER_ID="password",Ir.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ir.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Tr=function(){function e(t){_(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return k(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Fr=function(e){p(n,e);var t=y(n);function n(){var e;return _(this,n),(e=t.apply(this,arguments)).scopes=[],e}return k(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return C(this.scopes)}}]),n}(Tr),Rr=function(e){p(n,e);var t=y(n);function n(){return _(this,n),t.call(this,"facebook.com")}return k(n,null,[{key:"credential",value:function(e){return wr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Fr);Rr.FACEBOOK_SIGN_IN_METHOD="facebook.com",Rr.PROVIDER_ID="facebook.com";var Or=function(e){p(n,e);var t=y(n);function n(){var e;return _(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return k(n,null,[{key:"credential",value:function(e,t){return wr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Fr);Or.GOOGLE_SIGN_IN_METHOD="google.com",Or.PROVIDER_ID="google.com";var Nr=function(e){p(n,e);var t=y(n);function n(){return _(this,n),t.call(this,"github.com")}return k(n,null,[{key:"credential",value:function(e){return wr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Fr);Nr.GITHUB_SIGN_IN_METHOD="github.com",Nr.PROVIDER_ID="github.com";var Dr=function(e){p(n,e);var t=y(n);function n(){return _(this,n),t.call(this,"twitter.com")}return k(n,null,[{key:"credential",value:function(e,t){return wr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Fr);function jr(e,t){return Lr.apply(this,arguments)}function Lr(){return Lr=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ln(t,"POST","/v1/accounts:signUp",an(t,n)));case 1:case"end":return e.stop()}}),e)}))),Lr.apply(this,arguments)}Dr.TWITTER_SIGN_IN_METHOD="twitter.com",Dr.PROVIDER_ID="twitter.com";var Br=function(){function e(t){_(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return k(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=u(o().mark((function t(n,r,i){var a,s,u,c,l=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]&&l[3],t.next=3,Ln._fromIdTokenResponse(n,i,a);case 3:return s=t.sent,u=Mr(i),c=new e({user:s,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",c);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=u(o().mark((function t(n,r,i){var a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Mr(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Mr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var Hr=function(e){p(n,e);var t=y(n);function n(e,r,i,a){var o,s;return _(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(f(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return k(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(ee);function Vr(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Hr._fromErrorAndOperation(e,n,t,r);throw n}))}function Ur(e,t){return qr.apply(this,arguments)}function qr(){return qr=u(o().mark((function e(t,n){var r,i,a=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Sn,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Br._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),qr.apply(this,arguments)}function Kr(e,t){return zr.apply(this,arguments)}function zr(){return zr=u(o().mark((function e(t,n){var r,i,a,s,u,c,l,h=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>2&&void 0!==h[2]&&h[2],a=t.auth,s="reauthenticate",e.prev=3,e.next=6,Sn(t,Vr(a,s,n,t),r);case 6:return qt((u=e.sent).idToken,a,"internal-error"),qt(c=_n(u.idToken),a,"internal-error"),l=c.sub,qt(t.uid===l,a,"user-mismatch"),e.abrupt("return",Br._forOperation(t,s,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&Mt(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),zr.apply(this,arguments)}function Wr(e,t){return Gr.apply(this,arguments)}function Gr(){return Gr=u(o().mark((function e(t,n){var r,i,a,s,u=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Vr(t,i,n);case 4:return a=e.sent,e.next=7,Br._fromIdTokenResponse(t,i,a);case 7:if(s=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(s.user);case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)}))),Gr.apply(this,arguments)}function $r(e,t){return Jr.apply(this,arguments)}function Jr(){return Jr=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(rr(t),n));case 1:case"end":return e.stop()}}),e)}))),Jr.apply(this,arguments)}function Yr(e,t){return Xr.apply(this,arguments)}function Xr(){return(Xr=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kr(xe(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qr(){return Qr=u(o().mark((function e(t,n,r){var i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=rr(t),e.next=3,jr(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Br._fromIdTokenResponse(i,"signIn",a);case 6:return s=e.sent,e.next=9,i._updateCurrentUser(s.user);case 9:return e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)}))),Qr.apply(this,arguments)}function Zr(e,t){return ei.apply(this,arguments)}function ei(){return ei=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",on(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ei.apply(this,arguments)}function ti(){return(ti=u(o().mark((function e(t,n){var r,i,a,s,u,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=xe(t),e.next=6,a.getIdToken();case 6:return s=e.sent,u={idToken:s,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Sn(a,Zr(a.auth,u));case 10:return c=e.sent,a.displayName=c.displayName||null,a.photoURL=c.photoUrl||null,(l=a.providerData.find((function(e){return"password"===e.providerId})))&&(l.displayName=a.displayName,l.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(c);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ni(e,t,n){return ri.apply(this,arguments)}function ri(){return ri=u(o().mark((function e(t,n,r){var i,a,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,s={idToken:a,returnSecureToken:!0},n&&(s.email=n),r&&(s.password=r),e.next=9,Sn(t,cr(i,s));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),ri.apply(this,arguments)}function ii(e,t,n,r){return xe(e).onIdTokenChanged(t,n,r)}function ai(e,t,n){return xe(e).beforeAuthStateChanged(t,n)}function oi(e,t){return on(e,"POST","/v2/accounts/mfaEnrollment:start",an(e,t))}new WeakMap;var si="__sak",ui=function(){function e(t,n){_(this,e),this.storageRetriever=t,this.type=n}return k(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(si,"1"),this.storage.removeItem(si),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var ci=function(e){p(n,e);var t=y(n);function n(){var e;return _(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=U();return Kn(e)||Yn(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Zn(),e._shouldAllowMigration=!0,e}return k(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Qn()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=u(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(c(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=u(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(c(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(c(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(ui);ci.type="LOCAL";var li=ci,hi=function(e){p(n,e);var t=y(n);function n(){return _(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return k(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(ui);hi.type="SESSION";var fi=hi;function di(e){return Promise.all(e.map(function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var pi=function(){function e(t){_(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return k(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=u(o().mark((function e(t){var n,r,i,a,s,c,l,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,s=r.data,null===(c=this.handlersMap[a])||void 0===c?void 0:c.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),l=Array.from(c).map(function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,s));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,di(l);case 9:h=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:h});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function vi(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}pi.receivers=[];var gi=function(){function e(t){_(this,e),this.target=t,this.handlers=new Set}return k(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=u(o().mark((function e(t,n){var r,i,a,s,u=this,c=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>2&&void 0!==c[2]?c[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,o){var c=vi("",20);i.port1.start();var l=setTimeout((function(){o(new Error("unsupported_event"))}),r);s={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),o(new Error("invalid_response"))}}},u.handlers.add(s),i.port1.addEventListener("message",s.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){s&&u.removeMessageHandler(s)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function yi(){return window}function mi(){return"undefined"!==typeof yi().WorkerGlobalScope&&"function"===typeof yi().importScripts}function bi(){return wi.apply(this,arguments)}function wi(){return(wi=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function xi(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var _i="firebaseLocalStorageDb",Si="firebaseLocalStorage",Ei="fbase_key",ki=function(){function e(t){_(this,e),this.request=t}return k(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Ci(e,t){return e.transaction([Si],t?"readwrite":"readonly").objectStore(Si)}function Ai(){var e=indexedDB.deleteDatabase(_i);return new ki(e).toPromise()}function Pi(){var e=indexedDB.open(_i,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Si,{keyPath:Ei})}catch(r){n(r)}})),e.addEventListener("success",u(o().mark((function n(){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Si)){n.next=12;break}return r.close(),n.next=5,Ai();case 5:return n.t0=t,n.next=8,Pi();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Ii(e,t,n){return Ti.apply(this,arguments)}function Ti(){return(Ti=u(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ci(t,!0).put((A(i={},Ei,n),A(i,"value",r),i)),e.abrupt("return",new ki(a).toPromise());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fi(e,t){return Ri.apply(this,arguments)}function Ri(){return(Ri=u(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ci(t,!1).get(n),e.next=3,new ki(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oi(e,t){var n=Ci(e,!0).delete(t);return new ki(n).toPromise()}var Ni=function(){function e(){_(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return k(e,[{key:"_openDb",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Pi();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mi()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=u(o().mark((function e(){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=pi._getInstance(mi()?self:null),this.receiver._subscribe("keyChanged",function(){var e=u(o().mark((function e(n,r){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=u(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bi();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new gi(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&xi()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Pi();case 5:return t=e.sent,e.next=8,Ii(t,si,"1");case 8:return e.next=10,Oi(t,si);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=u(o().mark((function e(t,n){var r=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Ii(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Fi(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=u(o().mark((function e(t){var n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Oi(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=u(o().mark((function e(){var t,n,r,i,a,s,u,c,l,h,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Ci(e,!1).getAll();return new ki(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=w(t);try{for(i.s();!(a=i.n()).done;)s=a.value,u=s.fbase_key,c=s.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(c)&&(this.notifyListeners(u,c),n.push(u))}catch(o){i.e(o)}finally{i.f()}for(l=0,h=Object.keys(this.localCache);l<h.length;l++)f=h[l],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(u(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Ni.type="LOCAL";var Di=Ni;function ji(e,t){return on(e,"POST","/v2/accounts/mfaSignIn:start",an(e,t))}function Li(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Ht("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Bi(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}Bi("rcb"),new Zt(3e4,6e4);var Mi="recaptcha";function Hi(e,t,n){return Vi.apply(this,arguments)}function Vi(){return Vi=u(o().mark((function e(t,n,r){var i,a,s,u,c,l,h,f,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,qt("string"===typeof a,t,"argument-error"),qt(r.type===Mi,t,"argument-error"),!("session"in(s="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=s.session,!("phoneNumber"in s)){e.next=17;break}return qt("enroll"===u.type,t,"internal-error"),e.next=13,oi(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:a}});case 13:return c=e.sent,e.abrupt("return",c.phoneSessionInfo.sessionInfo);case 17:return qt("signin"===u.type,t,"internal-error"),qt(l=(null===(i=s.multiFactorHint)||void 0===i?void 0:i.uid)||s.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,ji(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:a}});case 22:return h=e.sent,e.abrupt("return",h.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,xr(t,{phoneNumber:s.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,d=f.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Vi.apply(this,arguments)}var Ui=function(){function e(t){_(this,e),this.providerId=e.PROVIDER_ID,this.auth=rr(t)}return k(e,[{key:"verifyPhoneNumber",value:function(e,t){return Hi(this.auth,e,xe(t))}}],[{key:"credential",value:function(e,t){return Ar._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Ar._fromTokenResponse(n,r):null}}]),e}();function qi(e,t){return t?Gt(t):(qt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ui.PROVIDER_ID="phone",Ui.PHONE_SIGN_IN_METHOD="phone";var Ki=function(e){p(n,e);var t=y(n);function n(e){var r;return _(this,n),(r=t.call(this,"custom","custom")).params=e,r}return k(n,[{key:"_getIdTokenResponse",value:function(e){return mr(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return mr(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return mr(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(ur);function zi(e){return Wr(e.auth,new Ki(e),e.bypassAuthState)}function Wi(e){var t=e.auth,n=e.user;return qt(n,t,"internal-error"),Kr(n,new Ki(e),e.bypassAuthState)}function Gi(e){return $i.apply(this,arguments)}function $i(){return $i=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,qt(r=t.user,n,"internal-error"),e.abrupt("return",Ur(r,new Ki(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),$i.apply(this,arguments)}var Ji=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return k(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=u(o().mark((function t(n,r){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=u(o().mark((function e(t){var n,r,i,a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,s=t.error,u=t.type,!s){e.next=4;break}return this.reject(s),e.abrupt("return");case 4:return c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(c);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zi;case"linkViaPopup":case"linkViaRedirect":return Gi;case"reauthViaPopup":case"reauthViaRedirect":return Wi;default:Mt(this.auth,"internal-error")}}},{key:"resolve",value:function(e){zt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){zt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Yi=new Zt(2e3,1e4);var Xi=function(e){p(n,e);var t=y(n);function n(e,r,i,a,o){var s;return _(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=f(s),s}return k(n,[{key:"executeNotNull",value:function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return qt(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=u(o().mark((function e(){var t,n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zt(1===this.filter.length,"Popup operations only handle one event"),t=vi(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Ht(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Ht(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Ht(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Yi.get())}()}}]),n}(Ji);Xi.currentPopupAction=null;var Qi=new Map,Zi=function(e){p(n,e);var t=y(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return _(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return k(n,[{key:"execute",value:function(){var e=u(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Qi.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,ea(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,h(c(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Qi.set(this.auth._key(),t);case 21:return this.bypassAuthState||Qi.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=u(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",h(c(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",h(c(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Ji);function ea(e,t){return ta.apply(this,arguments)}function ta(){return ta=u(o().mark((function e(t,n){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ia(n),i=ra(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),ta.apply(this,arguments)}function na(e,t){Qi.set(e._key(),t)}function ra(e){return Gt(e._redirectPersistence)}function ia(e){return Hn("pendingRedirect",e.config.apiKey,e.name)}function aa(e,t){return oa.apply(this,arguments)}function oa(){return oa=u(o().mark((function e(t,n){var r,i,a,s,u,c=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=rr(t),a=qi(i,n),s=new Zi(i,a,r),e.next=6,s.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),oa.apply(this,arguments)}var sa=function(){function e(t){_(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return k(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ca(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!ca(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ht(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ua(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(ua(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function ua(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function ca(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function la(e){return ha.apply(this,arguments)}function ha(){return ha=u(o().mark((function e(t){var n,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",on(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),ha.apply(this,arguments)}var fa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,da=/^https?/;function pa(){return pa=u(o().mark((function e(t){var n,r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,la(t);case 4:n=e.sent,r=n.authorizedDomains,i=w(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(s=a.value,e.prev=11,!va(s)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Mt(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),pa.apply(this,arguments)}function va(e){var t=Jt(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!da.test(r))return!1;if(fa.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var ga=new Zt(3e4,6e4);function ya(){var e=yi().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=C(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var ma=null;function ba(e){return ma=ma||function(e){return new Promise((function(t,n){var r,i,a;function o(){ya(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){ya(),n(Ht(e,"network-request-failed"))},timeout:ga.get()})}if(null===(i=null===(r=yi().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=yi().gapi)||void 0===a?void 0:a.load)){var s=Bi("iframefcb");return yi()[s]=function(){gapi.load?o():n(Ht(e,"network-request-failed"))},Li("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw ma=null,e}))}(e),ma}var wa=new Zt(5e3,15e3),xa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_a=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sa(e){var t=e.config;qt(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?en(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:pt},i=_a.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(de(r).slice(1))}function Ea(e){return ka.apply(this,arguments)}function ka(){return ka=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ba(t);case 2:return n=e.sent,qt(r=yi().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Sa(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xa,dontclear:!0},(function(e){return new Promise(function(){var n=u(o().mark((function n(r,i){var a,s,u;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){yi().clearTimeout(s),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Ht(t,"network-request-failed"),s=yi().setTimeout((function(){i(a)}),wa.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),ka.apply(this,arguments)}var Ca={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Aa="_blank",Pa="http://localhost",Ia=function(){function e(t){_(this,e),this.window=t,this.associatedEvent=null}return k(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Ta(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Ca),{width:r.toString(),height:i.toString(),top:a,left:o}),c=U().toLowerCase();n&&(s=zn(c)?Aa:n),qn(c)&&(t=t||Pa,u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=x(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Xn(c)&&"_self"!==s)return Fa(t||"",s),new Ia(null);var h=window.open(t||"",s,l);qt(h,e,"popup-blocked");try{h.focus()}catch(f){}return new Ia(h)}function Fa(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Ra="__/auth/handler",Oa="emulator/auth/handler";function Na(e,t,n,r,i,a){qt(e.config.authDomain,e,"auth-domain-config-required"),qt(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:pt,eventId:i};if(t instanceof Tr){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",ce(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=x(u[s],2),l=c[0],h=c[1];o[l]=h}}if(t instanceof Fr){var f=t.getScopes().filter((function(e){return""!==e}));f.length>0&&(o.scopes=f.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var g=v[p];void 0===d[g]&&delete d[g]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ra);return en(t,Oa)}(e),"?").concat(de(d).slice(1))}var Da="webStorageSupport",ja=function(){function e(){_(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fi,this._completeRedirectFn=aa,this._overrideRedirectResult=na}return k(e,[{key:"_openPopup",value:function(){var e=u(o().mark((function e(t,n,r,i){var a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zt(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),s=Na(t,n,r,Jt(),i),e.abrupt("return",Ta(t,s,vi()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=u(o().mark((function e(t,n,r,i){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Na(t,n,r,Jt(),i),yi().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(zt(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ea(t);case 2:return n=e.sent,r=new sa(t),n.register("authEvent",(function(e){return qt(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Da,{type:Da},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Da];void 0!==i&&t(!!i),Mt(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return pa.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Zn()||Kn()||Yn()}}]),e}(),La=ja,Ba=function(){function e(t){_(this,e),this.factorId=t}return k(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Kt("unexpected MultiFactorSessionType")}}}]),e}(),Ma=function(e){p(n,e);var t=y(n);function n(e){var r;return _(this,n),(r=t.call(this,"phone")).credential=e,r}return k(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return on(e,"POST","/v2/accounts/mfaEnrollment:finalize",an(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return on(e,"POST","/v2/accounts/mfaSignIn:finalize",an(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Ba);(function(){function e(){_(this,e)}return k(e,null,[{key:"assertion",value:function(e){return Ma._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var Ha="@firebase/auth",Va="0.20.11",Ua=function(){function e(t){_(this,e),this.auth=t,this.internalListeners=new Map}return k(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){qt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var qa,Ka=X("authIdTokenMaxAge")||300,za=null,Wa=function(e){return function(){var t=u(o().mark((function t(n){var r,i,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=5;break}return t.next=4,n.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(r=t.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>Ka)){t.next=9;break}return t.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,za!==a){t.next=12;break}return t.abrupt("return");case 12:return za=a,t.next=15,fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};qa="Browser",ct(new _e("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){qt(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),qt(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:qa,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:er(qa)},i=new nr(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Gt);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),ct(new _e("auth-internal",(function(e){return function(e){return new Ua(e)}(rr(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),yt(Ha,Va,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(qa)),yt(Ha,Va,"esm2017");yt("firebase","9.14.0","app");var Ga=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt(),t=lt(e,"auth");if(t.isInitialized())return t.getImmediate();var n=$t(e,{popupRedirectResolver:La,persistence:[Di,li,fi]}),r=X("authTokenSyncURL");if(r){var i=Wa(r);ai(n,i,(function(){return i(n.currentUser)})),ii(n,(function(e){return i(e)}))}var a=$("auth");return a&&ar(n,"http://".concat(a)),n}(vt({apiKey:"AIzaSyAeGrI4TpLgj2YifCsyMfEgRs1jLzSBEpA",authDomain:"sky-fitness-pro.firebaseapp.com",databaseURL:"https://sky-fitness-pro-default-rtdb.europe-west1.firebasedatabase.app",projectId:"sky-fitness-pro",storageBucket:"sky-fitness-pro.appspot.com",messagingSenderId:"6100456749",appId:"1:6100456749:web:fe933d2896714cbf3e6fa4"})),$a="@firebase/database",Ja="0.13.10",Ya="";var Xa=function(){function e(t){_(this,e),this.domStorage_=t,this.prefix_="firebase:"}return k(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ae(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:ie(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),Qa=function(){function e(){_(this,e),this.cache_={},this.isInMemoryStorage=!0}return k(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return se(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),Za=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Xa(t)}}catch(n){}return new Qa},eo=Za("localStorage"),to=Za("sessionStorage"),no=new Oe("@firebase/database"),ro=function(){var e=1;return function(){return e++}}(),io=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,O(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new ge;n.update(t);var r=n.digest();return j.encodeByteArray(r)},ao=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?ae(r):r,t+=" "}return t},oo=null,so=!0,uo=function(e,t){O(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(no.logLevel=Ce.VERBOSE,oo=no.log.bind(no),t&&to.set("logging_enabled",!0)):"function"===typeof e?oo=e:(oo=null,to.remove("logging_enabled"))},co=function(){if(!0===so&&(so=!1,null===oo&&!0===to.get("logging_enabled")&&uo(!0)),oo){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=ao.apply(null,t);oo(r)}},lo=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];co.apply(void 0,[e].concat(n))}},ho=function(){var e="FIREBASE INTERNAL ERROR: "+ao.apply(void 0,arguments);no.error(e)},fo=function(){var e="FIREBASE FATAL ERROR: ".concat(ao.apply(void 0,arguments));throw no.error(e),new Error(e)},po=function(){var e="FIREBASE WARNING: "+ao.apply(void 0,arguments);no.warn(e)},vo=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},go="[MIN_NAME]",yo="[MAX_NAME]",mo=function(e,t){if(e===t)return 0;if(e===go||t===yo)return-1;if(t===go||e===yo)return 1;var n=Po(e),r=Po(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},bo=function(e,t){return e===t?0:e<t?-1:1},wo=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ae(t))},xo=function e(t){if("object"!==typeof t||null===t)return ae(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=ae(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},_o=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function So(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var Eo=function(e){O(!vo(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var ko=new RegExp("^-?(0*)\\d{1,10}$"),Co=-2147483648,Ao=2147483647,Po=function(e){if(ko.test(e)){var t=Number(e);if(t>=Co&&t<=Ao)return t}return null},Io=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw po("Exception was thrown by user callback.",e),t}),Math.floor(0))}},To=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},Fo=function(){function e(t,n){var r=this;_(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return k(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){po('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),Ro=function(){function e(t,n,r){var i=this;_(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return k(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(co("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',po(e)}}]),e}(),Oo=function(){function e(t){_(this,e),this.accessToken=t}return k(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();Oo.OWNER="owner";var No="5",Do=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,jo="ac",Lo="websocket",Bo="long_polling",Mo=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];_(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=eo.get("host:"+t)||this._host}return k(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&eo.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function Ho(e,t,n){var r;if(O("string"===typeof t,"typeof type must == string"),O("object"===typeof n,"typeof params must == object"),t===Lo)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Bo)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return So(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var Vo=function(){function e(){_(this,e),this.counters_={}}return k(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;se(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return H(this.counters_)}}]),e}(),Uo={},qo={};function Ko(e){var t=e.toString();return Uo[t]||(Uo[t]=new Vo),Uo[t]}var zo=function(){function e(t){_(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return k(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&Io((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),Wo="start",Go="close",$o=function(){function e(t,n,r,i,a,o,s){var u=this;_(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=lo(t),this.stats_=Ko(n),this.urlFn=function(e){return u.appCheckToken&&(e[jo]=u.appCheckToken),Ho(n,Bo,e)}}return k(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new zo(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(z()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Jo((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Wo)n.id=a,n.password=o;else{if(i!==Go)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[Wo]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=No,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[jo]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&Do.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=ae(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=L(t),r=_o(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!z()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=ae(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!z()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),Jo=function(){function e(t,n,r,i){if(_(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,z())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=ro(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){co("frame writing exception"),s.stack&&co(s.stack),co(s)}}}return k(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;z()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){co("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||co("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),Yo=null;"undefined"!==typeof MozWebSocket?Yo=MozWebSocket:"undefined"!==typeof WebSocket&&(Yo=WebSocket);var Xo=function(){function e(t,n,r,i,a,o,s){_(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=lo(this.connId),this.stats_=Ko(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return k(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,eo.set("previous_websocket_failure",!0);try{var r;if(z()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(No,"/").concat(Ya,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DATABASE_URL:"https://sky-fitness-pro-default-rtdb.europe-west1.firebasedatabase.app",REACT_APP_FIREBASE_API_KEY:"AIzaSyAeGrI4TpLgj2YifCsyMfEgRs1jLzSBEpA",REACT_APP_FIREBASE_APP_ID:"1:6100456749:web:fe933d2896714cbf3e6fa4",REACT_APP_FIREBASE_AUTH_DOMAIN:"sky-fitness-pro.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"6100456749",REACT_APP_FIREBASE_PROJECT_ID:"sky-fitness-pro",REACT_APP_FIREBASE_STORAGE_BUCKET:"sky-fitness-pro.appspot.com"},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new Yo(this.connURL,[],r)}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){eo.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=ie(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(O(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=ae(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=_o(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=No,!z()&&"undefined"!==typeof location&&location.hostname&&Do.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a[jo]=r),i&&(a.p=i),Ho(e,Lo,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Yo&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return eo.isInMemoryStorage||!0===eo.get("previous_websocket_failure")}}]),e}();Xo.responsesRequiredToBeHealthy=2,Xo.healthyTimeout=3e4;var Qo=function(){function e(t){_(this,e),this.initTransports_(t)}return k(e,[{key:"initTransports_",value:function(t){var n=Xo&&Xo.isAvailable(),r=n&&!Xo.previouslyFailed();if(t.webSocketOnly&&(n||po("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Xo];else{var i,a=this.transports_=[],o=w(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[$o,Xo]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();Qo.globalTransportInitialized_=!1;var Zo=function(){function e(t,n,r,i,a,o,s,u,c,l){_(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=lo("c:"+this.id+":"),this.transportManager_=new Qo(n),this.log_("Connection created"),this.start_()}return k(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=To((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=wo("t",e),n=wo("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=wo("t",e),n=wo("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=wo("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?ho("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ho("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),No!==n&&po("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),To((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):To((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(eo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),es=function(){function e(){_(this,e)}return k(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),ts=function(){function e(t){_(this,e),this.allowedEvents_=t,this.listeners_={},O(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return k(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=C(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){O(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),ns=function(e){p(n,e);var t=y(n);function n(){var e;return _(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||q()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return k(n,[{key:"getInitialEvent",value:function(e){return O("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(ts),rs=function(){function e(t,n){if(_(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return k(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function is(){return new rs("")}function as(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function os(e){return e.pieces_.length-e.pieceNum_}function ss(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new rs(e.pieces_,t)}function us(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function cs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function ls(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new rs(t,0)}function hs(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof rs)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new rs(n,0)}function fs(e){return e.pieceNum_>=e.pieces_.length}function ds(e,t){var n=as(e),r=as(t);if(null===n)return t;if(n===r)return ds(ss(e),ss(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function ps(e,t){if(os(e)!==os(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function vs(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(os(e)>os(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var gs=k((function e(t,n){_(this,e),this.errorPrefix_=n,this.parts_=cs(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=we(this.parts_[r]);ys(this)}));function ys(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ms(e))}function ms(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var bs=function(e){p(n,e);var t=y(n);function n(){var e,r,i;return _(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return k(n,[{key:"getInitialEvent",value:function(e){return O("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(ts),ws=1e3,xs=function(e){p(n,e);var t=y(n);function n(e,r,i,a,o,s,u,c){var l;if(_(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=o,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=lo("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=ws,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!z())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return bs.getInstance().on("visible",l.onVisible_,f(l)),-1===e.host.indexOf("fblocal")&&ns.getInstance().on("online",l.onOnline_,f(l)),l}return k(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(ae(i)),O(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new Q,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),O(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=oe(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=oe(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+ae(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):ho("Unrecognized action received from server: "+ae(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;O(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ws,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ws,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ws),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=u(o().mark((function e(){var t,r,i,a,s,u,c,l,h,f,d,p,v,g,y=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,s=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,i())},h=function(e){O(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:l,sendRequest:h},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);case 19:d=e.sent,p=x(d,2),v=p[0],g=p[1],u?co("getToken() completed but was canceled"):(co("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=g&&g.token,c=new Zo(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){po(e+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")}),s)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),u||(this.repoInfo_.nodeAdmin&&po(e.t0),l());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){co("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){co("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ce(this.interruptReasons_)&&(this.reconnectDelay_=ws,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return xo(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new rs(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){co("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){co("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=w(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=w(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";z()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Ya.replace(/\./g,"-")]=1,q()?e["framework.cordova"]=1:K()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=ns.getInstance().currentlyOnline();return ce(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&se(e,"w")){var n=ue(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();po("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(es);xs.nextPersistentConnectionId_=0,xs.nextConnectionId_=0;var _s,Ss=function(){function e(t,n){_(this,e),this.name=t,this.node=n}return k(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),Es=function(){function e(){_(this,e)}return k(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new Ss(go,e),r=new Ss(go,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return Ss.MIN}}]),e}(),ks=function(e){p(n,e);var t=y(n);function n(){return _(this,n),t.apply(this,arguments)}return k(n,[{key:"compare",value:function(e,t){return mo(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw N("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return Ss.MIN}},{key:"maxPost",value:function(){return new Ss(yo,_s)}},{key:"makePost",value:function(e,t){return O("string"===typeof e,"KeyIndex indexValue must always be a string."),new Ss(e,_s)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return _s},set:function(e){_s=e}}]),n}(Es),Cs=new ks,As=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;_(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return k(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),Ps=function(){function e(t,n,r,i,a){_(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Fs.EMPTY_NODE,this.right=null!=a?a:Fs.EMPTY_NODE}return k(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return Fs.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Fs.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();Ps.RED=!0,Ps.BLACK=!1;var Is,Ts=function(){function e(){_(this,e)}return k(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Ps(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),Fs=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;_(this,e),this.comparator_=t,this.root_=n}return k(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ps.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ps.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new As(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new As(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new As(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new As(this.root_,null,this.comparator_,!0,e)}}]),e}();function Rs(e,t){return mo(e.name,t.name)}function Os(e,t){return mo(e,t)}Fs.EMPTY_NODE=new Ts;var Ns,Ds,js,Ls=function(e){return"number"===typeof e?"number:"+Eo(e):"string:"+e},Bs=function(e){if(e.isLeafNode()){var t=e.val();O("string"===typeof t||"number"===typeof t||"object"===typeof t&&se(t,".sv"),"Priority must be a string or number.")}else O(e===Is||e.isEmpty(),"priority of unexpected type.");O(e===Is||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ms=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;_(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,O(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Bs(this.priorityNode_)}return k(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return fs(t)?this:".priority"===as(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=as(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(O(".priority"!==r||1===os(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ss(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ls(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?Eo(this.value_):this.value_,this.lazyHash_=io(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(O(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return O(i>=0,"Unknown leaf type: "+n),O(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return Ns},set:function(e){Ns=e}}]),e}();Ms.VALUE_TYPE_ORDER=["object","boolean","number","string"];var Hs,Vs,Us=function(e){p(n,e);var t=y(n);function n(){return _(this,n),t.apply(this,arguments)}return k(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?mo(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return Ss.MIN}},{key:"maxPost",value:function(){return new Ss(yo,new Ms("[PRIORITY-POST]",js))}},{key:"makePost",value:function(e,t){var n=Ds(e);return new Ss(t,new Ms("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(Es),qs=new Us,Ks=Math.log(2),zs=function(){function e(t){_(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/Ks,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return k(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),Ws=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new Ps(o,a.node,Ps.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return a=e[u],o=n?n(a):a,new Ps(o,a.node,Ps.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var c=i(a+1,s),l=e[a],h=n?n(l):l;u(new Ps(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,Ps.BLACK):(s(h,Ps.BLACK),s(h,Ps.RED))}return a}(new zs(e.length));return new Fs(r||t,a)},Gs={},$s=function(){function e(t,n){_(this,e),this.indexes_=t,this.indexSet_=n}return k(e,[{key:"get",value:function(e){var t=ue(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Fs?t:null}},{key:"hasIndex",value:function(e){return se(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){O(t!==Cs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(Ss.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?Ws(i,t.getCompare()):Gs;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(le(this.indexes_,(function(e,i){var a=ue(r.indexSet_,i);if(O(a,"Missing index implementation for "+i),e===Gs){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(Ss.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),Ws(o,a.getCompare())}return Gs}var c=n.get(t.name),l=e;return c&&(l=l.remove(new Ss(t.name,c))),l.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(le(this.indexes_,(function(e){if(e===Gs)return e;var r=n.get(t.name);return r?e.remove(new Ss(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return O(Gs&&qs,"ChildrenNode.ts has not been loaded"),Hs=Hs||new e({".priority":Gs},{".priority":qs})}}]),e}(),Js=function(){function e(t,n,r){_(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Bs(this.priorityNode_),this.children_.isEmpty()&&O(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return k(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||Vs}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Vs:t}},{key:"getChild",value:function(e){var t=as(e);return null===t?this:this.getImmediateChild(t).getChild(ss(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(O(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new Ss(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?Vs:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=as(e);if(null===n)return t;O(".priority"!==as(e)||1===os(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(ss(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(qs,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Ls(this.getPriority().val())+":"),this.forEachChild(qs,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":io(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ss(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new Ss(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new Ss(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Ss.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Ss.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ys?-1:0}},{key:"withIndex",value:function(t){if(t===Cs||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===Cs||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(qs),r=t.getIterator(qs),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===Cs?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return Vs||(Vs=new e(new Fs(Os),null,$s.Default))}}]),e}();Js.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var Ys=new(function(e){p(n,e);var t=y(n);function n(){return _(this,n),t.call(this,new Fs(Os),Js.EMPTY_NODE,$s.Default)}return k(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return Js.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(Js));Object.defineProperties(Ss,{MIN:{value:new Ss(go,Js.EMPTY_NODE)},MAX:{value:new Ss(yo,Ys)}}),ks.__EMPTY_NODE=Js.EMPTY_NODE,Ms.__childrenNodeConstructor=Js,Is=Ys,function(e){js=e}(Ys);function Xs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Js.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),O(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new Ms(n,Xs(t))}if(e instanceof Array){var r=Js.EMPTY_NODE;return So(e,(function(t,n){if(se(e,t)&&"."!==t.substring(0,1)){var i=Xs(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(Xs(t))}var i=[],a=!1,o=e;if(So(o,(function(e,t){if("."!==e.substring(0,1)){var n=Xs(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new Ss(e,n)))}})),0===i.length)return Js.EMPTY_NODE;var s=Ws(i,Rs,(function(e){return e.name}),Os);if(a){var u=Ws(i,qs.getCompare());return new Js(s,Xs(t),new $s({".priority":u},{".priority":qs}))}return new Js(s,Xs(t),$s.Default)}!function(e){Ds=e}(Xs);var Qs=function(e){p(n,e);var t=y(n);function n(e){var r;return _(this,n),(r=t.call(this)).indexPath_=e,O(!fs(e)&&".priority"!==as(e),"Can't create PathIndex with empty path or .priority key"),r}return k(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?mo(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=Xs(e),r=Js.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ss(t,r)}},{key:"maxPost",value:function(){var e=Js.EMPTY_NODE.updateChild(this.indexPath_,Ys);return new Ss(yo,e)}},{key:"toString",value:function(){return cs(this.indexPath_,0).join("/")}}]),n}(Es),Zs=function(e){p(n,e);var t=y(n);function n(){return _(this,n),t.apply(this,arguments)}return k(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?mo(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return Ss.MIN}},{key:"maxPost",value:function(){return Ss.MAX}},{key:"makePost",value:function(e,t){var n=Xs(e);return new Ss(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(Es),eu=new Zs,tu="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){var e=0,t=[]}();function nu(e){return{type:"value",snapshotNode:e}}function ru(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function iu(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function au(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var ou=function(){function e(){_(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=qs}return k(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return O(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return O(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:go}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return O(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return O(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:yo}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return O(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===qs}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function su(e){var t,n={};return e.isDefault()||(e.index_===qs?t="$priority":e.index_===eu?t="$value":e.index_===Cs?t="$key":(O(e.index_ instanceof Qs,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=ae(t),e.startSet_&&(n.startAt=ae(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+ae(e.indexStartName_))),e.endSet_&&(n.endAt=ae(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+ae(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function uu(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==qs&&(t.i=e.index_.toString()),t}var cu=function(e){p(n,e);var t=y(n);function n(e,r,i,a){var o;return _(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=lo("p:rest:"),o.listens_={},o}return k(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=su(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),ue(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=su(e._queryParams),r=e._path.toString(),i=new Q;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=x(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+de(n);t.log_("Sending REST request for "+u);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(r&&4===c.readyState){t.log_("REST Response for "+u+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=ie(c.responseText)}catch(n){po("Failed to parse JSON response for "+u+": "+c.responseText)}r(null,e)}else 401!==c.status&&404!==c.status&&po("Got unsuccessful REST response for "+u+" Status: "+c.status),r(c.status);r=null}},c.open("GET",u,!0),c.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(O(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(es),lu=function(){function e(){_(this,e),this.rootNode_=Js.EMPTY_NODE}return k(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function hu(){return{value:null,children:new Map}}function fu(e,t,n){if(fs(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=as(t);e.children.has(r)||e.children.set(r,hu()),fu(e.children.get(r),t=ss(t),n)}}function du(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){du(r,new rs(t.toString()+"/"+e),n)}))}var pu,vu=function(){function e(t){_(this,e),this.collection_=t,this.last_=null}return k(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&So(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),gu=function(){function e(t,n){_(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new vu(t);var r=1e4+2e4*Math.random();To(this.reportStats_.bind(this),Math.floor(r))}return k(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;So(t,(function(t,i){i>0&&se(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),To(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function yu(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(pu||(pu={}));var mu,bu=function(){function e(t,n,r){_(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=pu.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return k(e,[{key:"operationForChild",value:function(t){if(fs(this.path)){if(null!=this.affectedTree.value)return O(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new rs(t));return new e(is(),n,this.revert)}return O(as(this.path)===t,"operationForChild called for unrelated child."),new e(ss(this.path),this.affectedTree,this.revert)}}]),e}(),wu=function(){function e(t,n,r){_(this,e),this.source=t,this.path=n,this.snap=r,this.type=pu.OVERWRITE}return k(e,[{key:"operationForChild",value:function(t){return fs(this.path)?new e(this.source,is(),this.snap.getImmediateChild(t)):new e(this.source,ss(this.path),this.snap)}}]),e}(),xu=function(){function e(t,n,r){_(this,e),this.source=t,this.path=n,this.children=r,this.type=pu.MERGE}return k(e,[{key:"operationForChild",value:function(t){if(fs(this.path)){var n=this.children.subtree(new rs(t));return n.isEmpty()?null:n.value?new wu(this.source,is(),n.value):new e(this.source,is(),n)}return O(as(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,ss(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),_u=function(){function e(t,n,r){_(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return k(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(fs(e))return this.isFullyInitialized()&&!this.filtered_;var t=as(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}();function Su(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw N("Should only compare child_ events.");var r=new Ss(t.childName,t.snapshotNode),i=new Ss(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Eu(e,t){return{eventCache:e,serverCache:t}}function ku(e,t,n,r){return Eu(new _u(t,n,r),e.serverCache)}function Cu(e,t,n,r){return Eu(e.eventCache,new _u(t,n,r))}function Au(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Pu(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Iu=function(){return mu||(mu=new Fs(bo)),mu},Tu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Iu();_(this,e),this.value=t,this.children=n}return k(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:is(),value:this.value};if(fs(e))return null;var n=as(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(ss(e),t);return null!=i?{path:hs(new rs(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(fs(t))return this;var n=as(t),r=this.children.get(n);return null!==r?r.subtree(ss(t)):new e(null)}},{key:"set",value:function(t,n){if(fs(t))return new e(n,this.children);var r=as(t),i=(this.children.get(r)||new e(null)).set(ss(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(fs(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=as(t),r=this.children.get(n);if(r){var i,a=r.remove(ss(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(fs(e))return this.value;var t=as(e),n=this.children.get(t);return n?n.get(ss(e)):null}},{key:"setTree",value:function(t,n){if(fs(t))return n;var r,i=as(t),a=(this.children.get(i)||new e(null)).setTree(ss(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(is(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(hs(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,is(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(fs(e))return null;var i=as(e),a=this.children.get(i);return a?a.findOnPath_(ss(e),hs(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,is(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(fs(t))return this;this.value&&r(n,this.value);var i=as(t),a=this.children.get(i);return a?a.foreachOnPath_(ss(t),hs(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(is(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(hs(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return So(t,(function(e,t){n=n.set(new rs(e),t)})),n}}]),e}(),Fu=function(){function e(t){_(this,e),this.writeTree_=t}return k(e,null,[{key:"empty",value:function(){return new e(new Tu(null))}}]),e}();function Ru(e,t,n){if(fs(t))return new Fu(new Tu(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=ds(i,t);return a=a.updateChild(o,n),new Fu(e.writeTree_.set(i,a))}var s=new Tu(n),u=e.writeTree_.setTree(t,s);return new Fu(u)}function Ou(e,t,n){var r=e;return So(n,(function(e,n){r=Ru(r,hs(t,e),n)})),r}function Nu(e,t){if(fs(t))return Fu.empty();var n=e.writeTree_.setTree(t,new Tu(null));return new Fu(n)}function Du(e,t){return null!=ju(e,t)}function ju(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(ds(n.path,t)):null}function Lu(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(qs,(function(e,n){t.push(new Ss(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Ss(e,n.value))})),t}function Bu(e,t){if(fs(t))return e;var n=ju(e,t);return new Fu(null!=n?new Tu(n):e.writeTree_.subtree(t))}function Mu(e){return e.writeTree_.isEmpty()}function Hu(e,t){return Vu(is(),e.writeTree_,t)}function Vu(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(O(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Vu(hs(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(hs(e,".priority"),r)),n}function Uu(e,t){return nc(t,e)}function qu(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function Ku(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));O(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&zu(s,r.path)?i=!1:vs(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=Gu(e.allWrites,Wu,is()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=Nu(e.visibleWrites,r.path):So(r.children,(function(t){e.visibleWrites=Nu(e.visibleWrites,hs(r.path,t))}));return!0}return!1}function zu(e,t){if(e.snap)return vs(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&vs(hs(e.path,n),t))return!0;return!1}function Wu(e){return e.visible}function Gu(e,t,n){for(var r=Fu.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)vs(n,o)?r=Ru(r,s=ds(n,o),a.snap):vs(o,n)&&(s=ds(o,n),r=Ru(r,is(),a.snap.getChild(s)));else{if(!a.children)throw N("WriteRecord should have .snap or .children");if(vs(n,o))r=Ou(r,s=ds(n,o),a.children);else if(vs(o,n))if(fs(s=ds(o,n)))r=Ou(r,is(),a.children);else{var u=ue(a.children,as(s));if(u){var c=u.getChild(ss(s));r=Ru(r,is(),c)}}}}}return r}function $u(e,t,n,r,i){if(r||i){var a=Bu(e.visibleWrites,t);if(!i&&Mu(a))return n;if(i||null!=n||Du(a,is())){return Hu(Gu(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(vs(e.path,t)||vs(t,e.path))}),t),n||Js.EMPTY_NODE)}return null}var o=ju(e.visibleWrites,t);if(null!=o)return o;var s=Bu(e.visibleWrites,t);return Mu(s)?n:null!=n||Du(s,is())?Hu(s,n||Js.EMPTY_NODE):null}function Ju(e,t,n,r){return $u(e.writeTree,e.treePath,t,n,r)}function Yu(e,t){return function(e,t,n){var r=Js.EMPTY_NODE,i=ju(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(qs,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=Bu(e.visibleWrites,t);return n.forEachChild(qs,(function(e,t){var n=Hu(Bu(a,new rs(e)),t);r=r.updateImmediateChild(e,n)})),Lu(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return Lu(Bu(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Xu(e,t,n,r){return function(e,t,n,r,i){O(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=hs(t,n);if(Du(e.visibleWrites,a))return null;var o=Bu(e.visibleWrites,a);return Mu(o)?i.getChild(n):Hu(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Qu(e,t){return function(e,t){return ju(e.visibleWrites,t)}(e.writeTree,hs(e.treePath,t))}function Zu(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=Bu(e.visibleWrites,t),c=ju(u,is());if(null!=c)s=c;else{if(null==n)return[];s=Hu(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=o.getCompare(),f=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=f.getNext();d&&l.length<i;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function ec(e,t,n){return function(e,t,n,r){var i=hs(t,n),a=ju(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?Hu(Bu(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function tc(e,t){return nc(hs(e.treePath,t),e.writeTree)}function nc(e,t){return{treePath:e,writeTree:t}}var rc=function(){function e(){_(this,e),this.changeMap=new Map}return k(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;O("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),O(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,au(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,iu(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,ru(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw N("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,au(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),ic=new(function(){function e(){_(this,e)}return k(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),ac=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return k(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new _u(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ec(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Pu(this.viewCache_),i=Zu(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function oc(e,t,n,r,i){var a,o,s=new rc;if(n.type===pu.OVERWRITE){var u=n;u.source.fromUser?a=cc(e,t,u.path,u.snap,r,i,s):(O(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!fs(u.path),a=uc(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===pu.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var c=hs(n,r);lc(t,as(c))&&(s=cc(e,s,c,u,i,a,o))})),r.foreach((function(r,u){var c=hs(n,r);lc(t,as(c))||(s=cc(e,s,c,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,s):(O(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=fc(e,t,c.path,c.children,r,i,o,s))}else if(n.type===pu.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=Qu(r,n))return t;var s,u=new ac(r,t,i),c=t.eventCache.getNode();if(fs(n)||".priority"===as(n)){var l;if(t.serverCache.isFullyInitialized())l=Ju(r,Pu(t));else{var h=t.serverCache.getNode();O(h instanceof Js,"serverChildren would be complete if leaf node"),l=Yu(r,h)}s=e.filter.updateFullNode(c,l,a)}else{var f=as(n),d=ec(r,f,t.serverCache);null==d&&t.serverCache.isCompleteForChild(f)&&(d=c.getImmediateChild(f)),(s=null!=d?e.filter.updateChild(c,f,d,ss(n),u,a):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(c,f,Js.EMPTY_NODE,ss(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Ju(r,Pu(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=Qu(r,is()),ku(t,s,o,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=Qu(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(fs(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return uc(e,t,n,u.getNode().getChild(n),i,a,s,o);if(fs(n)){var c=new Tu(null);return u.getNode().forEachChild(Cs,(function(e,t){c=c.set(new rs(e),t)})),fc(e,t,n,c,i,a,s,o)}return t}var l=new Tu(null);return r.foreach((function(e,t){var r=hs(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),fc(e,t,n,l,i,a,s,o)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==pu.LISTEN_COMPLETE)throw N("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=Cu(t,a.getNode(),a.isFullyInitialized()||fs(n),a.isFiltered());return sc(e,o,n,r,ic,i)}(e,t,n.path,r,s)}var h=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=Au(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(nu(Au(t)))}}(t,a,h),{viewCache:a,changes:h}}function sc(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=Qu(r,n))return t;if(fs(n))if(O(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=Pu(t),l=Yu(r,c instanceof Js?c:Js.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var h=Ju(r,Pu(t));o=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=as(n);if(".priority"===f){O(1===os(n),"Can't have a priority with additional path components");var d=u.getNode(),p=Xu(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,g=ss(n);if(u.isCompleteForChild(f)){s=t.serverCache.getNode();var y=Xu(r,n,u.getNode(),s);v=null!=y?u.getNode().getImmediateChild(f).updateChild(g,y):u.getNode().getImmediateChild(f)}else v=ec(r,f,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),f,v,g,i,a):u.getNode()}}return ku(t,o,u.isFullyInitialized()||fs(n),e.filter.filtersNodes())}function uc(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(fs(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=as(n);if(!c.isCompleteForPath(n)&&os(n)>1)return t;var d=ss(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,ic,null)}var v=Cu(t,u,c.isFullyInitialized()||fs(n),l.filtersNodes());return sc(e,v,n,i,new ac(i,v,a),s)}function cc(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new ac(i,t,a);if(fs(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=ku(t,u,!0,e.filter.filtersNodes());else{var h=as(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=ku(t,u,c.isFullyInitialized(),c.isFiltered());else{var f,d=ss(n),p=c.getNode().getImmediateChild(h);if(fs(d))f=r;else{var v=l.getCompleteChild(h);f=null!=v?".priority"===us(d)&&v.getChild(ls(d)).isEmpty()?v:v.updateChild(d,r):Js.EMPTY_NODE}if(p.equals(f))s=t;else s=ku(t,e.filter.updateChild(c.getNode(),h,f,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function lc(e,t){return e.eventCache.isCompleteForChild(t)}function hc(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function fc(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=fs(n)?r:new Tu(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=hc(0,t.serverCache.getNode().getImmediateChild(n),r);c=uc(e,c,new rs(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!l.hasChild(n)&&!u){var h=hc(0,t.serverCache.getNode().getImmediateChild(n),r);c=uc(e,c,new rs(n),h,i,a,o,s)}})),c}var dc;function pc(e,t){var n=Pu(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!fs(t)&&!n.getImmediateChild(as(t)).isEmpty())?n.getChild(t):null}function vc(e,t,n,r){t.type===pu.MERGE&&null!==t.source.queryId&&(O(Pu(e.viewCache_),"We should always have a full cache before handling merges"),O(Au(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=oc(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,O(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),O(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),O(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,gc(e,s.changes,s.viewCache.eventCache.getNode(),null)}function gc(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Su(e,i,"child_removed",t,r,n),Su(e,i,"child_added",t,r,n),Su(e,i,"child_moved",a,r,n),Su(e,i,"child_changed",t,r,n),Su(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var yc;function mc(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return O(null!=a,"SyncTree gave us an op for an invalid query."),vc(a,t,n,r)}var o,s=[],u=w(e.views.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s=s.concat(vc(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function bc(e,t){var n,r=null,i=w(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||pc(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}var wc=k((function e(t){_(this,e),this.listenProvider_=t,this.syncPointTree_=new Tu(null),this.pendingWriteTree_={visibleWrites:Fu.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function xc(e,t,n,r,i){return function(e,t,n,r,i){O(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Ru(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Cc(e,new wu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function _c(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=qu(e.pendingWriteTree_,t),i=Ku(e.pendingWriteTree_,t);if(i){var a=new Tu(null);return null!=r.snap?a=a.set(is(),!0):So(r.children,(function(e){a=a.set(new rs(e),!0)})),Cc(e,new bu(r.path,a,n))}return[]}function Sc(e,t,n){return Cc(e,new wu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Ec(e,t,n,r){var i=Ic(e,r);if(null!=i){var a=Tc(i),o=a.path,s=a.queryId,u=ds(o,t);return Fc(e,o,new wu(yu(s),u,n))}return[]}function kc(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=bc(n,ds(e,t));if(r)return r}));return $u(r,t,i,n,!0)}function Cc(e,t){return Ac(t,e.syncPointTree_,null,Uu(e.pendingWriteTree_,is()))}function Ac(e,t,n,r){if(fs(e.path))return Pc(e,t,n,r);var i=t.get(is());null==n&&null!=i&&(n=bc(i,is()));var a=[],o=as(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var c=n?n.getImmediateChild(o):null,l=tc(r,o);a=a.concat(Ac(s,u,c,l))}return i&&(a=a.concat(mc(i,e,r,n))),a}function Pc(e,t,n,r){var i=t.get(is());null==n&&null!=i&&(n=bc(i,is()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=tc(r,t),u=e.operationForChild(t);u&&(a=a.concat(Pc(u,i,o,s)))})),i&&(a=a.concat(mc(i,e,r,n))),a}function Ic(e,t){return e.tagToQueryMap.get(t)}function Tc(e){var t=e.indexOf("$");return O(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new rs(e.substr(0,t))}}function Fc(e,t,n){var r=e.syncPointTree_.get(t);return O(r,"Missing sync point for query tag that we're tracking"),mc(r,n,Uu(e.pendingWriteTree_,t),null)}var Rc=function(){function e(t){_(this,e),this.node_=t}return k(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),Oc=function(){function e(t,n){_(this,e),this.syncTree_=t,this.path_=n}return k(e,[{key:"getImmediateChild",value:function(t){var n=hs(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return kc(this.syncTree_,this.path_)}}]),e}(),Nc=function(e,t,n){return e&&"object"===typeof e?(O(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Dc(e[".sv"],t,n):"object"===typeof e[".sv"]?jc(e[".sv"],t):void O(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Dc=function(e,t,n){if("timestamp"===e)return n.timestamp;O(!1,"Unexpected server value: "+e)},jc=function(e,t,n){e.hasOwnProperty("increment")||O(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&O(!1,"Unexpected increment value: "+r);var i=t.node();if(O(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Lc=function(e,t,n,r){return Mc(t,new Oc(n,e),r)},Bc=function(e,t,n){return Mc(e,new Rc(t),n)};function Mc(e,t,n){var r,i=e.getPriority().val(),a=Nc(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=Nc(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new Ms(s,Xs(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new Ms(a))),u.forEachChild(qs,(function(e,i){var a=Mc(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var Hc=k((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};_(this,e),this.name=t,this.parent=n,this.node=r}));function Vc(e,t){for(var n=t instanceof rs?t:new rs(t),r=e,i=as(n);null!==i;){var a=ue(r.node.children,i)||{children:{},childCount:0};r=new Hc(i,r,a),i=as(n=ss(n))}return r}function Uc(e){return e.node.value}function qc(e,t){e.node.value=t,$c(e)}function Kc(e){return e.node.childCount>0}function zc(e,t){So(e.node.children,(function(n,r){t(new Hc(n,e,r))}))}function Wc(e,t,n,r){n&&!r&&t(e),zc(e,(function(e){Wc(e,t,!0,r)})),n&&r&&t(e)}function Gc(e){return new rs(null===e.parent?e.name:Gc(e.parent)+"/"+e.name)}function $c(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Uc(e)&&!Kc(e)}(n),i=se(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,$c(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,$c(e))}(e.parent,e.name,e)}var Jc=/[\[\].#$\/\u0000-\u001F\u007F]/,Yc=/[\[\].#$\u0000-\u001F\u007F]/,Xc=10485760,Qc=function(e){return"string"===typeof e&&0!==e.length&&!Jc.test(e)},Zc=function(e){return"string"===typeof e&&0!==e.length&&!Yc.test(e)},el=function(e,t,n,r){r&&void 0===t||tl(be(e,"value"),t,n)},tl=function e(t,n,r){var i=r instanceof rs?new gs(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+ms(i));if("function"===typeof n)throw new Error(t+"contains a function "+ms(i)+" with contents = "+n.toString());if(vo(n))throw new Error(t+"contains "+n.toString()+" "+ms(i));if("string"===typeof n&&n.length>Xc/3&&we(n)>Xc)throw new Error(t+"contains a string greater than "+Xc+" utf8 bytes "+ms(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(So(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!Qc(n)))throw new Error(t+" contains an invalid key ("+n+") "+ms(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;u=n,(s=i).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(u),s.byteLength_+=we(u),ys(s),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=we(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+ms(i)+" in addition to actual children.")}},nl=function(e,t,n,r){if((!r||void 0!==n)&&!Zc(n))throw new Error(be(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},rl=function(e,t){if(".info"===as(t))throw new Error(e+" failed = Can't modify data under /.info/")},il=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Qc(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Zc(e)}(n))throw new Error(be(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},al=k((function e(){_(this,e),this.eventLists_=[],this.recursionDepth_=0}));function ol(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||ps(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function sl(e,t,n){ol(e,n),ul(e,(function(e){return vs(e,t)||vs(t,e)}))}function ul(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(cl(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function cl(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();oo&&co("event: "+n.toString()),Io(r)}}}var ll="repo_interrupt",hl=function(){function e(t,n,r,i){_(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new al,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=hu(),this.transactionQueueTree_=new Hc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return k(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function fl(e,t,n){if(e.stats_=Ko(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new cu(e.repoInfo_,(function(t,n,r,i){vl(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return gl(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ae(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new xs(e.repoInfo_,t,(function(t,n,r,i){vl(e,t,n,r,i)}),(function(t){gl(e,t)}),(function(t){!function(e,t){So(t,(function(t,n){yl(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return qo[n]||(qo[n]=t()),qo[n]}(e.repoInfo_,(function(){return new gu(e.stats_,e.server_)})),e.infoData_=new lu,e.infoSyncTree_=new wc({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=Sc(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),yl(e,"connected",!1),e.serverSyncTree_=new wc({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);sl(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function dl(e){var t=e.infoData_.getNode(new rs(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function pl(e){return(t=(t={timestamp:dl(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function vl(e,t,n,r,i){e.dataUpdateCount++;var a=new rs(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=le(n,(function(e){return Xs(e)}));o=function(e,t,n,r){var i=Ic(e,r);if(i){var a=Tc(i),o=a.path,s=a.queryId,u=ds(o,t),c=Tu.fromObject(n);return Fc(e,o,new xu(yu(s),u,c))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=Xs(n);o=Ec(e.serverSyncTree_,a,u,i)}else if(r){var c=le(n,(function(e){return Xs(e)}));o=function(e,t,n){var r=Tu.fromObject(n);return Cc(e,new xu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=Xs(n);o=Sc(e.serverSyncTree_,a,l)}var h=a;o.length>0&&(h=Cl(e,a)),sl(e.eventQueue_,h,o)}function gl(e,t){yl(e,"connected",t),!1===t&&function(e){xl(e,"onDisconnectEvents");var t=pl(e),n=hu();du(e.onDisconnect_,is(),(function(r,i){var a=Lc(r,i,e.serverSyncTree_,t);fu(n,r,a)}));var r=[];du(n,is(),(function(t,n){r=r.concat(Sc(e.serverSyncTree_,t,n));var i=Fl(e,t);Cl(e,i)})),e.onDisconnect_=hu(),sl(e.eventQueue_,is(),r)}(e)}function yl(e,t,n){var r=new rs("/.info/"+t),i=Xs(n);e.infoData_.updateSnapshot(r,i);var a=Sc(e.infoSyncTree_,r,i);sl(e.eventQueue_,r,a)}function ml(e){return e.nextWriteId_++}function bl(e,t,n,r,i){xl(e,"set",{path:t.toString(),value:n,priority:r});var a=pl(e),o=Xs(n,r),s=kc(e.serverSyncTree_,t),u=Bc(o,s,a),c=ml(e),l=xc(e.serverSyncTree_,t,u,c,!0);ol(e.eventQueue_,l),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||po("set at "+t+" failed: "+n);var o=_c(e.serverSyncTree_,c,!a);sl(e.eventQueue_,t,o),_l(e,i,n,r)}));var h=Fl(e,t);Cl(e,h),sl(e.eventQueue_,h,[])}function wl(e){e.persistentConnection_&&e.persistentConnection_.interrupt(ll)}function xl(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];co.apply(void 0,[t].concat(r))}function _l(e,t,n,r){t&&Io((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function Sl(e,t,n){return kc(e.serverSyncTree_,t,n)||Js.EMPTY_NODE}function El(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Tl(e,t),Uc(t)){var n=Pl(e,t);O(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&kl(e,Gc(t),n)}else Kc(t)&&zc(t,(function(t){El(e,t)}))}function kl(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Sl(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];O(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=ds(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),h=t;e.server_.put(h.toString(),l,(function(r){xl(e,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(_c(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);Tl(e,Vc(e.transactionQueueTree_,t)),El(e,e.transactionQueueTree_),sl(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)Io(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{po("transaction at "+h.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}Cl(e,t)}}),o)}function Cl(e,t){var n=Al(e,t),r=Gc(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u=t[a],c=ds(n,u.path),l=!1,h=void 0;if(O(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,h=u.abortReason,i=i.concat(_c(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)l=!0,h="maxretry",i=i.concat(_c(e.serverSyncTree_,u.currentWriteId,!0));else{var f=Sl(e,u.path,o);u.currentInputSnapshot=f;var d=t[a].update(f.val());if(void 0!==d){tl("transaction failed: Data returned ",d,u.path);var p=Xs(d);"object"===typeof d&&null!=d&&se(d,".priority")||(p=p.updatePriority(f.getPriority()));var v=u.currentWriteId,g=pl(e),y=Bc(p,f,g);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=y,u.currentWriteId=ml(e),o.splice(o.indexOf(v),1),i=(i=i.concat(xc(e.serverSyncTree_,u.path,y,u.currentWriteId,u.applyLocally))).concat(_c(e.serverSyncTree_,v,!0))}else l=!0,h="nodata",i=i.concat(_c(e.serverSyncTree_,u.currentWriteId,!0))}sl(e.eventQueue_,n,i),i=[],l&&(t[a].status=2,s=t[a].unwatcher,setTimeout(s,Math.floor(0)),t[a].onComplete&&("nodata"===h?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(h),!1,null)}))))},u=0;u<t.length;u++)s(u);Tl(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)Io(r[c]);El(e,e.transactionQueueTree_)}(e,Pl(e,n),r),r}function Al(e,t){var n,r=e.transactionQueueTree_;for(n=as(t);null!==n&&void 0===Uc(r);)r=Vc(r,n),n=as(t=ss(t));return r}function Pl(e,t){var n=[];return Il(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Il(e,t,n){var r=Uc(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);zc(t,(function(t){Il(e,t,n)}))}function Tl(e,t){var n=Uc(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,qc(t,n.length>0?n:void 0)}zc(t,(function(t){Tl(e,t)}))}function Fl(e,t){var n=Gc(Al(e,t)),r=Vc(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Rl(e,t)})),Rl(e,r),Wc(r,(function(t){Rl(e,t)})),n}function Rl(e,t){var n=Uc(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(O(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(O(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(_c(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?qc(t,void 0):n.length=a+1,sl(e.eventQueue_,Gc(t),i);for(var s=0;s<r.length;s++)Io(r[s])}}var Ol=function(e,t){var n=Nl(e),r=n.namespace;"firebase.com"===n.domain&&fo(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||fo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&po("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Mo(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new rs(n.pathString)}},Nl=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(l,h)),l<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(l,h)));var f=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=w(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):po("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,h)));(c=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in f&&(a=f.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},Dl=function(){function e(t,n,r,i){_(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return k(e,[{key:"key",get:function(){return fs(this._path)?null:us(this._path)}},{key:"ref",get:function(){return new jl(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=uu(this._queryParams),t=xo(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return uu(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=xe(t))instanceof e))return!1;var n=this._repo===t._repo,r=ps(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();var jl=function(e){p(n,e);var t=y(n);function n(e,r){return _(this,n),t.call(this,e,r,new ou,!1)}return k(n,[{key:"parent",get:function(){var e=ls(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(Dl);function Ll(e,t){return(e=xe(e))._checkNotDeleted("ref"),void 0!==t?Bl(e._root,t):e._root}function Bl(e,t){var n,r,i,a;return null===as((e=xe(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),nl(n,r,i,a)):nl("child","path",t,!1),new jl(e._repo,hs(e._path,t))}function Ml(e,t){e=xe(e),rl("set",e._path),el("set",t,e._path,!1);var n=new Q;return bl(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}!function(e){O(!dc,"__referenceConstructor has already been defined"),dc=e}(jl),function(e){O(!yc,"__referenceConstructor has already been defined"),yc=e}(jl);var Hl={},Vl=!1;function Ul(e,t,n,r){e.repoInfo_=new Mo("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function ql(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||fo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),co("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=Ol(a,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DATABASE_URL:"https://sky-fitness-pro-default-rtdb.europe-west1.firebasedatabase.app",REACT_APP_FIREBASE_API_KEY:"AIzaSyAeGrI4TpLgj2YifCsyMfEgRs1jLzSBEpA",REACT_APP_FIREBASE_APP_ID:"1:6100456749:web:fe933d2896714cbf3e6fa4",REACT_APP_FIREBASE_AUTH_DOMAIN:"sky-fitness-pro.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"6100456749",REACT_APP_FIREBASE_PROJECT_ID:"sky-fitness-pro",REACT_APP_FIREBASE_STORAGE_BUCKET:"sky-fitness-pro.appspot.com"}.FIREBASE_DATABASE_EMULATOR_HOST),c?(o=!0,a="http://".concat(c,"?ns=").concat(u.namespace),u=(s=Ol(a,i)).repoInfo):o=!s.repoInfo.secure;var l=i&&o?new Oo(Oo.OWNER):new Ro(e.name,e.options,t);il("Invalid Firebase Database URL",s),fs(s.path)||fo("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=Hl[t.name];i||(i={},Hl[t.name]=i);var a=i[e.toURLString()];a&&fo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new hl(e,Vl,n,r),i[e.toURLString()]=a,a}(u,e,l,new Fo(e.name,n));return new Kl(h,e)}var Kl=function(){function e(t,n){_(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return k(e,[{key:"_repo",get:function(){return this._instanceStarted||(fl(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new jl(this._repo,is())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=Hl[t];n&&n[e.key]===e||fo("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),wl(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&fo("Cannot call "+e+" on a deleted database.")}}]),e}();function zl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt(),t=arguments.length>1?arguments[1]:void 0,n=lt(e,"database").getImmediate({identifier:t}),r=J("database");return r&&Wl.apply(void 0,[n].concat(C(r))),n}function Wl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=xe(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&fo("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&fo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Oo(Oo.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:Z(r.mockUserToken,e.app.options.projectId);a=new Oo(o)}Ul(i,t,n,a)}xs.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},xs.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};function Gl(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function $l(e){return!!e&&!!e[Lh]}function Jl(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Bh}(e)||Array.isArray(e)||!!e[jh]||!!(null===(t=e.constructor)||void 0===t?void 0:t[jh])||nh(e)||rh(e))}function Yl(e,t,n){void 0===n&&(n=!1),0===Xl(e)?(n?Object.keys:Mh)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function Xl(e){var t=e[Lh];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:nh(e)?2:rh(e)?3:0}function Ql(e,t){return 2===Xl(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Zl(e,t){return 2===Xl(e)?e.get(t):e[t]}function eh(e,t,n){var r=Xl(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function th(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function nh(e){return Rh&&e instanceof Map}function rh(e){return Oh&&e instanceof Set}function ih(e){return e.o||e.t}function ah(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Hh(e);delete t[Lh];for(var n=Mh(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function oh(e,t){return void 0===t&&(t=!1),uh(e)||$l(e)||!Jl(e)||(Xl(e)>1&&(e.set=e.add=e.clear=e.delete=sh),Object.freeze(e),t&&Yl(e,(function(e,t){return oh(t,!0)}),!0)),e}function sh(){Gl(2)}function uh(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function ch(e){var t=Vh[e];return t||Gl(18,e),t}function lh(e,t){Vh[e]||(Vh[e]=t)}function hh(){return Th}function fh(e,t){t&&(ch("Patches"),e.u=[],e.s=[],e.v=t)}function dh(e){ph(e),e.p.forEach(gh),e.p=null}function ph(e){e===Th&&(Th=e.l)}function vh(e){return Th={p:[],l:Th,h:e,m:!0,_:0}}function gh(e){var t=e[Lh];0===t.i||1===t.i?t.j():t.O=!0}function yh(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||ch("ES5").S(t,e,r),r?(n[Lh].P&&(dh(t),Gl(4)),Jl(e)&&(e=mh(t,e),t.l||wh(t,e)),t.u&&ch("Patches").M(n[Lh].t,e,t.u,t.s)):e=mh(t,n,[]),dh(t),t.u&&t.v(t.u,t.s),e!==Dh?e:void 0}function mh(e,t,n){if(uh(t))return t;var r=t[Lh];if(!r)return Yl(t,(function(i,a){return bh(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return wh(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=ah(r.k):r.o;Yl(3===r.i?new Set(i):i,(function(t,a){return bh(e,r,i,t,a,n)})),wh(e,i,!1),n&&e.u&&ch("Patches").R(r,n,e.u,e.s)}return r.o}function bh(e,t,n,r,i,a){if($l(i)){var o=mh(e,i,a&&t&&3!==t.i&&!Ql(t.D,r)?a.concat(r):void 0);if(eh(n,r,o),!$l(o))return;e.m=!1}if(Jl(i)&&!uh(i)){if(!e.h.F&&e._<1)return;mh(e,i),t&&t.A.l||wh(e,i)}}function wh(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&oh(t,n)}function xh(e,t){var n=e[Lh];return(n?ih(n):e)[t]}function _h(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Sh(e){e.P||(e.P=!0,e.l&&Sh(e.l))}function Eh(e){e.o||(e.o=ah(e.t))}function kh(e,t,n){var r=nh(t)?ch("MapSet").N(t,n):rh(t)?ch("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:hh(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=Uh;n&&(i=[r],a=qh);var o=Proxy.revocable(i,a),s=o.revoke,u=o.proxy;return r.k=u,r.j=s,u}(t,n):ch("ES5").J(t,n);return(n?n.A:hh()).p.push(r),r}function Ch(e){return $l(e)||Gl(22,e),function e(t){if(!Jl(t))return t;var n,r=t[Lh],i=Xl(t);if(r){if(!r.P&&(r.i<4||!ch("ES5").K(r)))return r.t;r.I=!0,n=Ah(t,i),r.I=!1}else n=Ah(t,i);return Yl(n,(function(t,i){r&&Zl(r.t,t)===i||eh(n,t,e(i))})),3===i?new Set(n):n}(e)}function Ah(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return ah(e)}function Ph(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[Lh];return Uh.get(t,e)},set:function(t){var n=this[Lh];Uh.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][Lh];if(!i.P)switch(i.i){case 5:r(i)&&Sh(i);break;case 4:n(i)&&Sh(i)}}}function n(e){for(var t=e.t,n=e.k,r=Mh(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==Lh){var o=t[a];if(void 0===o&&!Ql(t,a))return!0;var s=n[a],u=s&&s[Lh];if(u?u.t!==o:!th(s,o))return!0}}var c=!!t[Lh];return r.length!==Mh(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};lh("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=Hh(n);delete a[Lh];for(var o=Mh(a),s=0;s<o.length;s++){var u=o[s];a[u]=e(u,t||!!a[u].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:hh(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,Lh,{value:a,writable:!0}),i},S:function(e,n,i){i?$l(n)&&n[Lh].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[Lh];if(n){var i=n.t,a=n.k,o=n.D,s=n.i;if(4===s)Yl(a,(function(t){t!==Lh&&(void 0!==i[t]||Ql(i,t)?o[t]||e(a[t]):(o[t]=!0,Sh(n)))})),Yl(i,(function(e){void 0!==a[e]||Ql(a,e)||(o[e]=!1,Sh(n))}));else if(5===s){if(r(n)&&(Sh(n),o.length=!0),a.length<i.length)for(var u=a.length;u<i.length;u++)o[u]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),h=0;h<l;h++)a.hasOwnProperty(h)||(o[h]=!0),void 0===o[h]&&e(a[h])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}!function(e){!function(e){Ya=e}(pt),ct(new _e("database",(function(e,t){var n=t.instanceIdentifier;return ql(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),yt($a,Ja,e),yt($a,Ja,"esm2017")}();var Ih,Th,Fh="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Rh="undefined"!=typeof Map,Oh="undefined"!=typeof Set,Nh="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Dh=Fh?Symbol.for("immer-nothing"):((Ih={})["immer-nothing"]=!0,Ih),jh=Fh?Symbol.for("immer-draftable"):"__$immer_draftable",Lh=Fh?Symbol.for("immer-state"):"__$immer_state",Bh=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Mh="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Hh=Object.getOwnPropertyDescriptors||function(e){var t={};return Mh(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Vh={},Uh={get:function(e,t){if(t===Lh)return e;var n=ih(e);if(!Ql(n,t))return function(e,t,n){var r,i=_h(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!Jl(r)?r:r===xh(e.t,t)?(Eh(e),e.o[t]=kh(e.A.h,r,e)):r},has:function(e,t){return t in ih(e)},ownKeys:function(e){return Reflect.ownKeys(ih(e))},set:function(e,t,n){var r=_h(ih(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=xh(ih(e),t),a=null==i?void 0:i[Lh];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(th(n,i)&&(void 0!==n||Ql(e.t,t)))return!0;Eh(e),Sh(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==xh(e.t,t)||t in e.t?(e.D[t]=!1,Eh(e),Sh(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=ih(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){Gl(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Gl(12)}},qh={};Yl(Uh,(function(e,t){qh[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),qh.deleteProperty=function(e,t){return qh.set.call(this,e,t,void 0)},qh.set=function(e,t,n){return Uh.set.call(this,e[0],t,n,e[0])};var Kh=function(){function e(e){var t=this;this.g=Nh,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&Gl(6),void 0!==r&&"function"!=typeof r&&Gl(7),Jl(e)){var s=vh(t),u=kh(t,e,void 0),c=!0;try{o=n(u),c=!1}finally{c?dh(s):ph(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return fh(s,r),yh(e,s)}),(function(e){throw dh(s),e})):(fh(s,r),yh(o,s))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===Dh&&(o=void 0),t.F&&oh(o,!0),r){var l=[],h=[];ch("Patches").M(e,o,l,h),r(l,h)}return o}Gl(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){Jl(e)||Gl(8),$l(e)&&(e=Ch(e));var t=vh(this),n=kh(this,e,void 0);return n[Lh].C=!0,ph(t),n},t.finishDraft=function(e,t){var n=(e&&e[Lh]).A;return fh(n,t),yh(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!Nh&&Gl(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=ch("Patches").$;return $l(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),zh=new Kh,Wh=zh.produce,Gh=(zh.produceWithPatches.bind(zh),zh.setAutoFreeze.bind(zh),zh.setUseProxies.bind(zh),zh.applyPatches.bind(zh),zh.createDraft.bind(zh),zh.finishDraft.bind(zh),Wh);function $h(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Jh="function"===typeof Symbol&&Symbol.observable||"@@observable",Yh=function(){return Math.random().toString(36).substring(7).split("").join(".")},Xh={INIT:"@@redux/INIT"+Yh(),REPLACE:"@@redux/REPLACE"+Yh(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Yh()}};function Qh(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Zh(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error($h(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error($h(1));return n(Zh)(e,t)}if("function"!==typeof e)throw new Error($h(2));var i=e,a=t,o=[],s=o,u=!1;function c(){s===o&&(s=o.slice())}function l(){if(u)throw new Error($h(3));return a}function h(e){if("function"!==typeof e)throw new Error($h(4));if(u)throw new Error($h(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error($h(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),o=null}}}function f(e){if(!Qh(e))throw new Error($h(7));if("undefined"===typeof e.type)throw new Error($h(8));if(u)throw new Error($h(9));try{u=!0,a=i(a,e)}finally{u=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error($h(10));i=e,f({type:Xh.REPLACE})}function p(){var e,t=h;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error($h(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[Jh]=function(){return this},e}return f({type:Xh.INIT}),(r={dispatch:f,subscribe:h,getState:l,replaceReducer:d})[Jh]=p,r}function ef(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Xh.INIT}))throw new Error($h(12));if("undefined"===typeof n(void 0,{type:Xh.PROBE_UNKNOWN_ACTION()}))throw new Error($h(13))}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],c=n[u],l=e[u],h=c(l,t);if("undefined"===typeof h){t&&t.type;throw new Error($h(14))}i[u]=h,r=r||h!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function tf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function nf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error($h(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=tf.apply(void 0,a)(n.dispatch),De(De({},n),{},{dispatch:r})}}}function rf(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var af=rf();af.withExtraArgument=rf;var of=af,sf=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uf=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},cf=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},lf=Object.defineProperty,hf=Object.defineProperties,ff=Object.getOwnPropertyDescriptors,df=Object.getOwnPropertySymbols,pf=Object.prototype.hasOwnProperty,vf=Object.prototype.propertyIsEnumerable,gf=function(e,t,n){return t in e?lf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},yf=function(e,t){for(var n in t||(t={}))pf.call(t,n)&&gf(e,n,t[n]);if(df)for(var r=0,i=df(t);r<i.length;r++){n=i[r];vf.call(t,n)&&gf(e,n,t[n])}return e},mf=function(e,t){return hf(e,ff(t))},bf=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{s(n.next(e))}catch(t){i(t)}},o=function(e){try{s(n.throw(e))}catch(t){i(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};s((n=n.apply(e,t)).next())}))},wf="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?tf:tf.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function xf(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var _f=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return sf(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,cf([void 0],e[0].concat(this)))):new(t.bind.apply(t,cf([void 0],e.concat(this))))},t}(Array);function Sf(e){return Jl(e)?Gh(e,(function(){})):e}function Ef(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new _f);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(of.withExtraArgument(n.extraArgument)):r.push(of));0;return r}(e)}}function kf(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return yf(yf({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function Cf(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function Af(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:Sf(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},s={},u={};function c(){var t="function"===typeof e.extraReducers?Cf(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,u=t[2],c=void 0===u?void 0:u,l=yf(yf({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?Cf(t):[t,n,r],o=a[0],s=a[1],u=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return Sf(e())};else{var c=Sf(e);i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=cf([o[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[u]),n.reduce((function(e,n){if(n){var r;if($l(e))return void 0===(r=n(e,t))?e:r;if(Jl(e))return Gh(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,(function(e){for(var t in l)e.addCase(t,l[t]);for(var n=0,r=o;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return a.forEach((function(e){var n,r,a=i[e],c=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,s[c]=n,u[e]=r?kf(c,r):kf(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:u,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}var Pf=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},If=["name","message","stack","code"],Tf=function(e,t){this.payload=e,this.meta=t},Ff=function(e,t){this.payload=e,this.meta=t},Rf=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=If;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}},Of=function(){function e(e,t,n){var r=kf(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:mf(yf({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=kf(e+"/pending",(function(e,t,n){return{payload:void 0,meta:mf(yf({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=kf(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||Rf)(e||"Rejected"),meta:mf(yf({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(s,u,c){var l,h=(null==n?void 0:n.idGenerator)?n.idGenerator(e):Pf(),f=new o;function d(e){l=e,f.abort()}var p=function(){return bf(this,null,(function(){var o,p,v,g,y,m;return uf(this,(function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),g=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:u,extra:c}),null===(w=g)||"object"!==typeof w||"function"!==typeof w.then?[3,2]:[4,g];case 1:g=b.sent(),b.label=2;case 2:if(!1===g||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,y=new Promise((function(e,t){return f.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))})),s(i(h,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:h,arg:e},{getState:u,extra:c}))),[4,Promise.race([y,Promise.resolve(t(e,{dispatch:s,getState:u,extra:c,requestId:h,signal:f.signal,abort:d,rejectWithValue:function(e,t){return new Tf(e,t)},fulfillWithValue:function(e,t){return new Ff(e,t)}})).then((function(t){if(t instanceof Tf)throw t;return t instanceof Ff?r(t.payload,h,e,t.meta):r(t,h,e)}))])];case 3:return v=b.sent(),[3,5];case 4:return m=b.sent(),v=m instanceof Tf?a(null,h,e,m.payload,m.meta):a(m,h,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(v)&&v.meta.condition||s(v),[2,v]}var w}))}))}();return Object.assign(p,{abort:d,requestId:h,arg:e,unwrap:function(){return p.then(Nf)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}return e.withTypes=function(){return e},e}();function Nf(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var Df="listenerMiddleware";kf(Df+"/add"),kf(Df+"/removeAll"),kf(Df+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var jf,Lf=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Lf(10);Ph();var Bf=kf("REVERT_All"),Mf=Of("user/newLogin",function(){var e=u(o().mark((function e(t,n){var r,i,a,s,u,c,l,h,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,i=t.username,a=n.extra,s=a.apiClient,u=a.api,c=n.rejectWithValue,e.prev=2,e.next=5,s.patch(u.USER_LOGIN(r),{username:i});case 5:if("OK"===(l=e.sent).statusText){e.next=8;break}throw new Error("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a");case 8:return e.next=10,l;case 10:return h=e.sent,f=h.data,e.abrupt("return",f);case 15:return e.prev=15,e.t0=e.catch(2),e.abrupt("return",c(e.t0.message));case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t,n){return e.apply(this,arguments)}}()),Hf=Of("user/newPassword",function(){var e=u(o().mark((function e(t,n){var r,i,a,s,u,c,l,h,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,i=t.password,a=n.extra,s=a.apiClient,u=a.api,c=n.rejectWithValue,e.prev=2,e.next=5,s.patch(u.USER_LOGIN(r),{password:i});case 5:if("OK"===(l=e.sent).statusText){e.next=8;break}throw new Error("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a");case 8:return e.next=10,l;case 10:return h=e.sent,f=h.data,e.abrupt("return",f);case 15:return e.prev=15,e.t0=e.catch(2),e.abrupt("return",c(e.t0.message));case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t,n){return e.apply(this,arguments)}}()),Vf=Of("user/setUserPassword",function(){var e=u(o().mark((function e(t,n){var r,i,a,s,u,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.extra,i=r.apiClient,a=r.api,s=n.rejectWithValue,e.prev=1,e.next=4,i.get(a.USER_PASSWORD(t));case 4:if("OK"===(u=e.sent).statusText){e.next=7;break}throw new Error("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a");case 7:return e.next=9,u;case 9:return c=e.sent,l=c.data,e.abrupt("return",l);case 14:return e.prev=14,e.t0=e.catch(1),e.abrupt("return",s(e.t0.message));case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,n){return e.apply(this,arguments)}}()),Uf={login:null,password:null,email:null,token:null,id:null,loading:!1,error:null},qf=Af({name:"user",initialState:Uf,reducers:{setCurrentUser:function(e,t){e.login=t.payload.login,e.email=t.payload.email,e.token=t.payload.token,e.id=t.payload.id},setLogin:function(e,t){e.login=t.payload},setPassword:function(e,t){e.password=t.payload},setLoading:function(e,t){e.loading=t.payload},setError:function(e,t){e.error=t.payload}},extraReducers:function(e){e.addCase(Bf,(function(){return Uf})).addCase(Mf.pending,(function(e){e.loading=!0,e.error=null})).addCase(Mf.rejected,(function(e,t){e.loading=!1,e.error=t.payload})).addCase(Mf.fulfilled,(function(e,t){e.loading=!1,e.error=null,e.login=t.payload.username})).addCase(Hf.pending,(function(e){e.loading=!0,e.error=null})).addCase(Hf.rejected,(function(e,t){e.loading=!1,e.error=t.payload})).addCase(Hf.fulfilled,(function(e,t){e.loading=!1,e.error=null,e.password=t.payload.password})).addCase(Vf.pending,(function(e){e.loading=!0,e.error=null})).addCase(Vf.rejected,(function(e,t){e.loading=!1,e.error=t.payload})).addCase(Vf.fulfilled,(function(e,t){e.loading=!1,e.error=null,e.password=t.payload}))}}),Kf=qf.actions,zf=Kf.setCurrentUser,Wf=(Kf.setLogin,Kf.setPassword),Gf=Kf.setLoading,$f=Kf.setError,Jf=qf.reducer,Yf=function(e){return e.user},Xf=Of("courses/all",function(){var e=u(o().mark((function e(t,n){var r,i,a,s,u,c,l,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.extra,i=r.apiClient,a=r.api,s=n.rejectWithValue,e.prev=1,u={headers:{"Content-Type":"application/json"},skipAuth:!0},e.next=5,i.get(a.COURSES,u);case 5:if("OK"===(c=e.sent).statusText){e.next=8;break}throw new Error("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a");case 8:return e.next=10,c;case 10:return l=e.sent,h=l.data,e.abrupt("return",h);case 15:return e.prev=15,e.t0=e.catch(1),e.abrupt("return",s(e.t0.message));case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,n){return e.apply(this,arguments)}}()),Qf=Af({name:"courses",initialState:{status:"idle",error:null,list:[]},reducers:{},extraReducers:function(e){e.addCase(Xf.pending,(function(e){e.status="loading",e.error=null})).addCase(Xf.rejected,(function(e,t){e.status="rejected",e.error=t.payload})).addCase(Xf.fulfilled,(function(e,t){e.status="received",e.list=Object.values(t.payload)}))}}).reducer,Zf=function(e){return{status:e.courses.status,error:e.courses.error,qty:e.courses.list.length}},ed=function(e){return e.courses.list},td="NOT_FOUND";var nd=function(e,t){return e===t};function rd(e,t){var n="object"===typeof t?t:{equalityCheck:t},r=n.equalityCheck,i=void 0===r?nd:r,a=n.maxSize,o=void 0===a?1:a,s=n.resultEqualityCheck,u=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}}(i),c=1===o?function(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:td},put:function(e,n){t={key:e,value:n}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}(u):function(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var i=n[r];return r>0&&(n.splice(r,1),n.unshift(i)),i.value}return td}return{get:r,put:function(t,i){r(t)===td&&(n.unshift({key:t,value:i}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(o,u);function l(){var t=c.get(arguments);if(t===td){if(t=e.apply(null,arguments),s){var n=c.getEntries(),r=n.find((function(e){return s(e.value,t)}));r&&(t=r.value)}c.put(arguments,t)}return t}return l.clearCache=function(){return c.clear()},l}function id(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function ad(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var a,o=0,s={memoizeOptions:void 0},u=r.pop();if("object"===typeof u&&(s=u,u=r.pop()),"function"!==typeof u)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof u+"]");var c=s,l=c.memoizeOptions,h=void 0===l?n:l,f=Array.isArray(h)?h:[h],d=id(r),p=e.apply(void 0,[function(){return o++,u.apply(null,arguments)}].concat(f)),v=e((function(){for(var e=[],t=d.length,n=0;n<t;n++)e.push(d[n].apply(null,arguments));return a=p.apply(null,e)}));return Object.assign(v,{resultFunc:u,memoizedResultFunc:p,dependencies:d,lastResult:function(){return a},recomputations:function(){return o},resetRecomputations:function(){return o=0}}),v};return i}var od=ad(rd),sd=Of("workouts/all",function(){var e=u(o().mark((function e(t,n){var r,i,a,s,u,c,l,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.extra,i=r.apiClient,a=r.api,s=n.rejectWithValue,e.prev=1,u={headers:{"Content-Type":"application/json"},skipAuth:!0},e.next=5,i.get(a.WORKOUTS,u);case 5:if("OK"===(c=e.sent).statusText){e.next=8;break}throw new Error("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a");case 8:return e.next=10,c;case 10:return l=e.sent,h=l.data,e.abrupt("return",h);case 15:return e.prev=15,e.t0=e.catch(1),e.abrupt("return",s(e.t0.message));case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,n){return e.apply(this,arguments)}}()),ud=Af({name:"workouts",initialState:{status:"idle",error:null,list:{},currentId:""},reducers:{setCurrentId:function(e,t){e.currentId=t.payload}},extraReducers:function(e){e.addCase(sd.pending,(function(e){e.status="loading",e.error=null})).addCase(sd.rejected,(function(e,t){e.status="rejected",e.error=t.payload})).addCase(sd.fulfilled,(function(e,t){e.status="received",e.list=Object.values(t.payload)}))}}),cd=ud.reducer,ld=ud.actions.setCurrentId,hd=function(e){return e.workouts.list},fd=od([ed,function(e){return e.workouts.currentId},hd],(function(e,t,n){var r=null===e||void 0===e?void 0:e.filter((function(e){return e._id.includes(t)}));return n.filter((function(e){return r[0].workout.includes(e._id)}))})),dd=Of("profile/userCourses",function(){var e=u(o().mark((function e(t,n){var r,i,a,s,u,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.extra,i=r.apiClient,a=r.api,s=n.rejectWithValue,e.prev=1,e.next=4,i.get(a.USER_COURSES(t));case 4:if("OK"===(u=e.sent).statusText){e.next=7;break}throw new Error("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a");case 7:return e.next=9,u;case 9:return c=e.sent,l=c.data,e.abrupt("return",l);case 14:return e.prev=14,e.t0=e.catch(1),e.abrupt("return",s(e.t0.message));case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,n){return e.apply(this,arguments)}}()),pd=Of("profile/newCourse",function(){var e=u(o().mark((function e(t,n){var r,i,a,s,u,c,l,h,f,d,p,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,i=t.idCourse,a=t.name,s=t.pathName,u=t.workouts,c=n.extra,l=c.apiClient,h=c.api,f=n.rejectWithValue,e.prev=2,e.next=5,l.post(h.ADD_COURSE(r),{_id:i,name:a,pathName:s,workouts:u});case 5:if("OK"===(d=e.sent).statusText){e.next=8;break}throw new Error("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a");case 8:return e.next=10,d;case 10:return p=e.sent,v=p.data,e.abrupt("return",v);case 15:return e.prev=15,e.t0=e.catch(2),e.abrupt("return",f(e.t0.message));case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t,n){return e.apply(this,arguments)}}()),vd={status:"idle",error:null,list:[]},gd=Af({name:"profile",initialState:vd,reducers:{},extraReducers:function(e){e.addCase(Bf,(function(){return vd})).addCase(dd.pending,(function(e){e.status="loading",e.error=null})).addCase(dd.rejected,(function(e,t){e.status="rejected",e.error=t.payload})).addCase(dd.fulfilled,(function(e,t){e.status="received",e.list=t.payload}))}}),yd=gd.actions,md=(yd.setCurrentUser,yd.setLogin,yd.setPassword,yd.setLoading,yd.setError,gd.reducer),bd=function(e){return{status:e.profile.status,error:e.profile.error}},wd=function(e){return e.profile.list},xd="".concat("https://sky-fitness-pro-default-rtdb.europe-west1.firebasedatabase.app"),_d="/courses.json?print=pretty",Sd="/workouts.json?print=pretty",Ed=function(e){return"/users/".concat(e,".json?print=pretty")},kd=function(e){return"/users/".concat(e,"/password.json?print=pretty")},Cd=function(e){return"/users/".concat(e,"/courses.json?print=pretty")},Ad=function(e){return"/users/".concat(e,"/courses.json?print=pretty")};function Pd(e,t){return function(){return e.apply(t,arguments)}}var Id,Td=Object.prototype.toString,Fd=Object.getPrototypeOf,Rd=(Id=Object.create(null),function(e){var t=Td.call(e);return Id[t]||(Id[t]=t.slice(8,-1).toLowerCase())}),Od=function(e){return e=e.toLowerCase(),function(t){return Rd(t)===e}},Nd=function(e){return function(t){return typeof t===e}},Dd=Array.isArray,jd=Nd("undefined");var Ld=Od("ArrayBuffer");var Bd=Nd("string"),Md=Nd("function"),Hd=Nd("number"),Vd=function(e){return null!==e&&"object"===typeof e},Ud=function(e){if("object"!==Rd(e))return!1;var t=Fd(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},qd=Od("Date"),Kd=Od("File"),zd=Od("Blob"),Wd=Od("FileList"),Gd=Od("URLSearchParams");function $d(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.allOwnKeys,o=void 0!==a&&a;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Dd(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var s,u=o?Object.getOwnPropertyNames(e):Object.keys(e),c=u.length;for(n=0;n<c;n++)s=u[n],t.call(null,e[s],s,e)}}function Jd(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var Yd="undefined"===typeof self?"undefined"===typeof global?void 0:global:self,Xd=function(e){return!jd(e)&&e!==Yd};var Qd,Zd=(Qd="undefined"!==typeof Uint8Array&&Fd(Uint8Array),function(e){return Qd&&e instanceof Qd}),ep=Od("HTMLFormElement"),tp=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),np=Od("RegExp"),rp=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};$d(n,(function(n,i){!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},ip={isArray:Dd,isArrayBuffer:Ld,isBuffer:function(e){return null!==e&&!jd(e)&&null!==e.constructor&&!jd(e.constructor)&&Md(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||Td.call(e)===t||Md(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ld(e.buffer)},isString:Bd,isNumber:Hd,isBoolean:function(e){return!0===e||!1===e},isObject:Vd,isPlainObject:Ud,isUndefined:jd,isDate:qd,isFile:Kd,isBlob:zd,isRegExp:np,isFunction:Md,isStream:function(e){return Vd(e)&&Md(e.pipe)},isURLSearchParams:Gd,isTypedArray:Zd,isFileList:Wd,forEach:$d,merge:function e(){for(var t=Xd(this)&&this||{},n=t.caseless,r={},i=function(t,i){var a=n&&Jd(r,i)||i;Ud(r[a])&&Ud(t)?r[a]=e(r[a],t):Ud(t)?r[a]=e({},t):Dd(t)?r[a]=t.slice():r[a]=t},a=0,o=arguments.length;a<o;a++)arguments[a]&&$d(arguments[a],i);return r},extend:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.allOwnKeys;return $d(t,(function(t,r){n&&Md(t)?e[r]=Pd(t,n):e[r]=t}),{allOwnKeys:i}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,s={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==n&&Fd(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Rd,kindOfTest:Od,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(Dd(e))return e;var t=e.length;if(!Hd(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:ep,hasOwnProperty:tp,hasOwnProp:tp,reduceDescriptors:rp,freezeMethods:function(e){rp(e,(function(t,n){if(Md(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];Md(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return Dd(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:Jd,global:Yd,isContextDefined:Xd,toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(Vd(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=Dd(n)?[]:{};return $d(n,(function(t,n){var a=e(t,r+1);!jd(a)&&(i[n]=a)})),t[r]=void 0,i}}return n}(e,0)}};function ap(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}ip.inherits(ap,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ip.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var op=ap.prototype,sp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){sp[e]={value:e}})),Object.defineProperties(ap,sp),Object.defineProperty(op,"isAxiosError",{value:!0}),ap.from=function(e,t,n,r,i,a){var o=Object.create(op);return ip.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),ap.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var up=ap,cp=n(472);function lp(e){return ip.isPlainObject(e)||ip.isArray(e)}function hp(e){return ip.endsWith(e,"[]")?e.slice(0,-2):e}function fp(e,t,n){return e?e.concat(t).map((function(e,t){return e=hp(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var dp=ip.toFlatObject(ip,{},null,(function(e){return/^is[A-Z]/.test(e)}));var pp=function(e,t,n){if(!ip.isObject(e))throw new TypeError("target must be an object");t=t||new(cp||FormData);var r,i=(n=ip.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!ip.isUndefined(t[e])}))).metaTokens,a=n.visitor||l,o=n.dots,s=n.indexes,u=(n.Blob||"undefined"!==typeof Blob&&Blob)&&((r=t)&&ip.isFunction(r.append)&&"FormData"===r[Symbol.toStringTag]&&r[Symbol.iterator]);if(!ip.isFunction(a))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(ip.isDate(e))return e.toISOString();if(!u&&ip.isBlob(e))throw new up("Blob is not supported. Use a Buffer instead.");return ip.isArrayBuffer(e)||ip.isTypedArray(e)?u&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,r){var a=e;if(e&&!r&&"object"===typeof e)if(ip.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else if(ip.isArray(e)&&function(e){return ip.isArray(e)&&!e.some(lp)}(e)||ip.isFileList(e)||ip.endsWith(n,"[]")&&(a=ip.toArray(e)))return n=hp(n),a.forEach((function(e,r){!ip.isUndefined(e)&&null!==e&&t.append(!0===s?fp([n],r,o):null===s?n:n+"[]",c(e))})),!1;return!!lp(e)||(t.append(fp(r,n,o),c(e)),!1)}var h=[],f=Object.assign(dp,{defaultVisitor:l,convertValue:c,isVisitable:lp});if(!ip.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!ip.isUndefined(n)){if(-1!==h.indexOf(n))throw Error("Circular reference detected in "+r.join("."));h.push(n),ip.forEach(n,(function(n,i){!0===(!(ip.isUndefined(n)||null===n)&&a.call(t,n,ip.isString(i)?i.trim():i,r,f))&&e(n,r?r.concat(i):[i])})),h.pop()}}(e),t};function vp(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function gp(e,t){this._pairs=[],e&&pp(e,this,t)}var yp=gp.prototype;yp.append=function(e,t){this._pairs.push([e,t])},yp.toString=function(e){var t=e?function(t){return e.call(this,t,vp)}:vp;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var mp=gp;function bp(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function wp(e,t,n){if(!t)return e;var r,i=n&&n.encode||bp,a=n&&n.serialize;if(r=a?a(t,n):ip.isURLSearchParams(t)?t.toString():new mp(t,n).toString(i)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var xp=function(){function e(){_(this,e),this.handlers=[]}return k(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){ip.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),_p=xp,Sp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ep="undefined"!==typeof URLSearchParams?URLSearchParams:mp,kp=FormData,Cp=function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),Ap={isBrowser:!0,classes:{URLSearchParams:Ep,FormData:kp,Blob:Blob},isStandardBrowserEnv:Cp,protocols:["http","https","file","blob","url","data"]};var Pp=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),s=i>=e.length;return a=!a&&ip.isArray(r)?r.length:a,s?(ip.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&ip.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&ip.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(ip.isFormData(e)&&ip.isFunction(e.entries)){var n={};return ip.forEachEntry(e,(function(e,r){t(function(e){return ip.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null},Ip={"Content-Type":void 0};var Tp={transitional:Sp,adapter:["xhr","http"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=ip.isObject(e);if(a&&ip.isHTMLForm(e)&&(e=new FormData(e)),ip.isFormData(e))return i&&i?JSON.stringify(Pp(e)):e;if(ip.isArrayBuffer(e)||ip.isBuffer(e)||ip.isStream(e)||ip.isFile(e)||ip.isBlob(e))return e;if(ip.isArrayBufferView(e))return e.buffer;if(ip.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return pp(e,new Ap.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Ap.isNode&&ip.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=ip.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return pp(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(ip.isString(e))try{return(t||JSON.parse)(e),ip.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||Tp.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&ip.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw up.from(a,up.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ap.classes.FormData,Blob:Ap.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ip.forEach(["delete","get","head"],(function(e){Tp.headers[e]={}})),ip.forEach(["post","put","patch"],(function(e){Tp.headers[e]=ip.merge(Ip)}));var Fp=Tp,Rp=ip.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Op=Symbol("internals");function Np(e){return e&&String(e).trim().toLowerCase()}function Dp(e){return!1===e||null==e?e:ip.isArray(e)?e.map(Dp):String(e)}function jp(e,t,n,r){return ip.isFunction(r)?r.call(this,t,n):ip.isString(t)?ip.isString(r)?-1!==t.indexOf(r):ip.isRegExp(r)?r.test(t):void 0:void 0}var Lp=function(e,t){function n(e){_(this,n),e&&this.set(e)}return k(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=Np(t);if(!i)throw new Error("header name must be a non-empty string");var a=ip.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=Dp(e))}var a=function(e,t){return ip.forEach(e,(function(e,n){return i(e,n,t)}))};return ip.isPlainObject(e)||e instanceof this.constructor?a(e,t):ip.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z]+$/.test(e.trim())?a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&Rp[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=Np(e)){var n=ip.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(ip.isFunction(t))return t.call(this,r,n);if(ip.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=Np(e)){var n=ip.findKey(this,e);return!(!n||t&&!jp(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=Np(e)){var i=ip.findKey(n,e);!i||t&&!jp(0,n[i],i,t)||(delete n[i],r=!0)}}return ip.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(){return Object.keys(this).forEach(this.delete.bind(this))}},{key:"normalize",value:function(e){var t=this,n={};return ip.forEach(this,(function(r,i){var a=ip.findKey(n,i);if(a)return t[a]=Dp(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=Dp(r),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return ip.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&ip.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=x(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[Op]=this[Op]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=Np(e);t[r]||(!function(e,t){var n=ip.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return ip.isArray(e)?e.forEach(r):r(e),this}}]),n}();Lp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),ip.freezeMethods(Lp.prototype),ip.freezeMethods(Lp);var Bp=Lp;function Mp(e,t){var n=this||Fp,r=t||n,i=Bp.from(r.headers),a=r.data;return ip.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function Hp(e){return!(!e||!e.__CANCEL__)}function Vp(e,t,n){up.call(this,null==e?"canceled":e,up.ERR_CANCELED,t,n),this.name="CanceledError"}ip.inherits(Vp,up,{__CANCEL__:!0});var Up=Vp;var qp=Ap.isStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[];o.push(e+"="+encodeURIComponent(t)),ip.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),ip.isString(r)&&o.push("path="+r),ip.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function Kp(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var zp=Ap.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=ip.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var Wp=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(s){var u=Date.now(),c=i[o];n||(n=u),r[a]=s,i[a]=u;for(var l=o,h=0;l!==a;)h+=r[l++],l%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(u-n<t)){var f=c&&u-c;return f?Math.round(1e3*h/f):void 0}}};function Gp(e,t){var n=0,r=Wp(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,s=a-n,u=r(s);n=a;var c={loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:u||void 0,estimated:u&&o&&a<=o?(o-a)/u:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}var $p="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i=e.data,a=Bp.from(e.headers).normalize(),o=e.responseType;function s(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}ip.isFormData(i)&&Ap.isStandardBrowserEnv&&a.setContentType(!1);var u=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(c+":"+l))}var h=Kp(e.baseURL,e.url);function f(){if(u){var r=Bp.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new up("Request failed with status code "+n.status,[up.ERR_BAD_REQUEST,up.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),s()}),(function(e){n(e),s()}),{data:o&&"text"!==o&&"json"!==o?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}}if(u.open(e.method.toUpperCase(),wp(h,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=f:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(f)},u.onabort=function(){u&&(n(new up("Request aborted",up.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new up("Network Error",up.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||Sp;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new up(t,r.clarifyTimeoutError?up.ETIMEDOUT:up.ECONNABORTED,e,u)),u=null},Ap.isStandardBrowserEnv){var d=(e.withCredentials||zp(h))&&e.xsrfCookieName&&qp.read(e.xsrfCookieName);d&&a.set(e.xsrfHeaderName,d)}void 0===i&&a.setContentType(null),"setRequestHeader"in u&&ip.forEach(a.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),ip.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),o&&"json"!==o&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",Gp(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",Gp(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){u&&(n(!t||t.type?new Up(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var p=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(h);p&&-1===Ap.protocols.indexOf(p)?n(new up("Unsupported protocol "+p+":",up.ERR_BAD_REQUEST,e)):u.send(i||null)}))},Jp={http:null,xhr:$p};ip.forEach(Jp,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var Yp=function(e){for(var t,n,r=(e=ip.isArray(e)?e:[e]).length,i=0;i<r&&(t=e[i],!(n=ip.isString(t)?Jp[t.toLowerCase()]:t));i++);if(!n){if(!1===n)throw new up("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(ip.hasOwnProp(Jp,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!ip.isFunction(n))throw new TypeError("adapter is not a function");return n};function Xp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Up}function Qp(e){return Xp(e),e.headers=Bp.from(e.headers),e.data=Mp.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Yp(e.adapter||Fp.adapter)(e).then((function(t){return Xp(e),t.data=Mp.call(e,e.transformResponse,t),t.headers=Bp.from(t.headers),t}),(function(t){return Hp(t)||(Xp(e),t&&t.response&&(t.response.data=Mp.call(e,e.transformResponse,t.response),t.response.headers=Bp.from(t.response.headers))),Promise.reject(t)}))}var Zp=function(e){return e instanceof Bp?e.toJSON():e};function ev(e,t){t=t||{};var n={};function r(e,t,n){return ip.isPlainObject(e)&&ip.isPlainObject(t)?ip.merge.call({caseless:n},e,t):ip.isPlainObject(t)?ip.merge({},t):ip.isArray(t)?t.slice():t}function i(e,t,n){return ip.isUndefined(t)?ip.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!ip.isUndefined(t))return r(void 0,t)}function o(e,t){return ip.isUndefined(t)?ip.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var u={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:function(e,t){return i(Zp(e),Zp(t),!0)}};return ip.forEach(Object.keys(e).concat(Object.keys(t)),(function(r){var a=u[r]||i,o=a(e[r],t[r],r);ip.isUndefined(o)&&a!==s||(n[r]=o)})),n}var tv="1.2.0",nv={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){nv[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var rv={};nv.transitional=function(e,t,n){function r(e,t){return"[Axios v1.2.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new up(r(i," has been removed"+(t?" in "+t:"")),up.ERR_DEPRECATED);return t&&!rv[i]&&(rv[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var iv={assertOptions:function(e,t,n){if("object"!==typeof e)throw new up("options must be an object",up.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var s=e[a],u=void 0===s||o(s,a,e);if(!0!==u)throw new up("option "+a+" must be "+u,up.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new up("Unknown option "+a,up.ERR_BAD_OPTION)}},validators:nv},av=iv.validators,ov=function(){function e(t){_(this,e),this.defaults=t,this.interceptors={request:new _p,response:new _p}}return k(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n,r=t=ev(this.defaults,t),i=r.transitional,a=r.paramsSerializer,o=r.headers;void 0!==i&&iv.assertOptions(i,{silentJSONParsing:av.transitional(av.boolean),forcedJSONParsing:av.transitional(av.boolean),clarifyTimeoutError:av.transitional(av.boolean)},!1),void 0!==a&&iv.assertOptions(a,{encode:av.function,serialize:av.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase(),(n=o&&ip.merge(o.common,o[t.method]))&&ip.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete o[e]})),t.headers=Bp.concat(n,o);var s=[],u=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(u=u&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));var c,l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));var h,f=0;if(!u){var d=[Qp.bind(this),void 0];for(d.unshift.apply(d,s),d.push.apply(d,l),h=d.length,c=Promise.resolve(t);f<h;)c=c.then(d[f++],d[f++]);return c}h=s.length;var p=t;for(f=0;f<h;){var v=s[f++],g=s[f++];try{p=v(p)}catch(ho){g.call(this,ho);break}}try{c=Qp.call(this,p)}catch(ho){return Promise.reject(ho)}for(f=0,h=l.length;f<h;)c=c.then(l[f++],l[f++]);return c}},{key:"getUri",value:function(e){return wp(Kp((e=ev(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();ip.forEach(["delete","get","head","options"],(function(e){ov.prototype[e]=function(t,n){return this.request(ev(n||{},{method:e,url:t,data:(n||{}).data}))}})),ip.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(ev(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}ov.prototype[e]=t(),ov.prototype[e+"Form"]=t(!0)}));var sv=ov,uv=function(){function e(t){if(_(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new Up(e,t,i),n(r.reason))}))}return k(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t,n=new e((function(e){t=e}));return{token:n,cancel:t}}}]),e}(),cv=uv;var lv=function e(t){var n=new sv(t),r=Pd(sv.prototype.request,n);return ip.extend(r,sv.prototype,n,{allOwnKeys:!0}),ip.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(ev(t,n))},r}(Fp);lv.Axios=sv,lv.CanceledError=Up,lv.CancelToken=cv,lv.isCancel=Hp,lv.VERSION=tv,lv.toFormData=pp,lv.AxiosError=up,lv.Cancel=lv.CanceledError,lv.all=function(e){return Promise.all(e)},lv.spread=function(e){return function(t){return e.apply(null,t)}},lv.isAxiosError=function(e){return ip.isObject(e)&&!0===e.isAxiosError},lv.AxiosHeaders=Bp,lv.formToJSON=function(e){return Pp(ip.isHTMLForm(e)?new FormData(e):e)},lv.default=lv;var hv=lv,fv=n(313),dv=hv.create({baseURL:xd,validateStatus:function(e){return e<500}}),pv=null;function vv(){return gv.apply(this,arguments)}function gv(){return(gv=u(o().mark((function e(){var t,n,r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=mv.getState().user,n=t.token,r=fv.fs.jws.JWS.parse(n),i=r.payloadObj.exp,a=i,!(Math.floor(.001*Date.now())>=a)){e.next=14;break}return console.log("\u0438\u0434\u0443 \u0437\u0430 \u043d\u043e\u0432\u044b\u043c \u0442\u043e\u043a\u0435\u043d\u043e\u043c"),null===pv&&(pv=Ga.currentUser.getIdToken()),e.next=10,pv;case 10:s=e.sent,n=s,console.log(n),pv=null;case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}dv.interceptors.request.use(function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.skipAuth){e.next=2;break}return e.abrupt("return",t);case 2:return e.next=4,vv();case 4:return n=e.sent,console.log(n),e.abrupt("return",De(De({},t),{},{url:"".concat(t.url,"&auth=").concat(n)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),dv.interceptors.response.use((function(e){var t=e.data.errors;return 401===e.status?(console.log("401"),mv.dispatch(Bf())):t&&console.log("\u043e\u0448\u0438\u0431\u043a\u0438",t),e}),(function(e){return Promise.reject(e)}));var yv,mv=function(e){var t,n=Ef(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,s=void 0===o?n():o,u=r.devTools,c=void 0===u||u,l=r.preloadedState,h=void 0===l?void 0:l,f=r.enhancers,d=void 0===f?void 0:f;if("function"===typeof a)t=a;else{if(!xf(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=ef(a)}var p=s;"function"===typeof p&&(p=p(n));var v=nf.apply(void 0,p),g=tf;c&&(g=wf(yf({trace:!1},"object"===typeof c&&c)));var y=[v];return Array.isArray(d)?y=cf([v],d):"function"===typeof d&&(y=d(y)),Zh(t,h,g.apply(void 0,y))}({reducer:{user:Jf,courses:Qf,workouts:cd,profile:md},middleware:function(t){return t({thunk:{extraArgument:{apiClient:dv,api:e}}})}}),bv=n(184),wv=(0,t.createContext)(),xv=function(){return(0,t.useContext)(wv)},_v=function(e){var n=e.children,r=function(){var e=u(o().mark((function e(t,n,r,i){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ml(Ll(zl(),"users/"+t),{username:n,email:r,password:i});case 2:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),i=function(){var e=u(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ir.credential(t,n);case 2:return r=e.sent,e.next=5,Yr(Ga.currentUser,r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){!function(e,t,n,r){xe(e).onAuthStateChanged(t,n,r)}(Ga,(function(e){null!==e?null!==e.displayName&&mv.dispatch(zf({login:e.displayName,email:e.email,token:e.accessToken,id:e.uid})):(console.log("no user"),mv.dispatch(Bf()))}))}),[]);var a={writeUserData:r,reauthenticate:i,token:function(){return Ga.currentUser.getIdToken()},login:function(e,t){return function(e,t,n){return $r(xe(e),Ir.credential(t,n))}(Ga,e,t)},signup:function(e,t){return function(e,t,n){return Qr.apply(this,arguments)}(Ga,e,t)},updateUserPassword:function(e){return function(e,t){return ni(xe(e),null,t)}(Ga.currentUser,e)},updateUserName:function(e){return function(e,t){return ti.apply(this,arguments)}(Ga.currentUser,{displayName:e})},logout:function(){return function(e){return xe(e).signOut()}(Ga)}};return(0,bv.jsx)(wv.Provider,{value:a,children:n})};function Sv(){return Sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sv.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(yv||(yv={}));var Ev,kv="popstate";function Cv(e){return{usr:e.state,key:e.key}}function Av(e,t,n,r){return void 0===n&&(n=null),Sv({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?Iv(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function Pv(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function Iv(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Tv(e){var t="undefined"!==typeof window&&"undefined"!==typeof window.location&&"null"!==window.location.origin?window.location.origin:"unknown://unknown",n="string"===typeof e?e:Pv(e);return new URL(n,t)}function Fv(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,s=i.v5Compat,u=void 0!==s&&s,c=o.history,l=yv.Pop,h=null;function f(){l=yv.Pop,h&&h({action:l,location:d.location})}var d={get action(){return l},get location(){return e(o,c)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(kv,f),h=e,function(){o.removeEventListener(kv,f),h=null}},createHref:function(e){return t(o,e)},encodeLocation:function(e){var t=Tv(Pv(e));return Sv({},e,{pathname:t.pathname,search:t.search,hash:t.hash})},push:function(e,t){l=yv.Push;var r=Av(d.location,e,t);n&&n(r,e);var i=Cv(r),a=d.createHref(r);try{c.pushState(i,"",a)}catch(ho){o.location.assign(a)}u&&h&&h({action:l,location:d.location})},replace:function(e,t){l=yv.Replace;var r=Av(d.location,e,t);n&&n(r,e);var i=Cv(r),a=d.createHref(r);c.replaceState(i,"",a),u&&h&&h({action:l,location:d.location})},go:function(e){return c.go(e)}};return d}function Rv(e,t,n){void 0===n&&(n="/");var r=Hv(("string"===typeof t?Iv(t):t).pathname||"/",n);if(null==r)return null;var i=Ov(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Lv(i[o],Mv(r));return a}function Ov(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(Vv(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));var o=Wv([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(Vv(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),Ov(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:jv(o,e.index),routesMeta:s})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(Ev||(Ev={}));var Nv=/^:\w+$/,Dv=function(e){return"*"===e};function jv(e,t){var n=e.split("/"),r=n.length;return n.some(Dv)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!Dv(e)})).reduce((function(e,t){return e+(Nv.test(t)?3:""===t?1:10)}),r)}function Lv(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=Bv({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var h=s.route;a.push({params:r,pathname:Wv([i,l.pathname]),pathnameBase:Gv(Wv([i,l.pathnameBase])),route:h}),"/"!==l.pathnameBase&&(i=Wv([i,l.pathnameBase]))}return a}function Bv(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);Uv("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=x(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1),l=a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(ho){return Uv(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+ho+")."),e}}(c[n]||"",t),e}),{});return{params:l,pathname:s,pathnameBase:u,pattern:e}}function Mv(e){try{return decodeURI(e)}catch(ho){return Uv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+ho+")."),e}}function Hv(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Vv(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function Uv(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function qv(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Kv(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function zv(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=Iv(e):(Vv(!(i=Sv({},e)).pathname||!i.pathname.includes("?"),qv("?","pathname","search",i)),Vv(!i.pathname||!i.pathname.includes("#"),qv("#","pathname","hash",i)),Vv(!i.search||!i.search.includes("#"),qv("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?Iv(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:$v(a),hash:Jv(s)}}(i,a),h=s&&"/"!==s&&s.endsWith("/"),f=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!h&&!f||(l.pathname+="/"),l}var Wv=function(e){return e.join("/").replace(/\/\/+/g,"/")},Gv=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},$v=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},Jv=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},Yv=function(e){p(n,e);var t=y(n);function n(){return _(this,n),t.apply(this,arguments)}return k(n)}(I(Error));var Xv=k((function e(t,n,r){_(this,e),this.status=t,this.statusText=n||"",this.data=r}));function Qv(e){return e instanceof Xv}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var Zv=new Set(["POST","PUT","PATCH","DELETE"]);new Set(["GET","HEAD"].concat(C(Zv)));function eg(){return eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eg.apply(this,arguments)}var tg="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ng=t.useState,rg=t.useEffect,ig=t.useLayoutEffect,ag=t.useDebugValue;function og(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!tg(n,r)}catch(ho){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;var sg=t.createContext(null);var ug=t.createContext(null);var cg=t.createContext(null);var lg=t.createContext(null);var hg=t.createContext(null);var fg=t.createContext(null);var dg=t.createContext({outlet:null,matches:[]});var pg=t.createContext(null);function vg(){return null!=t.useContext(fg)}function gg(){return vg()||Vv(!1),t.useContext(fg).location}function yg(){vg()||Vv(!1);var e=t.useContext(hg),n=e.basename,r=e.navigator,i=t.useContext(dg).matches,a=gg().pathname,o=JSON.stringify(Kv(i).map((function(e){return e.pathnameBase}))),s=t.useRef(!1);return t.useEffect((function(){s.current=!0})),t.useCallback((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=zv(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:Wv([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a])}function mg(){var e=t.useContext(dg).matches,n=e[e.length-1];return n?n.params:{}}function bg(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(dg).matches,a=gg().pathname,o=JSON.stringify(Kv(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return zv(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function wg(){var e=function(){var e,n=t.useContext(pg),r=Cg(_g.UseRouteError),i=t.useContext(dg),a=i.matches[i.matches.length-1];if(n)return n;return i||Vv(!1),!a.route.id&&Vv(!1),null==(e=r.errors)?void 0:e[a.route.id]}(),n=Qv(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unhandled Thrown Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",t.createElement("code",{style:o},"errorElement")," props on\xa0",t.createElement("code",{style:o},"<Route>")))}var xg,_g,Sg=function(e){p(r,e);var n=y(r);function r(e){var t;return _(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return k(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(pg.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function Eg(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(sg);return a&&r.route.errorElement&&(a._deepestRenderedBoundaryId=r.route.id),t.createElement(dg.Provider,{value:n},i)}function kg(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||Vv(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,s){var u=o.route.id?null==a?void 0:a[o.route.id]:null,c=r?o.route.errorElement||t.createElement(wg,null):null,l=function(){return t.createElement(Eg,{match:o,routeContext:{outlet:e,matches:n.concat(i.slice(0,s+1))}},u?c:void 0!==o.route.element?o.route.element:e)};return r&&(o.route.errorElement||0===s)?t.createElement(Sg,{location:r.location,component:c,error:u,children:l()}):l()}),null)}function Cg(e){var n=t.useContext(cg);return n||Vv(!1),n}!function(e){e.UseRevalidator="useRevalidator"}(xg||(xg={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(_g||(_g={}));var Ag;function Pg(e){Vv(!1)}function Ig(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,s=e.navigationType,u=void 0===s?yv.Pop:s,c=e.navigator,l=e.static,h=void 0!==l&&l;vg()&&Vv(!1);var f=r.replace(/^\/*/,"/"),d=t.useMemo((function(){return{basename:f,navigator:c,static:h}}),[f,c,h]);"string"===typeof o&&(o=Iv(o));var p=o,v=p.pathname,g=void 0===v?"/":v,y=p.search,m=void 0===y?"":y,b=p.hash,w=void 0===b?"":b,x=p.state,_=void 0===x?null:x,S=p.key,E=void 0===S?"default":S,k=t.useMemo((function(){var e=Hv(g,f);return null==e?null:{pathname:e,search:m,hash:w,state:_,key:E}}),[f,g,m,w,_,E]);return null==k?null:t.createElement(hg.Provider,{value:d},t.createElement(fg.Provider,{children:a,value:{location:k,navigationType:u}}))}function Tg(e){var n=e.children,r=e.location,i=t.useContext(ug);return function(e,n){vg()||Vv(!1);var r,i=t.useContext(cg),a=t.useContext(dg).matches,o=a[a.length-1],s=o?o.params:{},u=(o&&o.pathname,o?o.pathnameBase:"/"),c=(o&&o.route,gg());if(n){var l,h="string"===typeof n?Iv(n):n;"/"===u||(null==(l=h.pathname)?void 0:l.startsWith(u))||Vv(!1),r=h}else r=c;var f=r.pathname||"/",d=Rv(e,{pathname:"/"===u?f:f.slice(u.length)||"/"}),p=kg(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:Wv([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:Wv([u,e.pathnameBase])})})),a,i||void 0);return n&&p?t.createElement(fg.Provider,{value:{location:eg({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:yv.Pop}},p):p}(i&&!n?i.router.routes:Rg(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Ag||(Ag={}));var Fg=new Promise((function(){}));t.Component;function Rg(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e))if(e.type!==t.Fragment){e.type!==Pg&&Vv(!1),e.props.index&&e.props.children&&Vv(!1);var a=[].concat(C(n),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=Rg(e.props.children,a)),r.push(o)}else r.push.apply(r,Rg(e.props.children,n))})),r}function Og(){return Og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Og.apply(this,arguments)}function Ng(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Dg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],jg=["aria-current","caseSensitive","className","end","style","to","children"];function Lg(e){var n,r=e.basename,i=e.children,a=e.window,o=t.useRef();null==o.current&&(o.current=(void 0===(n={window:a,v5Compat:!0})&&(n={}),Fv((function(e,t){var n=e.location;return Av("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:Pv(t)}),null,n)));var s=o.current,u=x(t.useState({action:s.action,location:s.location}),2),c=u[0],l=u[1];return t.useLayoutEffect((function(){return s.listen(l)}),[s]),t.createElement(Ig,{basename:r,children:i,location:c.location,navigationType:c.action,navigator:s})}var Bg=t.forwardRef((function(e,n){var r=e.onClick,i=e.relative,a=e.reloadDocument,o=e.replace,s=e.state,u=e.target,c=e.to,l=e.preventScrollReset,h=Ng(e,Dg),f=function(e,n){var r=(void 0===n?{}:n).relative;vg()||Vv(!1);var i=t.useContext(hg),a=i.basename,o=i.navigator,s=bg(e,{relative:r}),u=s.hash,c=s.pathname,l=s.search,h=c;return"/"!==a&&(h="/"===c?a:Wv([a,c])),o.createHref({pathname:h,search:l,hash:u})}(c,{relative:i}),d=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,u=r.relative,c=yg(),l=gg(),h=bg(e,{relative:u});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:Pv(l)===Pv(h);c(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[l,c,h,a,o,i,e,s,u])}(c,{replace:o,state:s,target:u,preventScrollReset:l,relative:i});return t.createElement("a",Og({},h,{href:f,onClick:a?r:function(e){r&&r(e),e.defaultPrevented||d(e)},ref:n,target:u}))}));var Mg=t.forwardRef((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.caseSensitive,o=void 0!==a&&a,s=e.className,u=void 0===s?"":s,c=e.end,l=void 0!==c&&c,h=e.style,f=e.to,d=e.children,p=Ng(e,jg),v=bg(f,{relative:p.relative}),g=gg(),y=t.useContext(cg),m=v.pathname,b=g.pathname,w=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;o||(b=b.toLowerCase(),w=w?w.toLowerCase():null,m=m.toLowerCase());var x,_=b===m||!l&&b.startsWith(m)&&"/"===b.charAt(m.length),S=null!=w&&(w===m||!l&&w.startsWith(m)&&"/"===w.charAt(m.length)),E=_?i:void 0;x="function"===typeof u?u({isActive:_,isPending:S}):[u,_?"active":null,S?"pending":null].filter(Boolean).join(" ");var k="function"===typeof h?h({isActive:_,isPending:S}):h;return t.createElement(Bg,Og({},p,{"aria-current":E,className:x,ref:n,style:k,to:f}),"function"===typeof d?d({isActive:_,isPending:S}):d)}));var Hg,Vg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Hg||(Hg={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Vg||(Vg={}));var Ug=n(248),qg=n(327),Kg=n(164);var zg=function(e){e()},Wg=function(){return zg},Gg=(0,t.createContext)(null);function $g(){return(0,t.useContext)(Gg)}var Jg=function(){throw new Error("uSES not initialized!")},Yg=Jg,Xg=function(e,t){return e===t};function Qg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gg,n=e===Gg?$g:function(){return(0,t.useContext)(e)};return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xg;var i=n(),a=i.store,o=i.subscription,s=i.getServerState,u=Yg(o.addNestedSub,a.getState,s||a.getState,e,r);return(0,t.useDebugValue)(u),u}}var Zg=Qg();n(110),n(900);var ey={notify:function(){},get:function(){return[]}};function ty(e,t){var n,r=ey;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=Wg(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=ey)},getListeners:function(){return r}};return o}var ny=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;var ry=function(e){var n=e.store,r=e.context,i=e.children,a=e.serverState,o=(0,t.useMemo)((function(){var e=ty(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),s=(0,t.useMemo)((function(){return n.getState()}),[n]);ny((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,s]);var u=r||Gg;return t.createElement(u.Provider,{value:o},i)};function iy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gg,n=e===Gg?$g:function(){return(0,t.useContext)(e)};return function(){return n().store}}var ay=iy();function oy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gg,t=e===Gg?ay:iy(e);return function(){return t().dispatch}}var sy,uy=oy();!function(e){Yg=e}(qg.useSyncExternalStoreWithSelector),function(e){e}(Ug.useSyncExternalStore),sy=Kg.unstable_batchedUpdates,zg=sy;var cy="AboutCourse_wrapper__n9z0A",ly="AboutCourse_container__u5t-A",hy="AboutCourse_header__IP9i-",fy="AboutCourse_title__box__NMEP9",dy="AboutCourse_title__saLc2",py="AboutCourse_foryou__op-BE",vy="AboutCourse_heading__uuTw8",gy="AboutCourse_foryou__list__mNzcD",yy="AboutCourse_foryou__list_item__kHat+",my="AboutCourse_directions__nQi1y",by="AboutCourse_directions__list__RDwM8",wy="AboutCourse_directions__list_item__6U7t5",xy="AboutCourse_results__I2+BK",_y="AboutCourse_application__J2hkV",Sy="AboutCourse_application__text__1QnEm",Ey="AboutCourse_results__text__j9nm7";function ky(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Cy=n(694),Ay=n.n(Cy),Py="Button_btn__G0j01",Iy=["type","disabled","className","children","onClick"],Ty=function(e){var t=e.type,n=e.disabled,r=e.className,i=e.children,a=e.onClick,o=ky(e,Iy);return(0,bv.jsx)("button",De(De({},o),{},{type:t,disabled:n,className:Ay()(Py,r),onClick:a,children:i}))},Fy={btn:"ButtonMain_btn__8NI0w",violet:"ButtonMain_violet__FRzSZ",white:"ButtonMain_white__o8CWX"},Ry=["colorBtn","content","btnClassName"],Oy=function(e){var t=e.colorBtn,n=e.content,r=e.btnClassName,i=ky(e,Ry),a="white"===t?"white":"violet";return(0,bv.jsx)(Ty,De(De({},i),{},{className:Ay()(Fy.btn,Fy[a],r),children:n}))},Ny=function(e){var t=e.className;return(0,bv.jsxs)("svg",{className:t,width:"223",height:"36",viewBox:"0 0 223 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,bv.jsx)("path",{d:"M39.4001 12.012C39.4001 14.784 40.8281 16.436 42.6761 17.752L45.0561 19.46C46.3161 20.356 47.2401 21.392 47.2401 22.96C47.2401 24.36 46.3161 25.2 44.8601 25.2C43.4321 25.2 42.4801 24.164 42.4801 22.484V21H39.1201V22.68C39.1201 26.292 41.6961 28.28 44.8601 28.28C48.0241 28.28 50.6001 26.376 50.6001 22.54C50.6001 19.852 49.1161 18.2 47.2961 16.884L44.8321 15.12C43.6561 14.28 42.7601 13.412 42.7601 12.012C42.7601 10.584 43.6001 9.79997 44.8321 9.79997C46.1481 9.79997 46.9601 10.612 46.9601 12.404V13.72H50.3201V12.32C50.3201 8.53997 47.8841 6.71997 44.8321 6.71997C41.8361 6.71997 39.4001 8.23197 39.4001 12.012Z",fill:"current"}),(0,bv.jsx)("path",{d:"M57.47 6.99997H54.11V28H57.47V20.636L63.49 28H67.69L61.166 20.356L67.326 14H62.902L57.47 20.104V6.99997Z",fill:"current"}),(0,bv.jsx)("path",{d:"M77.138 29.456L82.43 14H79.07L75.542 24.78L72.042 14H68.682L73.946 29.428C73.134 31.388 72.154 32.312 70.586 32.312C69.914 32.312 69.27 32.172 68.738 32.004V34.972C69.27 35.14 70.082 35.28 70.894 35.28C74.45 35.28 75.962 32.9 77.138 29.456Z",fill:"current"}),(0,bv.jsx)("path",{d:"M89.4493 28V19.32H94.8813V16.24H89.4493V10.08H95.7213V6.99997H86.0893V28H89.4493Z",fill:"current"}),(0,bv.jsx)("path",{d:"M100.47 11.2C101.702 11.2 102.57 10.276 102.57 9.09997C102.57 7.89597 101.702 6.99997 100.47 6.99997C99.266 6.99997 98.37 7.89597 98.37 9.09997C98.37 10.276 99.266 11.2 100.47 11.2ZM102.15 28V14H98.79V28H102.15Z",fill:"current"}),(0,bv.jsx)("path",{d:"M110.823 23.212V16.94H114.463V14H110.823V9.79997H107.463V14H105.223V16.94H107.463V23.436C107.463 27.188 109.479 28.28 112.251 28.28C113.063 28.28 113.959 28.112 114.463 27.944V24.948C113.987 25.116 113.399 25.2 112.923 25.2C111.467 25.2 110.823 24.584 110.823 23.212Z",fill:"current"}),(0,bv.jsx)("path",{d:"M127.334 20.3V28H130.694V19.628C130.694 15.68 128.454 13.72 125.486 13.72C123.75 13.72 122.322 14.532 121.454 16.016V14H118.094V28H121.454V20.3C121.454 17.948 122.574 16.66 124.394 16.66C126.214 16.66 127.334 17.948 127.334 20.3Z",fill:"current"}),(0,bv.jsx)("path",{d:"M147.884 22.12C147.912 21.756 147.94 21.392 147.94 21C147.94 16.716 145 13.72 140.996 13.72C136.992 13.72 134.052 16.716 134.052 21C134.052 25.284 136.992 28.28 140.996 28.28C144.3 28.28 146.736 26.712 147.576 23.8H143.936C143.488 24.78 142.62 25.34 141.136 25.34C139.064 25.34 137.72 24.164 137.356 22.12H147.884ZM140.996 16.66C142.956 16.66 144.244 17.78 144.608 19.74H137.384C137.748 17.78 139.036 16.66 140.996 16.66Z",fill:"current"}),(0,bv.jsx)("path",{d:"M162.484 23.968C162.484 18.2 154.252 20.496 154.252 17.808C154.252 16.912 155.092 16.38 156.352 16.38C157.724 16.38 158.732 17.276 158.732 18.452H162.232C162.232 15.792 159.712 13.72 156.352 13.72C153.244 13.72 150.864 15.344 150.864 17.948C150.864 23.66 159.012 21.14 159.012 24.108C159.012 25.144 158.172 25.648 156.772 25.648C155.26 25.648 154.112 24.892 154.112 23.38H150.612C150.612 26.488 153.272 28.28 156.772 28.28C160.048 28.28 162.484 26.628 162.484 23.968Z",fill:"current"}),(0,bv.jsx)("path",{d:"M177.153 23.968C177.153 18.2 168.921 20.496 168.921 17.808C168.921 16.912 169.761 16.38 171.021 16.38C172.393 16.38 173.401 17.276 173.401 18.452H176.901C176.901 15.792 174.381 13.72 171.021 13.72C167.913 13.72 165.533 15.344 165.533 17.948C165.533 23.66 173.681 21.14 173.681 24.108C173.681 25.144 172.841 25.648 171.441 25.648C169.929 25.648 168.781 24.892 168.781 23.38H165.281C165.281 26.488 167.941 28.28 171.441 28.28C174.717 28.28 177.153 26.628 177.153 23.968Z",fill:"current"}),(0,bv.jsx)("path",{d:"M185.151 28V20.16H187.923C191.367 20.16 193.831 18.032 193.831 14.14V12.74C193.831 8.98797 191.367 6.99997 187.923 6.99997H181.791V28H185.151ZM187.643 10.08C189.379 10.08 190.471 10.892 190.471 13.02V13.86C190.471 16.156 189.379 17.08 187.643 17.08H185.151V10.08H187.643Z",fill:"current"}),(0,bv.jsx)("path",{d:"M200.558 14H197.198V28H200.558V20.86C200.558 18.508 202.014 17.22 204.506 17.22C205.066 17.22 205.57 17.304 205.962 17.444V13.776C205.794 13.72 205.514 13.72 205.262 13.72C203.218 13.72 201.566 14.616 200.558 16.268V14Z",fill:"current"}),(0,bv.jsx)("path",{d:"M214.938 28.28C219.026 28.28 222.078 25.284 222.078 21C222.078 16.716 219.026 13.72 214.938 13.72C210.85 13.72 207.798 16.716 207.798 21C207.798 25.284 210.85 28.28 214.938 28.28ZM214.938 25.2C212.782 25.2 211.158 23.52 211.158 21C211.158 18.48 212.782 16.8 214.938 16.8C217.094 16.8 218.718 18.48 218.718 21C218.718 23.52 217.094 25.2 214.938 25.2Z",fill:"current"}),(0,bv.jsx)("path",{d:"M3.68844 28.4581C1.54195 29.698 0 28.6648 0 26.827C0 24.8705 0 19.0003 0 19.0003C0 19.0003 0 13.1301 0 11.1737C0 9.33591 1.54099 8.30269 3.68844 9.54255C7.03156 11.4731 17.06 17.2668 17.06 17.2668C18.3934 18.037 18.3934 19.9628 17.06 20.7329C17.06 20.7338 7.03156 26.5275 3.68844 28.4581Z",fill:"#00C1FF"}),(0,bv.jsx)("path",{d:"M14.7265 28.4574C12.58 29.6972 11.0381 28.664 11.0381 26.8262C11.0381 24.8698 11.0381 18.9996 11.0381 18.9996C11.0381 18.9996 11.0381 13.1294 11.0381 11.173C11.0381 9.33518 12.5791 8.30196 14.7265 9.54182C17.996 11.4303 27.8044 17.0968 27.8044 17.0968C29.2689 17.9425 29.2689 20.0567 27.8044 20.9024C27.8034 20.9024 17.996 26.5689 14.7265 28.4574Z",fill:"#BCEC30"}),(0,bv.jsx)("mask",{id:"mask0_26_1313",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"11",y:"9",width:"18",height:"20",children:(0,bv.jsx)("path",{d:"M14.7265 28.4574C12.58 29.6972 11.0381 28.664 11.0381 26.8262C11.0381 24.8698 11.0381 18.9996 11.0381 18.9996C11.0381 18.9996 11.0381 13.1294 11.0381 11.173C11.0381 9.33518 12.5791 8.30196 14.7265 9.54182C17.996 11.4303 27.8044 17.0968 27.8044 17.0968C29.2689 17.9425 29.2689 20.0567 27.8044 20.9024C27.8035 20.9024 17.996 26.5689 14.7265 28.4574Z",fill:"#6FE4FF"})}),(0,bv.jsx)("g",{mask:"url(#mask0_26_1313)",children:(0,bv.jsx)("g",{filter:"url(#filter0_f_26_1313)",children:(0,bv.jsx)("path",{d:"M3.68893 28.4585C1.54244 29.6983 0.000488281 28.6651 0.000488281 26.8273C0.000488281 24.8709 0.000488281 19.0007 0.000488281 19.0007C0.000488281 19.0007 0.000488281 13.1305 0.000488281 11.1741C0.000488281 9.33628 1.54148 8.30306 3.68893 9.54292C7.03205 11.4735 17.0605 17.2672 17.0605 17.2672C18.3939 18.0373 18.3939 19.9631 17.0605 20.7333C17.0605 20.7342 7.03205 26.5279 3.68893 28.4585Z",fill:"#99D100"})})}),(0,bv.jsx)("defs",{children:(0,bv.jsxs)("filter",{id:"filter0_f_26_1313",x:"-1.46075",y:"7.53986",width:"20.9825",height:"22.9216",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,bv.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,bv.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,bv.jsx)("feGaussianBlur",{stdDeviation:"0.730621",result:"effect1_foregroundBlur_26_1313"})]})})]})},Dy={container:"Logo_container__hEayD",icon:"Logo_icon__6HxGk",white:"Logo_white__b+GKE",black:"Logo_black__nfoXi"},jy=function(e){var t=e.colorLogo,n=e.className,r="white"===t?"white":"black";return(0,bv.jsx)("div",{className:Dy.container,children:(0,bv.jsx)(Bg,{to:"/",children:(0,bv.jsx)(Ny,{className:Ay()(n,Dy.icon,Dy[r])})})})},Ly=["name"],By=["_f"],My=["_f"],Hy=function(e){return"checkbox"===e.type},Vy=function(e){return e instanceof Date},Uy=function(e){return null==e},qy=function(e){return"object"===typeof e},Ky=function(e){return!Uy(e)&&!Array.isArray(e)&&qy(e)&&!Vy(e)},zy=function(e){return Ky(e)&&e.target?Hy(e.target)?e.target.checked:e.target.value:e},Wy=function(e,t){return e.has(function(e){return e.substring(0,e.search(/\.\d+(\.|$)/))||e}(t))},Gy=function(e){return Array.isArray(e)?e.filter(Boolean):[]},$y=function(e){return void 0===e},Jy=function(e,t,n){if(!t||!Ky(e))return n;var r=Gy(t.split(/[,[\].]+?/)).reduce((function(e,t){return Uy(e)?e:e[t]}),e);return $y(r)||r===e?$y(e[t])?n:e[t]:r},Yy="blur",Xy="focusout",Qy="onBlur",Zy="onChange",em="onSubmit",tm="onTouched",nm="all",rm="max",im="min",am="maxLength",om="minLength",sm="pattern",um="required",cm="validate",lm=(t.createContext(null),function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={defaultValues:t._defaultValues},a=function(a){Object.defineProperty(i,a,{get:function(){var i=a;return t._proxyFormState[i]!==nm&&(t._proxyFormState[i]=!r||nm),n&&(n[i]=!0),e[i]}})};for(var o in e)a(o);return i}),hm=function(e){return Ky(e)&&!Object.keys(e).length},fm=function(e,t,n){e.name;var r=ky(e,Ly);return hm(r)||Object.keys(r).length>=Object.keys(t).length||Object.keys(r).find((function(e){return t[e]===(!n||nm)}))},dm=function(e){return Array.isArray(e)?e:[e]};function pm(e){var n=t.useRef(e);n.current=e,t.useEffect((function(){var t=!e.disabled&&n.current.subject.subscribe({next:n.current.callback});return function(){t&&t.unsubscribe()}}),[e.disabled])}var vm=function(e){return"string"===typeof e},gm=function(e,t,n,r){return vm(e)?(r&&t.watch.add(e),Jy(n,e)):Array.isArray(e)?e.map((function(e){return r&&t.watch.add(e),Jy(n,e)})):(r&&(t.watchAll=!0),n)},ym="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function mm(e){var t,n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(ym&&(e instanceof Blob||e instanceof FileList)||!n&&!Ky(e))return e;if(t=n?[]:{},Array.isArray(e)||function(e){var t=e.constructor&&e.constructor.prototype;return Ky(t)&&t.hasOwnProperty("isPrototypeOf")}(e))for(var r in e)t[r]=mm(e[r]);else t=e}return t}var bm=function(e,t,n,r,i){return t?De(De({},n[e]),{},{types:De(De({},n[e]&&n[e].types?n[e].types:{}),{},A({},r,i||!0))}):{}},wm=function(e){return/^\w*$/.test(e)},xm=function(e){return Gy(e.replace(/["|']|\]/g,"").split(/\.|\[/))};function _m(e,t,n){for(var r=-1,i=wm(t)?[t]:xm(t),a=i.length,o=a-1;++r<a;){var s=i[r],u=n;if(r!==o){var c=e[s];u=Ky(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}e[s]=u,e=e[s]}return e}var Sm=function e(t,n,r){var i,a=w(r||Object.keys(t));try{for(a.s();!(i=a.n()).done;){var o=i.value,s=Jy(t,o);if(s){var u=s._f,c=ky(s,By);if(u&&n(u.name)){if(u.ref.focus){u.ref.focus();break}if(u.refs&&u.refs[0].focus){u.refs[0].focus();break}}else Ky(c)&&e(c,n)}}}catch(l){a.e(l)}finally{a.f()}},Em=function(e,t,n){return!n&&(t.watchAll||t.watch.has(e)||C(t.watch).some((function(t){return e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))})))},km=function(e,t,n){var r=Gy(Jy(e,n));return _m(r,"root",t[n]),_m(e,n,r),e},Cm=function(e){return"boolean"===typeof e},Am=function(e){return"file"===e.type},Pm=function(e){return"function"===typeof e},Im=function(e){return vm(e)||t.isValidElement(e)},Tm=function(e){return"radio"===e.type},Fm=function(e){return e instanceof RegExp},Rm={value:!1,isValid:!1},Om={value:!0,isValid:!0},Nm=function(e){if(Array.isArray(e)){if(e.length>1){var t=e.filter((function(e){return e&&e.checked&&!e.disabled})).map((function(e){return e.value}));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!$y(e[0].attributes.value)?$y(e[0].value)||""===e[0].value?Om:{value:e[0].value,isValid:!0}:Om:Rm}return Rm},Dm={isValid:!1,value:null},jm=function(e){return Array.isArray(e)?e.reduce((function(e,t){return t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e}),Dm):Dm};function Lm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(Im(e)||Array.isArray(e)&&e.every(Im)||Cm(e)&&!e)return{type:n,message:Im(e)?e:"",ref:t}}var Bm=function(e){return Ky(e)&&!Fm(e)?e:{value:e,message:""}},Mm=function(){var e=u(o().mark((function e(t,n,r,i,a){var s,u,c,l,h,f,d,p,v,g,y,m,b,w,x,_,S,E,k,C,A,P,I,T,F,R,O,N,D,j,L,B,M,H,V,U,q,K,z,W,G,$,J,Y,X,Q,Z;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t._f,u=s.ref,c=s.refs,l=s.required,h=s.maxLength,f=s.minLength,d=s.min,p=s.max,v=s.pattern,g=s.validate,y=s.name,m=s.valueAsNumber,b=s.mount,w=s.disabled,b&&!w){e.next=3;break}return e.abrupt("return",{});case 3:if(x=c?c[0]:u,_=function(e){i&&x.reportValidity&&(x.setCustomValidity(Cm(e)?"":e||""),x.reportValidity())},S={},E=Tm(u),k=Hy(u),C=E||k,A=(m||Am(u))&&!u.value||""===n||Array.isArray(n)&&!n.length,P=bm.bind(null,y,r,S),I=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:am,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:om,a=e?t:n;S[y]=De({type:e?r:i,message:a,ref:u},P(e?r:i,a))},!(a?!Array.isArray(n)||!n.length:l&&(!C&&(A||Uy(n))||Cm(n)&&!n||k&&!Nm(c).isValid||E&&!jm(c).isValid))){e.next=19;break}if(T=Im(l)?{value:!!l,message:l}:Bm(l),F=T.value,R=T.message,!F){e.next=19;break}if(S[y]=De({type:um,message:R,ref:x},P(um,R)),r){e.next=19;break}return _(R),e.abrupt("return",S);case 19:if(A||Uy(d)&&Uy(p)){e.next=28;break}if(D=Bm(p),j=Bm(d),Uy(n)||isNaN(n)?(B=u.valueAsDate||new Date(n),M=function(e){return new Date((new Date).toDateString()+" "+e)},H="time"==u.type,V="week"==u.type,vm(D.value)&&n&&(O=H?M(n)>M(D.value):V?n>D.value:B>new Date(D.value)),vm(j.value)&&n&&(N=H?M(n)<M(j.value):V?n<j.value:B<new Date(j.value))):(L=u.valueAsNumber||(n?+n:n),Uy(D.value)||(O=L>D.value),Uy(j.value)||(N=L<j.value)),!O&&!N){e.next=28;break}if(I(!!O,D.message,j.message,rm,im),r){e.next=28;break}return _(S[y].message),e.abrupt("return",S);case 28:if(!h&&!f||A||!(vm(n)||a&&Array.isArray(n))){e.next=38;break}if(U=Bm(h),q=Bm(f),K=!Uy(U.value)&&n.length>U.value,z=!Uy(q.value)&&n.length<q.value,!K&&!z){e.next=38;break}if(I(K,U.message,q.message),r){e.next=38;break}return _(S[y].message),e.abrupt("return",S);case 38:if(!v||A||!vm(n)){e.next=45;break}if(W=Bm(v),G=W.value,$=W.message,!Fm(G)||n.match(G)){e.next=45;break}if(S[y]=De({type:sm,message:$,ref:u},P(sm,$)),r){e.next=45;break}return _($),e.abrupt("return",S);case 45:if(!g){e.next=79;break}if(!Pm(g)){e.next=58;break}return e.next=49,g(n);case 49:if(J=e.sent,!(Y=Lm(J,x))){e.next=56;break}if(S[y]=De(De({},Y),P(cm,Y.message)),r){e.next=56;break}return _(Y.message),e.abrupt("return",S);case 56:e.next=79;break;case 58:if(!Ky(g)){e.next=79;break}X={},e.t0=o().keys(g);case 61:if((e.t1=e.t0()).done){e.next=75;break}if(Q=e.t1.value,hm(X)||r){e.next=65;break}return e.abrupt("break",75);case 65:return e.t2=Lm,e.next=68,g[Q](n);case 68:e.t3=e.sent,e.t4=x,e.t5=Q,(Z=(0,e.t2)(e.t3,e.t4,e.t5))&&(X=De(De({},Z),P(Q,Z.message)),_(Z.message),r&&(S[y]=X)),e.next=61;break;case 75:if(hm(X)){e.next=79;break}if(S[y]=De({ref:x},X),r){e.next=79;break}return e.abrupt("return",S);case 79:return _(!0),e.abrupt("return",S);case 81:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}();var Hm=function(e){return{isOnSubmit:!e||e===em,isOnBlur:e===Qy,isOnChange:e===Zy,isOnAll:e===nm,isOnTouch:e===tm}};function Vm(e){for(var t in e)if(!$y(e[t]))return!1;return!0}function Um(e,t){var n,r=wm(t)?[t]:xm(t),i=1==r.length?e:function(e,t){for(var n=t.slice(0,-1).length,r=0;r<n;)e=$y(e)?r++:e[t[r++]];return e}(e,r),a=r[r.length-1];i&&delete i[a];for(var o=0;o<r.slice(0,-1).length;o++){var s=-1,u=void 0,c=r.slice(0,-(o+1)),l=c.length-1;for(o>0&&(n=e);++s<c.length;){var h=c[s];u=u?u[h]:e[h],l===s&&(Ky(u)&&hm(u)||Array.isArray(u)&&Vm(u))&&(n?delete n[h]:delete e[h]),n=u}}return e}function qm(){var e=[];return{get observers(){return e},next:function(t){var n,r=w(e);try{for(r.s();!(n=r.n()).done;){n.value.next(t)}}catch(i){r.e(i)}finally{r.f()}},subscribe:function(t){return e.push(t),{unsubscribe:function(){e=e.filter((function(e){return e!==t}))}}},unsubscribe:function(){e=[]}}}var Km=function(e){return Uy(e)||!qy(e)};function zm(e,t){if(Km(e)||Km(t))return e===t;if(Vy(e)&&Vy(t))return e.getTime()===t.getTime();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0,a=n;i<a.length;i++){var o=a[i],s=e[o];if(!r.includes(o))return!1;if("ref"!==o){var u=t[o];if(Vy(s)&&Vy(u)||Ky(s)&&Ky(u)||Array.isArray(s)&&Array.isArray(u)?!zm(s,u):s!==u)return!1}}return!0}var Wm=function(e){var t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Gm=function(e){return"select-multiple"===e.type},$m=function(e){return Tm(e)||Hy(e)},Jm=function(e){return Wm(e)&&e.isConnected},Ym=function(e){for(var t in e)if(Pm(e[t]))return!0;return!1};function Xm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e);if(Ky(e)||n)for(var r in e)Array.isArray(e[r])||Ky(e[r])&&!Ym(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Xm(e[r],t[r])):Uy(e[r])||(t[r]=!0);return t}function Qm(e,t,n){var r=Array.isArray(e);if(Ky(e)||r)for(var i in e)Array.isArray(e[i])||Ky(e[i])&&!Ym(e[i])?$y(t)||Km(n[i])?n[i]=Array.isArray(e[i])?Xm(e[i],[]):De({},Xm(e[i])):Qm(e[i],Uy(t)?{}:t[i],n[i]):zm(e[i],t[i])?delete n[i]:n[i]=!0;return n}var Zm=function(e,t){return Qm(e,t,Xm(t))},eb=function(e,t){var n=t.valueAsNumber,r=t.valueAsDate,i=t.setValueAs;return $y(e)?e:n?""===e?NaN:e?+e:e:r&&vm(e)?new Date(e):i?i(e):e};function tb(e){var t=e.ref;if(!(e.refs?e.refs.every((function(e){return e.disabled})):t.disabled))return Am(t)?t.files:Tm(t)?jm(e.refs).value:Gm(t)?C(t.selectedOptions).map((function(e){return e.value})):Hy(t)?Nm(e.refs).value:eb($y(t.value)?e.ref.value:t.value,e)}var nb=function(e,t,n,r){var i,a={},o=w(e);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=Jy(t,s);u&&_m(a,s,u._f)}}catch(c){o.e(c)}finally{o.f()}return{criteriaMode:n,names:C(e),fields:a,shouldUseNativeValidation:r}},rb=function(e){return $y(e)?e:Fm(e)?e.source:Ky(e)?Fm(e.value)?e.value.source:e.value:e},ib=function(e){return e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate)};function ab(e,t,n){var r=Jy(e,n);if(r||wm(n))return{error:r,name:n};for(var i=n.split(".");i.length;){var a=i.join("."),o=Jy(t,a),s=Jy(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(s&&s.type)return{name:a,error:s};i.pop()}return{name:n}}var ob=function(e,t,n,r,i){return!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e)},sb=function(e,t){return!Gy(Jy(e,t)).length&&Um(e,t)},ub={mode:em,reValidateMode:Zy,shouldFocusError:!0};function cb(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=De(De({},ub),t),r={submitCount:0,isDirty:!1,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},i={},a=mm(n.defaultValues)||{},s=n.shouldUnregister?{}:mm(a),c={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},h=0,f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={watch:qm(),array:qm(),state:qm()},p=Hm(n.mode),v=Hm(n.reValidateMode),g=n.criteriaMode===nm,y=function(e){return function(t){clearTimeout(h),h=window.setTimeout(e,t)}},m=function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f.isValid){e.next=14;break}if(!n.resolver){e.next=9;break}return e.t1=hm,e.next=5,P();case 5:e.t2=e.sent.errors,e.t0=(0,e.t1)(e.t2),e.next=12;break;case 9:return e.next=11,T(i,!0);case 11:e.t0=e.sent;case 12:(t=e.t0)!==r.isValid&&(r.isValid=t,d.state.next({isValid:t}));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(e){return f.isValidating&&e!==r.isValidating&&d.state.next({isValidating:e})},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,u=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(o&&n){if(c.action=!0,l&&Array.isArray(Jy(i,e))){var h=n(Jy(i,e),o.argA,o.argB);u&&_m(i,e,h)}if(l&&Array.isArray(Jy(r.errors,e))){var p=n(Jy(r.errors,e),o.argA,o.argB);u&&_m(r.errors,e,p),sb(r.errors,e)}if(f.touchedFields&&l&&Array.isArray(Jy(r.touchedFields,e))){var v=n(Jy(r.touchedFields,e),o.argA,o.argB);u&&_m(r.touchedFields,e,v)}f.dirtyFields&&(r.dirtyFields=Zm(a,s)),d.state.next({name:e,isDirty:R(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else _m(s,e,t)},_=function(e,t){_m(r.errors,e,t),d.state.next({errors:r.errors})},S=function(e,t,n,r){var o=Jy(i,e);if(o){var u=Jy(s,e,$y(n)?Jy(a,e):n);$y(u)||r&&r.defaultChecked||t?_m(s,e,t?u:tb(o._f)):D(e,u),c.mount&&m()}},E=function(e,t,n,i,o){var s=!1,u=!1,c={name:e};if((!n||i)&&(f.isDirty&&(u=r.isDirty,r.isDirty=c.isDirty=R(),s=u!==c.isDirty),f.dirtyFields)){u=Jy(r.dirtyFields,e);var l=zm(Jy(a,e),t);l?Um(r.dirtyFields,e):_m(r.dirtyFields,e,!0),c.dirtyFields=r.dirtyFields,s=s||u!==!l}if(n){var h=Jy(r.touchedFields,e);h||(_m(r.touchedFields,e,n),c.touchedFields=r.touchedFields,s=s||f.touchedFields&&h!==n)}return s&&o&&d.state.next(c),s?c:{}},k=function(n,i,a,o){var s=Jy(r.errors,n),u=f.isValid&&Cm(i)&&r.isValid!==i;if(t.delayError&&a?(e=y((function(){return _(n,a)})))(t.delayError):(clearTimeout(h),e=null,a?_m(r.errors,n,a):Um(r.errors,n)),(a?!zm(s,a):s)||!hm(o)||u){var c=De(De(De({},o),u&&Cm(i)?{isValid:i}:{}),{},{errors:r.errors,name:n});r=De(De({},r),c),d.state.next(c)}b(!1)},P=function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.resolver(s,n.context,nb(t||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=u(o().mark((function e(t){var n,i,a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:if(n=e.sent,i=n.errors,t){a=w(t);try{for(a.s();!(s=a.n()).done;)u=s.value,(c=Jy(i,u))?_m(r.errors,u,c):Um(r.errors,u)}catch(o){a.e(o)}finally{a.f()}}else r.errors=i;return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=u(o().mark((function e(t,i){var a,u,c,h,f,d,p,v=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=v.length>2&&void 0!==v[2]?v[2]:{valid:!0},e.t0=o().keys(t);case 2:if((e.t1=e.t0()).done){e.next=23;break}if(u=e.t1.value,!(c=t[u])){e.next=21;break}if(h=c._f,f=ky(c,My),!h){e.next=17;break}return d=l.array.has(h.name),e.next=11,Mm(c,Jy(s,h.name),g,n.shouldUseNativeValidation,d);case 11:if(!(p=e.sent)[h.name]){e.next=16;break}if(a.valid=!1,!i){e.next=16;break}return e.abrupt("break",23);case 16:!i&&(Jy(p,h.name)?d?km(r.errors,p,h.name):_m(r.errors,h.name,p[h.name]):Um(r.errors,h.name));case 17:if(e.t2=f,!e.t2){e.next=21;break}return e.next=21,T(f,i,a);case 21:e.next=2;break;case 23:return e.abrupt("return",a.valid);case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),F=function(){var e,t=w(l.unMount);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=Jy(i,n);r&&(r._f.refs?r._f.refs.every((function(e){return!Jm(e)})):!Jm(r._f.ref))&&z(n)}}catch(a){t.e(a)}finally{t.f()}l.unMount=new Set},R=function(e,t){return e&&t&&_m(s,e,t),!zm(H(),a)},O=function(e,t,n){return gm(e,l,De({},c.mount?s:$y(t)?a:vm(e)?A({},e,t):t),n)},N=function(e){return Gy(Jy(c.mount?s:a,e,t.shouldUnregister?Jy(a,e,[]):[]))},D=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Jy(i,e),a=t;if(r){var o=r._f;o&&(!o.disabled&&_m(s,e,eb(t,o)),a=ym&&Wm(o.ref)&&Uy(t)?"":t,Gm(o.ref)?C(o.ref.options).forEach((function(e){return e.selected=a.includes(e.value)})):o.refs?Hy(o.ref)?o.refs.length>1?o.refs.forEach((function(e){return(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(a)?!!a.find((function(t){return t===e.value})):a===e.value)})):o.refs[0]&&(o.refs[0].checked=!!a):o.refs.forEach((function(e){return e.checked=e.value===a})):Am(o.ref)?o.ref.value="":(o.ref.value=a,o.ref.type||d.watch.next({name:e})))}(n.shouldDirty||n.shouldTouch)&&E(e,a,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&M(e)},j=function e(t,n,r){for(var a in n){var o=n[a],s="".concat(t,".").concat(a),u=Jy(i,s);!l.array.has(t)&&Km(o)&&(!u||u._f)||Vy(o)?D(s,o,r):e(s,o,r)}},L=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Jy(i,e),u=l.array.has(e),c=mm(t);_m(s,e,c),u?(d.array.next({name:e,values:s}),(f.isDirty||f.dirtyFields)&&n.shouldDirty&&(r.dirtyFields=Zm(a,s),d.state.next({name:e,dirtyFields:r.dirtyFields,isDirty:R(e,c)}))):!o||o._f||Uy(c)?D(e,c,n):j(e,c,n),Em(e,l)&&d.state.next({}),d.watch.next({name:e})},B=function(){var t=u(o().mark((function t(a){var u,c,h,y,w,x,_,S,C,A,I,F,R,O,N,D;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=a.target,c=u.name,h=Jy(i,c),y=function(){return u.type?tb(h._f):zy(a)},!h){t.next=44;break}if(_=y(),S=a.type===Yy||a.type===Xy,C=!ib(h._f)&&!n.resolver&&!Jy(r.errors,c)&&!h._f.deps||ob(S,Jy(r.touchedFields,c),r.isSubmitted,v,p),A=Em(c,l,S),_m(s,c,_),S?(h._f.onBlur&&h._f.onBlur(a),e&&e(0)):h._f.onChange&&h._f.onChange(a),I=E(c,_,S,!1),F=!hm(I)||A,!S&&d.watch.next({name:c,type:a.type}),!C){t.next=17;break}return f.isValid&&m(),t.abrupt("return",F&&d.state.next(De({name:c},A?{}:I)));case 17:if(!S&&A&&d.state.next({}),b(!0),!n.resolver){t.next=31;break}return t.next=22,P([c]);case 22:R=t.sent,O=R.errors,N=ab(r.errors,i,c),D=ab(O,i,N.name||c),w=D.error,c=D.name,x=hm(O),t.next=43;break;case 31:return t.next=33,Mm(h,Jy(s,c),g,n.shouldUseNativeValidation);case 33:if(t.t0=c,!(w=t.sent[t.t0])){t.next=39;break}x=!1,t.next=43;break;case 39:if(!f.isValid){t.next=43;break}return t.next=42,T(i,!0);case 42:x=t.sent;case 43:Km(_)&&y()!==_?b(!1):(h._f.deps&&M(h._f.deps),k(c,x,w,I));case 44:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),M=function(){var e=u(o().mark((function e(t){var a,s,c,h,p,v=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=v.length>1&&void 0!==v[1]?v[1]:{},h=dm(t),b(!0),!n.resolver){e.next=11;break}return e.next=6,I($y(t)?t:h);case 6:p=e.sent,s=hm(p),c=t?!h.some((function(e){return Jy(p,e)})):s,e.next=21;break;case 11:if(!t){e.next=18;break}return e.next=14,Promise.all(h.map(function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jy(i,t),e.next=3,T(n&&n._f?A({},t,n):n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:((c=e.sent.every(Boolean))||r.isValid)&&m(),e.next=21;break;case 18:return e.next=20,T(i);case 20:c=s=e.sent;case 21:return d.state.next(De(De(De({},!vm(t)||f.isValid&&s!==r.isValid?{}:{name:t}),n.resolver||!t?{isValid:s}:{}),{},{errors:r.errors,isValidating:!1})),a.shouldFocus&&!c&&Sm(i,(function(e){return e&&Jy(r.errors,e)}),t?h:l.mount),e.abrupt("return",c);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(e){var t=De(De({},a),c.mount?s:{});return $y(e)?t:vm(e)?Jy(t,e):e.map((function(e){return Jy(t,e)}))},V=function(e,t){return{invalid:!!Jy((t||r).errors,e),isDirty:!!Jy((t||r).dirtyFields,e),isTouched:!!Jy((t||r).touchedFields,e),error:Jy((t||r).errors,e)}},U=function(e){e?dm(e).forEach((function(e){return Um(r.errors,e)})):r.errors={},d.state.next({errors:r.errors})},q=function(e,t,n){var a=(Jy(i,e,{_f:{}})._f||{}).ref;_m(r.errors,e,De(De({},t),{},{ref:a})),d.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&a&&a.focus&&a.focus()},K=function(e,t){return Pm(e)?d.watch.subscribe({next:function(n){return e(O(void 0,t),n)}}):O(e,t,!0)},z=function(e){var t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=w(e?dm(e):l.mount);try{for(u.s();!(t=u.n()).done;){var c=t.value;l.mount.delete(c),l.array.delete(c),Jy(i,c)&&(o.keepValue||(Um(i,c),Um(s,c)),!o.keepError&&Um(r.errors,c),!o.keepDirty&&Um(r.dirtyFields,c),!o.keepTouched&&Um(r.touchedFields,c),!n.shouldUnregister&&!o.keepDefaultValue&&Um(a,c))}}catch(h){u.e(h)}finally{u.f()}d.watch.next({}),d.state.next(De(De({},r),o.keepDirty?{isDirty:R()}:{})),!o.keepIsValid&&m()},W=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=Jy(i,t),u=Cm(r.disabled);return _m(i,t,De(De({},o||{}),{},{_f:De(De({},o&&o._f?o._f:{ref:{name:t}}),{},{name:t,mount:!0},r)})),l.mount.add(t),o?u&&_m(s,t,r.disabled?void 0:Jy(s,t,tb(o._f))):S(t,!0,r.value),De(De(De({},u?{disabled:r.disabled}:{}),n.shouldUseNativeValidation?{required:!!r.required,min:rb(r.min),max:rb(r.max),minLength:rb(r.minLength),maxLength:rb(r.maxLength),pattern:rb(r.pattern)}:{}),{},{name:t,onChange:B,onBlur:B,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(s){if(s){e(t,r),o=Jy(i,t);var u=$y(s.value)&&s.querySelectorAll&&s.querySelectorAll("input,select,textarea")[0]||s,h=$m(u),f=o._f.refs||[];if(h?f.find((function(e){return e===u})):u===o._f.ref)return;_m(i,t,{_f:De(De({},o._f),h?{refs:[].concat(C(f.filter(Jm)),[u],C(Array.isArray(Jy(a,t))?[{}]:[])),ref:{type:u.type,name:t}}:{ref:u})}),S(t,!1,void 0,u)}else(o=Jy(i,t,{}))._f&&(o._f.mount=!1),(n.shouldUnregister||r.shouldUnregister)&&(!Wy(l.array,t)||!c.action)&&l.unMount.add(t)}))})},G=function(){return n.shouldFocusError&&Sm(i,(function(e){return e&&Jy(r.errors,e)}),l.mount)},$=function(e,t){return function(){var a=u(o().mark((function a(u){var c,l,h,f,p;return o().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist()),c=!0,l=mm(s),d.state.next({isSubmitting:!0}),a.prev=4,!n.resolver){a.next=15;break}return a.next=8,P();case 8:h=a.sent,f=h.errors,p=h.values,r.errors=f,l=p,a.next=17;break;case 15:return a.next=17,T(i);case 17:if(!hm(r.errors)){a.next=23;break}return d.state.next({errors:{},isSubmitting:!0}),a.next=21,e(l,u);case 21:a.next=27;break;case 23:if(!t){a.next=26;break}return a.next=26,t(De({},r.errors),u);case 26:G();case 27:a.next=33;break;case 29:throw a.prev=29,a.t0=a.catch(4),c=!1,a.t0;case 33:return a.prev=33,r.isSubmitted=!0,d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:hm(r.errors)&&c,submitCount:r.submitCount+1,errors:r.errors}),a.finish(33);case 37:case"end":return a.stop()}}),a,null,[[4,29,33,37]])})));return function(e){return a.apply(this,arguments)}}()},J=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Jy(i,e)&&($y(t.defaultValue)?L(e,Jy(a,e)):(L(e,t.defaultValue),_m(a,e,t.defaultValue)),t.keepTouched||Um(r.touchedFields,e),t.keepDirty||(Um(r.dirtyFields,e),r.isDirty=t.defaultValue?R(e,Jy(a,e)):R()),t.keepError||(Um(r.errors,e),f.isValid&&m()),d.state.next(De({},r)))},Y=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e||a,u=mm(o),h=e&&!hm(e)?u:a;if(n.keepDefaultValues||(a=o),!n.keepValues){if(n.keepDirtyValues){var p,v=w(l.mount);try{for(v.s();!(p=v.n()).done;){var g=p.value;Jy(r.dirtyFields,g)?_m(h,g,Jy(s,g)):L(g,Jy(h,g))}}catch(E){v.e(E)}finally{v.f()}}else{if(ym&&$y(e)){var y,m=w(l.mount);try{for(m.s();!(y=m.n()).done;){var b=y.value,x=Jy(i,b);if(x&&x._f){var _=Array.isArray(x._f.refs)?x._f.refs[0]:x._f.ref;if(Wm(_)){var S=_.closest("form");if(S){S.reset();break}}}}}catch(E){m.e(E)}finally{m.f()}}i={}}s=t.shouldUnregister?n.keepDefaultValues?mm(a):{}:u,d.array.next({values:h}),d.watch.next({values:h})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!f.isValid||!!n.keepIsValid,c.watch=!!t.shouldUnregister,d.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:n.keepDirty||n.keepDirtyValues?r.isDirty:!(!n.keepDefaultValues||zm(e,a)),isSubmitted:!!n.keepIsSubmitted&&r.isSubmitted,dirtyFields:n.keepDirty||n.keepDirtyValues?r.dirtyFields:n.keepDefaultValues&&e?Zm(a,e):{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},X=function(e,t){return Y(Pm(e)?e(s):e,t)},Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Jy(i,e),r=n&&n._f;if(r){var a=r.refs?r.refs[0]:r.ref;a.focus&&(a.focus(),t.shouldSelect&&a.select())}};return{control:{register:W,unregister:z,getFieldState:V,_executeSchema:P,_focusError:G,_getWatch:O,_getDirty:R,_updateValid:m,_removeUnmounted:F,_updateFieldArray:x,_getFieldArray:N,_subjects:d,_proxyFormState:f,get _fields(){return i},get _formValues(){return s},get _stateFlags(){return c},set _stateFlags(e){c=e},get _defaultValues(){return a},get _names(){return l},set _names(e){l=e},get _formState(){return r},set _formState(e){r=e},get _options(){return n},set _options(e){n=De(De({},n),e)}},trigger:M,register:W,handleSubmit:$,watch:K,setValue:L,getValues:H,reset:X,resetField:J,clearErrors:U,unregister:z,setError:q,setFocus:Q,getFieldState:V}}function lb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.useRef(),r=t.useState({isDirty:!1,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:e.defaultValues}),i=x(r,2),a=i[0],o=i[1];n.current||(n.current=De(De({},cb(e)),{},{formState:a}));var s=n.current.control;return s._options=e,pm({subject:s._subjects.state,callback:t.useCallback((function(e){fm(e,s._proxyFormState,!0)&&(s._formState=De(De({},s._formState),e),o(De({},s._formState)))}),[s])}),t.useEffect((function(){s._stateFlags.mount||(s._proxyFormState.isValid&&s._updateValid(),s._stateFlags.mount=!0),s._stateFlags.watch&&(s._stateFlags.watch=!1,s._subjects.state.next({})),s._removeUnmounted()})),t.useEffect((function(){a.submitCount&&s._focusError()}),[s,a.submitCount]),n.current.formState=lm(a,s),n.current}var hb="Inputs_input__u2D51",fb="Inputs_message__9LZ-J",db=function(e){var t,n=e.register,r=e.errors;return(0,bv.jsxs)(bv.Fragment,{children:[(0,bv.jsx)("input",De({className:hb,type:"text",placeholder:"\u041b\u043e\u0433\u0438\u043d"},n("username",{required:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e",minLength:{value:3,message:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u043d\u0430 3"},validate:function(e){return[/[A-Za-z0-9]/].every((function(t){return t.test(e)}))||"\u0422\u043e\u043b\u044c\u043a\u043e \u0431\u0443\u043a\u0432\u044b \u043d\u0430 \u043b\u0430\u0442\u0438\u043d\u0438\u0446\u0435 \u0438 \u0446\u0438\u0444\u0440\u044b"}}))),(0,bv.jsx)("span",{className:fb,children:null===(t=r.username)||void 0===t?void 0:t.message})]})},pb=function(e){var t,n=e.register,r=e.errors;return(0,bv.jsxs)(bv.Fragment,{children:[(0,bv.jsx)("input",De({className:hb,type:"email",name:"email",placeholder:"\u041f\u043e\u0447\u0442\u0430"},n("email",{required:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e",validate:function(e){return[/[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+.[A-Za-z]/].every((function(t){return t.test(e)}))||"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u0432\u043e\u0434\u0430 \u043f\u043e\u0447\u0442\u044b"}}))),(0,bv.jsx)("span",{className:fb,children:null===(t=r.email)||void 0===t?void 0:t.message})]})},vb=function(e){var t,n=e.register,r=e.errors,i=e.name;return(0,bv.jsxs)(bv.Fragment,{children:[(0,bv.jsx)("input",De({className:hb,type:"password",name:i,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"},n("".concat(i),{required:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e",minLength:{value:8,message:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 8"},validate:function(e){return[/^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[@$!%*#?&])[a-zA-Z0-9@$!%*#?&*]/].every((function(t){return t.test(e)}))||"\u0414\u043e\u043b\u0436\u0435\u043d \u0432\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u043e\u0434\u043d\u0443 \u0431\u0443\u043a\u0432\u0443 \u043d\u0430 \u043b\u0430\u0442\u0438\u043d\u0438\u0446\u0435 , \u0447\u0438\u0441\u043b\u043e \u0438 \u0441\u043f\u0435\u0446\u0441\u0438\u043c\u0432\u043e\u043b!"}}))),(0,bv.jsx)("span",{className:fb,children:null===(t=r[i])||void 0===t?void 0:t.message})]})},gb="Loader_ldsEllipsis__p59At",yb=function(){return(0,bv.jsxs)("div",{className:gb,children:[(0,bv.jsx)("div",{}),(0,bv.jsx)("div",{}),(0,bv.jsx)("div",{}),(0,bv.jsx)("div",{})]})},mb="Login_form__1XEVf",bb="Login_logo__8rH39",wb="Login_inputs__hMs9A",xb="Login_buttons__ayAhW",_b="Login_message__mLlj7",Sb=function(e){var t=e.showSignup,n=uy(),r=yg(),i=Zg(Yf),a=i.error,s=i.loading,c=xv().login,l=lb(),h=l.register,f=l.handleSubmit,d=l.formState.errors,p=function(){var e=u(o().mark((function e(t){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n($f("")),n(Gf(!0)),e.next=5,c(t.email,t.password);case 5:i=e.sent,a=i.user,n(zf({login:t.username,email:a.email,token:a.accessToken,id:a.uid})),n(Wf(t.password)),r("/profile"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),n(Gf(!1)),n($f(e.t0.message));case 16:n(Gf(!1));case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();return(0,bv.jsxs)("form",{className:mb,onSubmit:f(p),children:[(0,bv.jsx)(jy,{className:bb}),(0,bv.jsxs)("div",{className:wb,children:[(0,bv.jsx)(db,{register:h,errors:d}),(0,bv.jsx)(pb,{register:h,errors:d}),(0,bv.jsx)(vb,{name:"password",register:h,errors:d})]}),(0,bv.jsxs)("div",{className:xb,children:[(0,bv.jsx)(Oy,{type:"submit",content:s?(0,bv.jsx)(yb,{}):"\u0412\u043e\u0439\u0442\u0438"}),(0,bv.jsx)(Oy,{content:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",colorBtn:"white",onClick:function(){n($f("")),t()}}),a&&(0,bv.jsx)("div",{className:_b,children:a})]})]})},Eb="Signup_form__i9PKg",kb="Signup_logo__8iuj1",Cb="Signup_inputs__btPjl",Ab="Signup_buttons__PElUW",Pb="Signup_message__CMQxu",Ib=function(){var e=uy(),t=yg(),n=Zg(Yf),r=n.error,i=n.loading,a=xv(),s=a.signup,c=a.updateUserName,l=a.writeUserData,h=lb(),f=h.register,d=h.handleSubmit,p=h.formState.errors,v=function(){var n=u(o().mark((function n(r){var i,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.password===r.confirmPassword){n.next=2;break}return n.abrupt("return",e($f("\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442")));case 2:return e(Gf(!0)),e($f("")),n.prev=4,e($f("")),e(Gf(!0)),n.next=9,s(r.email,r.password);case 9:return i=n.sent,a=i.user,n.next=13,c(r.username);case 13:return n.next=15,l(a.uid,r.username,a.email,r.password);case 15:e(zf({login:r.username,email:a.email,token:a.accessToken,id:a.uid})),e(Wf(r.password)),t("/profile"),n.next=24;break;case 20:n.prev=20,n.t0=n.catch(4),e(Gf(!1)),e($f(n.t0.message));case 24:e(Gf(!1)),e($f(""));case 26:case"end":return n.stop()}}),n,null,[[4,20]])})));return function(e){return n.apply(this,arguments)}}();return(0,bv.jsxs)("form",{className:Eb,onSubmit:d(v),children:[(0,bv.jsx)(jy,{className:kb}),(0,bv.jsxs)("div",{className:Cb,children:[(0,bv.jsx)(db,{register:f,errors:p}),(0,bv.jsx)(pb,{register:f,errors:p}),(0,bv.jsx)(vb,{name:"password",register:f,errors:p}),(0,bv.jsx)(vb,{name:"confirmPassword",register:f,errors:p})]}),(0,bv.jsx)("div",{className:Ab,children:(0,bv.jsx)(Oy,{type:"submit",content:i?(0,bv.jsx)(yb,{}):"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})}),r&&(0,bv.jsx)("div",{className:Pb,children:r})]})},Tb="Modal_wrapper__q52V3",Fb="Modal_modal__fgoYb",Rb="Modal_close__CQyEk",Ob=function(e){var n=e.children,r=document.getElementById("portal-root"),i=document.createElement("div");return(0,t.useEffect)((function(){return r.appendChild(i),function(){return r.removeChild(i)}}),[i,r]),(0,Kg.createPortal)(n,i)},Nb=function(e){var t=e.children,n=e.onClick;return(0,bv.jsx)(Ob,{children:(0,bv.jsxs)("div",{className:Tb,children:[(0,bv.jsx)("div",{className:Fb,children:t}),(0,bv.jsx)("div",{className:Rb,onClick:n})]})})};var Db,jb="ButtonEnter_enter__oncP+",Lb=function(e){var t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));return(0,bv.jsx)(Ty,De(De({className:jb},t),{},{children:"\u0412\u043e\u0439\u0442\u0438"}))},Bb=["title","titleId"];function Mb(){return Mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mb.apply(this,arguments)}function Hb(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Vb(e,n){var r=e.title,i=e.titleId,a=Hb(e,Bb);return t.createElement("svg",Mb({width:50,height:50,viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,Db||(Db=t.createElement("circle",{cx:25,cy:25,r:25,fill:"#D9D9D9"})))}var Ub=t.forwardRef(Vb),qb=(n.p,{user:"User_user__e2CJK",avatar:"User_avatar__O4ShZ",name:"User_name__S9Zu4",arrow:"User_arrow__ch9xc",rotate:"User_rotate__sEXng",white:"User_white__r8ufJ",black:"User_black__3GprC"}),Kb=function(e){var t=e.colorName,n=void 0===t?"black":t,r=yg(),i=Zg(Yf).login;return(0,bv.jsxs)("div",{className:Ay()(qb.user,qb[n]),onClick:function(){r("/profile")},children:[(0,bv.jsx)(Ub,{className:qb.avatar}),(0,bv.jsx)("p",{className:qb.name,children:i})]})},zb=function(){for(var e=uy(),n=yg(),r=mg(),i=Zg(wd),a=Zg(ed),o=null===a||void 0===a?void 0:a.filter((function(e){return e.pathName===r.title})),s="/image/background/".concat(o[0].pathName,".png"),u=Zg(Yf).login,c=Zg(hd),l=[],h=function(e){o[0].workout.map((function(t){return t===c[e]._id?l.push(c[e]):""}))},f=0;f<c.length;f++)h(f);var d=function(){var e,t=[];for(var n in i)e=i[n].pathName,t.push(e);return!!t.includes(o[0].pathName)}(),p=x((0,t.useState)(!1),2),v=p[0],g=p[1],y=x((0,t.useState)(!1),2),m=y[0],b=y[1],w=Zg(Yf).id,_=function(){g(!v),b(!1)};return(0,bv.jsxs)("div",{className:cy,children:[(0,bv.jsxs)("header",{className:hy,children:[(0,bv.jsx)(jy,{}),u?(0,bv.jsx)(Kb,{colorName:"black"}):(0,bv.jsx)(Lb,{onClick:_})]}),(0,bv.jsxs)("div",{className:ly,children:[(0,bv.jsx)("div",{className:fy,style:{backgroundImage:"url(".concat(s,")")},children:(0,bv.jsx)("h1",{className:dy,children:o[0].name})}),(0,bv.jsxs)("div",{className:py,children:[(0,bv.jsx)("h2",{className:vy,children:"\u041f\u043e\u0434\u043e\u0439\u0434\u0435\u0442 \u0434\u043b\u044f \u0432\u0430\u0441, \u0435\u0441\u043b\u0438:"}),(0,bv.jsx)("ol",{className:gy,children:o[0].for_you.reasons.map((function(e,t){return(0,bv.jsx)("li",{className:yy,children:e},t)}))})]}),(0,bv.jsxs)("div",{className:my,children:[(0,bv.jsx)("h1",{className:vy,children:"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f:"}),(0,bv.jsx)("ul",{className:by,children:o[0].directions.map((function(e,t){return(0,bv.jsx)("li",{className:wy,children:e},t)}))})]}),(0,bv.jsx)("div",{className:xy,children:(0,bv.jsx)("p",{className:Ey,children:o[0].description})}),!d&&(0,bv.jsxs)("div",{className:_y,children:[(0,bv.jsx)("p",{className:Sy,children:"\u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0437\u0430\u044f\u0432\u043a\u0443 \u043d\u0430 \u043f\u0440\u043e\u0431\u043d\u043e\u0435 \u0437\u0430\u043d\u044f\u0442\u0438\u0435, \u043c\u044b \u0441\u0432\u044f\u0436\u0435\u043c\u0441\u044f \u0441 \u0432\u0430\u043c\u0438, \u043f\u043e\u043c\u043e\u0436\u0435\u043c \u0441 \u0432\u044b\u0431\u043e\u0440\u043e\u043c \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0438 \u0442\u0440\u0435\u043d\u0435\u0440\u0430, \u0441 \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438 \u043f\u0440\u0438\u043d\u0435\u0441\u0443\u0442 \u0437\u0434\u043e\u0440\u043e\u0432\u044c\u0435 \u0438 \u0440\u0430\u0434\u043e\u0441\u0442\u044c!"}),(0,bv.jsx)(Oy,{content:"\u0417\u0430\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0443",onClick:function(){u?function(){var t=o[0]._id,r=o[0].name,i=o[0].pathName;e(pd({id:w,idCourse:t,name:r,pathName:i,workouts:l})),n("/profile")}():_()}})]})]}),v&&(0,bv.jsx)(Nb,{onClick:_,children:m?(0,bv.jsx)(Ib,{}):(0,bv.jsx)(Sb,{showSignup:function(){b(!0)}})})]})},Wb=function(){return(0,bv.jsx)(zb,{})},Gb="NotFound_wrapper__s6wC2",$b="NotFound_error__Joh9y",Jb="NotFound_text__TgLAO",Yb="NotFound_link__QnKJH",Xb=function(){return(0,bv.jsxs)("div",{className:Gb,children:[(0,bv.jsx)("p",{className:Jb,children:"The page you are looking for can`t be found."}),(0,bv.jsx)("p",{className:$b,children:"404"}),(0,bv.jsx)(Mg,{className:Yb,to:"/",children:"Go HOME"})]})},Qb="ButtonUp_up__xSR3j",Zb=function(){return(0,bv.jsx)("a",{href:"#",onClick:function(){return scroll(0,0),!1},className:Qb,children:"\u041d\u0430\u0432\u0435\u0440\u0445 \u2191"})},ew=function(e,t){return ew=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},ew(e,t)};var tw=function(){return tw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},tw.apply(this,arguments)};var nw="Pixel",rw="Percent",iw={unit:rw,value:.8};function aw(e){return"number"===typeof e?{unit:rw,value:100*e}:"string"===typeof e?e.match(/^(\d*(\.\d+)?)px$/)?{unit:nw,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:rw,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),iw):(console.warn("scrollThreshold should be string or number"),iw)}var ow,sw,uw,cw,lw,hw=function(e){function n(t){var n=e.call(this,t)||this;return n.lastScrollTop=0,n.actionTriggered=!1,n.startY=0,n.currentY=0,n.dragging=!1,n.maxPullDownDistance=0,n.getScrollableTarget=function(){return n.props.scrollableTarget instanceof HTMLElement?n.props.scrollableTarget:"string"===typeof n.props.scrollableTarget?document.getElementById(n.props.scrollableTarget):(null===n.props.scrollableTarget&&console.warn("You are trying to pass scrollableTarget but it is null. This might\n        happen because the element may not have been added to DOM yet.\n        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.\n      "),null)},n.onStart=function(e){n.lastScrollTop||(n.dragging=!0,e instanceof MouseEvent?n.startY=e.pageY:e instanceof TouchEvent&&(n.startY=e.touches[0].pageY),n.currentY=n.startY,n._infScroll&&(n._infScroll.style.willChange="transform",n._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},n.onMove=function(e){n.dragging&&(e instanceof MouseEvent?n.currentY=e.pageY:e instanceof TouchEvent&&(n.currentY=e.touches[0].pageY),n.currentY<n.startY||(n.currentY-n.startY>=Number(n.props.pullDownToRefreshThreshold)&&n.setState({pullToRefreshThresholdBreached:!0}),n.currentY-n.startY>1.5*n.maxPullDownDistance||n._infScroll&&(n._infScroll.style.overflow="visible",n._infScroll.style.transform="translate3d(0px, "+(n.currentY-n.startY)+"px, 0px)")))},n.onEnd=function(){n.startY=0,n.currentY=0,n.dragging=!1,n.state.pullToRefreshThresholdBreached&&(n.props.refreshFunction&&n.props.refreshFunction(),n.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame((function(){n._infScroll&&(n._infScroll.style.overflow="auto",n._infScroll.style.transform="none",n._infScroll.style.willChange="unset")}))},n.onScrollListener=function(e){"function"===typeof n.props.onScroll&&setTimeout((function(){return n.props.onScroll&&n.props.onScroll(e)}),0);var t=n.props.height||n._scrollableNode?e.target:document.documentElement.scrollTop?document.documentElement:document.body;n.actionTriggered||((n.props.inverse?n.isElementAtTop(t,n.props.scrollThreshold):n.isElementAtBottom(t,n.props.scrollThreshold))&&n.props.hasMore&&(n.actionTriggered=!0,n.setState({showLoader:!0}),n.props.next&&n.props.next()),n.lastScrollTop=t.scrollTop)},n.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:t.dataLength},n.throttledOnScrollListener=function(e,t,n,r){var i,a=!1,o=0;function s(){i&&clearTimeout(i)}function u(){var u=this,c=Date.now()-o,l=arguments;function h(){o=Date.now(),n.apply(u,l)}function f(){i=void 0}a||(r&&!i&&h(),s(),void 0===r&&c>e?h():!0!==t&&(i=setTimeout(r?f:h,void 0===r?e-c:e)))}return"boolean"!==typeof t&&(r=n,n=t,t=void 0),u.cancel=function(){s(),a=!0},u}(150,n.onScrollListener).bind(n),n.onStart=n.onStart.bind(n),n.onMove=n.onMove.bind(n),n.onEnd=n.onEnd.bind(n),n}return function(e,t){function n(){this.constructor=e}ew(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(n,e),n.prototype.componentDidMount=function(){if("undefined"===typeof this.props.dataLength)throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),"number"===typeof this.props.initialScrollY&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),"function"!==typeof this.props.refreshFunction))throw new Error('Mandatory prop "refreshFunction" missing.\n          Pull Down To Refresh functionality will not work\n          as expected. Check README.md for usage\'')},n.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},n.prototype.componentDidUpdate=function(e){this.props.dataLength!==e.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},n.getDerivedStateFromProps=function(e,t){return e.dataLength!==t.prevDataLength?tw(tw({},t),{prevDataLength:e.dataLength}):null},n.prototype.isElementAtTop=function(e,t){void 0===t&&(t=.8);var n=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,r=aw(t);return r.unit===nw?e.scrollTop<=r.value+n-e.scrollHeight+1:e.scrollTop<=r.value/100+n-e.scrollHeight+1},n.prototype.isElementAtBottom=function(e,t){void 0===t&&(t=.8);var n=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,r=aw(t);return r.unit===nw?e.scrollTop+n>=e.scrollHeight-r.value:e.scrollTop+n>=r.value/100*e.scrollHeight},n.prototype.render=function(){var e=this,n=tw({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),r=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),i=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return t.createElement("div",{style:i,className:"infinite-scroll-component__outerdiv"},t.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(t){return e._infScroll=t},style:n},this.props.pullDownToRefresh&&t.createElement("div",{style:{position:"relative"},ref:function(t){return e._pullDown=t}},t.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!r&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},n}(t.Component),fw=hw,dw="ButtonGo_go__GETDW",pw=["idButton"],vw=function(e){var t=e.idButton,n=ky(e,pw);return(0,bv.jsx)(Ty,De(De({},n),{},{id:t,className:dw,children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u2192"}))},gw="CourseCart_cart__P670t",yw="CourseCart_title__fbQaL",mw=["id","src","button","title","pathName"],bw=function(e){var t=e.id,n=e.src,r=e.button,i=e.title,a=e.pathName,o=ky(e,mw),s=yg();return(0,bv.jsxs)("div",{className:gw,onClick:function(){r||s("/about/".concat(a))},children:[(0,bv.jsx)("img",{id:t,src:n,alt:i}),(0,bv.jsx)("div",{className:yw,children:i}),r?(0,bv.jsx)(vw,De({},o)):null]})},ww=["image/carts/1.png","image/carts/2.png","image/carts/3.png","image/carts/4.png","image/carts/5.png"],xw="CoursesCarts_container__lfar2",_w="CoursesCarts_courses__AvVmy",Sw=function(e,t){var n=t;return t+1>e.length&&(n=t<10?t-e.length:t.toString().slice(-1)),e[n]},Ew=["courses","button","className"],kw=function(e){var n=e.courses,r=e.button,i=e.className,a=ky(e,Ew),o=x((0,t.useState)(0),2),s=o[0],u=o[1],c=x((0,t.useState)([]),2),l=c[0],h=c[1],f=function(e){for(var t=[],n=0;n<Math.ceil(e.length/6);n++)t.push(e.slice(6*n,6*n+6));return t}(n);(0,t.useEffect)((function(){d()}),[]);var d=function(){l.length<n.length?(h([].concat(C(l),C(f[s]))),u(s+1)):h(n)};return(0,bv.jsx)(fw,{dataLength:l.length,next:d,hasMore:!0,loader:l.length!==n.length&&(0,bv.jsx)(yb,{}),children:(0,bv.jsx)("div",{className:xw,children:(0,bv.jsx)("div",{className:Ay()(i,_w),children:l.map((function(e,n){return(0,t.createElement)(bw,De(De({button:r,idButton:e._id},a),{},{key:n,src:Sw(ww,n),id:e._id,title:e.name,pathName:e.pathName}))}))})})})},Cw={wrapper:"Main_wrapper__iv1XB",container:"Main_container__24KWn",sidebar:"Main_sidebar__y1lfX",body:"Main_body__9mjNd",content:"Main_content__C-+Q4",subtitle:"Main_subtitle__eSWYk",title:"Main_title__PYbBq",sticker:"Main_sticker__d4EyO",main:"Main_main__MoN4z",footer:"Main_footer__JKxlq",text:"Main_text__SOZR+"},Aw=function(){var e=uy(),n=x((0,t.useState)(!1),2),r=n[0],i=n[1],a=x((0,t.useState)(!1),2),o=a[0],s=a[1],u=Zg(Zf),c=u.status,l=u.error,h=u.qty,f=Zg(Yf).login,d=function(){i(!r),s(!1)};(0,t.useEffect)((function(){h||(e(Xf()),e(sd()))}),[h,e]);var p=Zg(ed);return(0,bv.jsxs)("div",{className:Cw.wrapper,children:[(0,bv.jsxs)("header",{className:Cw.header,children:[(0,bv.jsxs)("div",{className:Ay()(Cw.container,Cw.sidebar),children:[(0,bv.jsx)(jy,{colorLogo:"white"}),f?(0,bv.jsx)(Kb,{colorName:"white"}):(0,bv.jsx)(Lb,{onClick:d})]}),(0,bv.jsx)("div",{className:Ay()(Cw.container,Cw.body),children:(0,bv.jsxs)("div",{className:Cw.content,children:[(0,bv.jsxs)("div",{className:Cw.text,children:[(0,bv.jsx)("div",{className:Cw.subtitle,children:"\u041e\u043d\u043b\u0430\u0439\u043d-\u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438 \u0434\u043b\u044f \u0437\u0430\u043d\u044f\u0442\u0438\u0439 \u0434\u043e\u043c\u0430"}),(0,bv.jsx)("div",{className:Cw.title,children:"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0437\u0430\u043d\u0438\u043c\u0430\u0442\u044c\u0441\u044f \u0441\u043f\u043e\u0440\u0442\u043e\u043c \u0438 \u0443\u043b\u0443\u0447\u0448\u0438\u0442\u0435 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u0436\u0438\u0437\u043d\u0438"})]}),(0,bv.jsx)("div",{className:Cw.sticker,children:(0,bv.jsx)("img",{src:"image/main/sticker.png",alt:""})})]})})]}),(0,bv.jsxs)("main",{className:Cw.main,children:[l&&(0,bv.jsx)("p",{children:l}),"loading"===c&&(0,bv.jsx)(yb,{}),"received"===c&&(0,bv.jsx)(kw,{courses:p})]}),(0,bv.jsx)("footer",{className:Ay()(Cw.container,Cw.footer),children:(0,bv.jsx)(Zb,{})}),r&&(0,bv.jsx)(Nb,{onClick:d,children:o?(0,bv.jsx)(Ib,{}):(0,bv.jsx)(Sb,{showSignup:function(){s(!0)}})})]})},Pw=function(){return(0,bv.jsx)(Aw,{})},Iw=n(134),Tw=n.n(Iw),Fw="Exercises_title__IZzEv",Rw="Exercises_list__m4WV3",Ow="Exercises_listItem__7TpZR",Nw=function(e){var t=e.exercises,n=e.onClick;return(0,bv.jsxs)("div",{children:[(0,bv.jsx)("h2",{className:Fw,children:"\u0423\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f"}),(0,bv.jsx)("ul",{className:Rw,children:null===t||void 0===t?void 0:t.map((function(e){return(0,bv.jsx)("li",{className:Ow,children:e.name},e.id)}))}),(0,bv.jsx)(Oy,{content:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0439 \u043f\u0440\u043e\u0433\u0440\u0435\u0441\u0441",onClick:n})]})},Dw={progress:"Progress_progress__WoYkc",title:"Progress_title__ObfAc",list:"Progress_list__7o9Ry",listItem:"Progress_listItem__2W9TJ",name:"Progress_name__v8bLK",progressbar:"Progress_progressbar__H4Jkr",done:"Progress_done__E+49o",percent:"Progress_percent__poHwP",color1:"Progress_color1__KHouU",colorBg1:"Progress_colorBg1__RWsWb",color2:"Progress_color2__Usz76",colorBg2:"Progress_colorBg2__2hCJE",color3:"Progress_color3__APIf9",colorBg3:"Progress_colorBg3__PQWsZ",color4:"Progress_color4__mw37B",colorBg4:"Progress_colorBg4__00XmC",color5:"Progress_color5__Wm3JN",colorBg5:"Progress_colorBg5__BdKYo"},jw=function(e){var t=e.exercises;return(0,bv.jsxs)("div",{className:Dw.progress,children:[(0,bv.jsx)("h2",{className:Dw.title,children:"\u041c\u043e\u0439 \u043f\u0440\u043e\u0433\u0440\u0435\u0441\u0441 \u043f\u043e \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0435:"}),(0,bv.jsx)("ul",{className:Dw.list,children:null===t||void 0===t?void 0:t.map((function(e){var t=Math.round(5/e.count*100);return(0,bv.jsxs)("li",{className:Dw.listItem,children:[(0,bv.jsx)("span",{className:Dw.name,children:e.name.split("(")[0]}),(0,bv.jsxs)("div",{className:Ay()(Dw.progressbar,Dw["colorBg".concat(e.id)]),children:[(0,bv.jsx)("div",{className:Ay()(Dw.done,Dw["color".concat(e.id)]),style:{width:"".concat(t,"%")}}),(0,bv.jsxs)("span",{className:Dw.percent,style:{left:"".concat(t,"px")},children:[t,"%"]})]})]},e.id)}))})]})},Lw="Progress_input__UDOVu",Bw="Progress_message__Ty6VV",Mw=function(e){var t,n=e.className,r=e.register,i=e.errors,a=e.name;return(0,bv.jsxs)(bv.Fragment,{children:[(0,bv.jsx)("input",De({className:Ay()(n,Lw),type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"},r("".concat(a),{required:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e",minLength:{value:1,message:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u043d\u0430 1"},validate:function(e){return[/^\d+$/].every((function(t){return t.test(e)}))||"\u0422\u043e\u043b\u044c\u043a\u043e \u0446\u0438\u0444\u0440\u044b"}}))),(0,bv.jsx)("span",{className:Bw,children:null===(t=i[a])||void 0===t?void 0:t.message})]})},Hw="ProgressModal_form__FT1It",Vw="ProgressModal_title__gIhkO",Uw="ProgressModal_inputs__whCGT",qw="ProgressModal_text__+RdIK",Kw=function(e){var t=e.onClick,n=lb(),r=n.register,i=n.handleSubmit,a=n.formState.errors;return(0,bv.jsxs)("form",{className:Hw,onSubmit:i((function(e){console.log(e),t()})),children:[(0,bv.jsx)("h2",{className:Vw,children:"\u041c\u043e\u0439 \u043f\u0440\u043e\u0433\u0440\u0435\u0441\u0441"}),(0,bv.jsxs)("div",{className:Uw,children:[(0,bv.jsx)("label",{className:qw}),"\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u0440\u0430\u0437 \u0432\u044b \u0441\u0434\u0435\u043b\u0430\u043b\u0438 \u043d\u0430\u043a\u043b\u043e\u043d\u044b \u0432\u043f\u0435\u0440\u0435\u0434?",(0,bv.jsx)(Mw,{name:"\u043f\u0435\u0440\u0432\u044b\u0439",register:r,errors:a}),(0,bv.jsx)("label",{className:qw}),"\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u0440\u0430\u0437 \u0432\u044b \u0441\u0434\u0435\u043b\u0430\u043b\u0438 \u043d\u0430\u043a\u043b\u043e\u043d\u044b \u043d\u0430\u0437\u0430\u0434?",(0,bv.jsx)(Mw,{name:"\u0432\u0442\u043e\u0440\u043e\u0439",register:r,errors:a}),(0,bv.jsx)("label",{className:qw}),"\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u0440\u0430\u0437 \u0432\u044b \u0441\u0434\u0435\u043b\u0430\u043b\u0438 \u043f\u043e\u0434\u043d\u044f\u0442\u0438\u0435 \u043d\u043e\u0433, \u0441\u043e\u0433\u043d\u0443\u0442\u044b\u0445 \u0432 \u043a\u043e\u043b\u0435\u043d\u044f\u0445?",(0,bv.jsx)(Mw,{name:"\u0442\u0440\u0435\u0442\u0438\u0439",register:r,errors:a})]}),(0,bv.jsx)(Oy,{type:"submit",content:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})},zw=["title","titleId"];function Ww(){return Ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ww.apply(this,arguments)}function Gw(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $w(e,n){var r=e.title,i=e.titleId,a=Gw(e,zw);return t.createElement("svg",Ww({width:196,height:212,viewBox:"0 0 196 212",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,ow||(ow=t.createElement("path",{d:"M95.0258 274.606L116.477 173.471C126.163 170.565 148.143 149.771 160.756 122.272C176.522 87.8982 177.609 60.6892 174.025 58.0942C164.35 51.0894 162.489 79.0702 145.597 110.018C151.973 96.6649 168.501 42.815 160.659 34.9677C149.829 24.1305 134.338 82.3238 128.909 100.472C133.14 82.6761 151.937 17.853 136.423 16.157C126.438 15.0652 115.821 64.2376 110.361 86.5916C112.651 75.1078 111.729 60.7064 98.6771 55.5132C79.5958 47.9207 70.3473 79.901 79.5664 83.7596C83.0291 85.2089 87.7412 81.9936 91.154 77.7749C92.2042 82.6208 91.0998 96.9574 78.2807 115.537C76.6687 115.366 74.9832 115.311 73.2245 115.381C76.0737 110.926 80.1575 97.875 80.5594 91.2669C81.0619 83.0069 66.8154 77.0442 52.4333 111.406C44.7894 129.669 59.3465 146.342 69.2466 155.476L30.6609 247.666L95.0258 274.606Z",fill:"#E9D4FF"})),sw||(sw=t.createElement("path",{d:"M95.0258 274.606L116.477 173.471C126.163 170.565 148.143 149.771 160.756 122.272C176.522 87.8982 177.609 60.6892 174.025 58.0942C164.35 51.0894 162.489 79.0702 145.597 110.018C151.973 96.6649 168.501 42.815 160.659 34.9677C149.829 24.1305 134.338 82.3238 128.909 100.472C133.14 82.6761 151.937 17.853 136.423 16.157C125.499 14.9626 113.818 73.9322 108.962 92.1233C112.615 80.2574 113.942 61.5871 98.6771 55.5132C79.5958 47.9207 70.3473 79.901 79.5664 83.7596C85.2654 86.1449 94.3487 75.895 95.4542 69.3319M30.6609 247.666L69.2466 155.476C59.3465 146.342 44.7894 129.669 52.4333 111.406C66.8154 77.0442 81.0619 83.0069 80.5594 91.2669C80.1575 97.875 76.0737 110.926 73.2245 115.381C94.4558 114.534 105.011 132.003 104.509 149.355",stroke:"#271A58"})),uw||(uw=t.createElement("path",{d:"M78.8491 86.4133C75.7907 90.5831 68.0061 98.1064 61.3356 94.8418",stroke:"#271A58"})),cw||(cw=t.createElement("path",{d:"M78.0828 66.5915C80.4233 68.8338 83.8943 75.3635 79.0536 83.5445",stroke:"#271A58"})),lw||(lw=t.createElement("path",{d:"M91.4025 77.682C91.3784 83.7784 91.7511 94.1775 78.2179 115.697",stroke:"#271A58"})))}var Jw=t.forwardRef($w),Yw=(n.p,"SuccessModal_content__AXJhS"),Xw="SuccessModal_title__fW7QD",Qw=function(e){var n=e.setIsSuccessModalShown;return(0,t.useEffect)((function(){var e=setTimeout((function(){n(!1)}),1e3);return function(){return clearTimeout(e)}}),[n]),(0,bv.jsx)(Nb,{children:(0,bv.jsxs)("div",{className:Yw,children:[(0,bv.jsx)("h2",{className:Xw,children:"\u0412\u0430\u0448 \u043f\u0440\u043e\u0433\u0440\u0435\u0441\u0441 \u0437\u0430\u0441\u0447\u0438\u0442\u0430\u043d!"}),(0,bv.jsx)(Jw,{})]})})},Zw="TrainingChoice_container__f52hQ",ex="TrainingChoice_title__vtRp4",tx="TrainingChoice_list__fVCq8",nx="TrainingChoice_list__item__q+IuJ",rx="TrainingChoice_list__text__zU7+6",ix="TrainingChoice_not_active__iU3Mq",ax="TrainingChoice_disabled__It1cm",ox=function(){for(var e=Zg(fd),t=e.map((function(e){return De(De({},e),{},{isDone:false})})),n=0;n<t.length;n++)0===n?t[0].available=!0:!0===t[n-1].isDone?t[n].available=!0:t[n].available=!1;return(0,bv.jsxs)("div",{className:Zw,children:[(0,bv.jsx)("h1",{className:ex,children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0443"}),(0,bv.jsx)("ul",{className:tx,children:null===t||void 0===t?void 0:t.map((function(e){return(0,bv.jsxs)(Bg,{to:"/workout/".concat(e._id),className:"".concat(nx,"  ").concat(ix," ").concat(e.available?"":ax),children:[e.name,(0,bv.jsx)("p",{className:rx,children:e.details})]},e._id)}))})]})},sx="Workout_container__F8lDo",ux="Workout_header__4o-gG",cx="Workout_nav__+I7VR",lx="Workout_main__miZc2",hx="Workout_heading__2FI8T",fx="Workout_title__5cVMZ",dx="Workout_player__oqDFO",px="Workout_exercises__hAAg+",vx=function(){var e=mg(),n=Zg(hd),r=null===n||void 0===n?void 0:n.filter((function(t){return t._id===e.id})),i="".concat(r[0].name," / ").concat(r[0].details),a=Zg(ed).filter((function(t){return t.workout.includes(e.id)})),o=Zg(fd),s=x((0,t.useState)(!1),2),u=s[0],c=s[1],l=x((0,t.useState)(!1),2),h=l[0],f=l[1],d=x((0,t.useState)(!1),2),p=d[0],v=d[1];return(0,bv.jsxs)("div",{className:sx,children:[(0,bv.jsx)("header",{className:ux,children:(0,bv.jsxs)("nav",{className:cx,children:[(0,bv.jsx)(jy,{}),(0,bv.jsx)(Kb,{})]})}),(0,bv.jsxs)("main",{className:lx,children:[(0,bv.jsx)("h1",{className:hx,children:a[0].name}),(0,bv.jsx)("h2",{className:fx,onClick:function(){return v(!0)},children:r[0].details?i:r[0].name}),(0,bv.jsx)("div",{className:dx,children:(0,bv.jsx)(Tw(),{url:r[0].track_file||"",width:"100%",height:"100%"})}),r[0].exercises&&r[0].exercises.length>0&&(0,bv.jsxs)("div",{className:px,children:[(0,bv.jsx)(Nw,{exercises:r[0].exercises,onClick:function(){return c(!0)}}),(0,bv.jsx)(jw,{exercises:r[0].exercises})]})]}),u&&(0,bv.jsx)(Nb,{onClick:function(){c(!u)},children:(0,bv.jsx)(Kw,{exercises:r[0].exercises,onClick:function(){c(!1),f(!0)}})}),h&&(0,bv.jsx)(Qw,{setIsSuccessModalShown:f}),p&&(0,bv.jsx)(Nb,{onClick:function(){v(!p)},children:(0,bv.jsx)(ox,{workouts:o})})]})},gx="NewPassword_form__0FLM4",yx="NewPassword_logo__QgVax",mx="NewPassword_title__18VJJ",bx="NewPassword_inputs__+T85b",wx="NewPassword_buttons__hv1sx",xx="NewPassword_message__xacrQ",_x=function(e){var t=e.setModalVisible,n=uy(),r=Zg(Yf),i=r.email,a=r.password,s=r.error,c=r.loading,l=r.id,h=xv(),f=h.updateUserPassword,d=h.reauthenticate,p=lb(),v=p.register,g=p.handleSubmit,y=p.formState.errors,m=function(){var e=u(o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.password===r.confirmPassword){e.next=2;break}return e.abrupt("return",n($f("\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442")));case 2:return n(Gf(!0)),n($f("")),e.prev=4,n($f("")),n(Gf(!0)),e.next=9,d(i,a);case 9:return e.next=11,f(r.password);case 11:n(Hf({id:l,password:r.password})),n(Wf(r.password)),t(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),n($f(e.t0.message)),n(Gf(!1));case 20:n(Gf(!1)),n($f(""));case 22:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(t){return e.apply(this,arguments)}}();return(0,bv.jsxs)("form",{className:gx,onSubmit:g(m),children:[(0,bv.jsx)(jy,{className:yx}),(0,bv.jsx)("h3",{className:mx,children:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c:"}),(0,bv.jsxs)("div",{className:bx,children:[(0,bv.jsx)(vb,{name:"password",register:v,errors:y}),(0,bv.jsx)(vb,{name:"confirmPassword",register:v,errors:y})]}),(0,bv.jsx)("div",{className:wx,children:(0,bv.jsx)(Oy,{content:c?(0,bv.jsx)(yb,{}):"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})}),s&&(0,bv.jsx)("div",{className:xx,children:s})]})},Sx="NewLogin_form__L0uIw",Ex="NewLogin_logo__TBGQT",kx="NewLogin_title__sqa1B",Cx="NewLogin_inputs__HmaLI",Ax="NewLogin_buttons__hcvPt",Px="NewLogin_message__mijIh",Ix=function(e){var t=e.setModalVisible,n=uy(),r=Zg(Yf),i=r.id,a=r.error,s=r.loading,c=xv().updateUserName,l=lb(),h=l.register,f=l.handleSubmit,d=l.formState.errors,p=function(){var e=u(o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(Gf(!0)),e.next=4,c(r.username);case 4:n(Mf({id:i,username:r.username})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),n($f(e.t0.message)),n(Gf(!1));case 11:n(Gf(!1)),t(!1);case 13:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return(0,bv.jsxs)("form",{className:Sx,onSubmit:f(p),children:[(0,bv.jsx)(jy,{colorLogo:"black",className:Ex}),(0,bv.jsx)("h3",{className:kx,children:"\u041d\u043e\u0432\u044b\u0439 \u043b\u043e\u0433\u0438\u043d:"}),(0,bv.jsx)("div",{className:Cx,children:(0,bv.jsx)(db,{register:h,errors:d})}),(0,bv.jsxs)("div",{className:Ax,children:[(0,bv.jsx)(Oy,{type:"submit",content:s?(0,bv.jsx)(yb,{}):"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),a&&(0,bv.jsx)("div",{className:Px,children:a})]})]})},Tx={wrapper:"MyProfile_wrapper__LUDYG",header:"MyProfile_header__VMhjK",information:"MyProfile_information__zCLcI",tittle:"MyProfile_tittle__9w8x1",text:"MyProfile_text__LU2bd",buttons:"MyProfile_buttons__GmX87",cards:"MyProfile_cards__sP7Cd"},Fx=function(){var e=uy(),n=yg(),r=x((0,t.useState)(!1),2),i=r[0],a=r[1],s=x((0,t.useState)(null),2),c=s[0],l=s[1],h=Zg(Yf),f=h.id,d=h.login,p=h.password,v=Zg(bd).status,g=xv().logout,y=Zg(wd);(0,t.useEffect)((function(){null===p&&e(Vf(f))}),[e,p]),(0,t.useEffect)((function(){return function(){e($f(""))}}),[]),(0,t.useEffect)((function(){setTimeout((function(){e(dd(f))}),500)}),[e]);var m=function(t){return a(!0),"newPass"===t.target.name?l((0,bv.jsx)(_x,{setModalVisible:a})):"newLog"===t.target.name?l((0,bv.jsx)(Ix,{setModalVisible:a})):"select"===t.target.name?(e(ld(t.target.id)),l((0,bv.jsx)(ox,{workouts:b}))):void 0},b=Zg(fd);if(null===b)return null;var w=function(){var t=u(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e($f("")),t.prev=1,t.next=4,g();case 4:e(Bf()),n("/"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e($f(t.t0.message));case 11:e(Gf(!1)),e($f(""));case 13:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}();return(0,bv.jsxs)("div",{className:Tx.wrapper,children:[(0,bv.jsxs)("header",{className:Tx.header,children:[(0,bv.jsx)(jy,{}),(0,bv.jsx)(Kb,{colorName:"black"})]}),(0,bv.jsxs)("div",{className:Tx.information,children:[(0,bv.jsx)("h2",{className:Tx.tittle,children:"\u041c\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"}),(0,bv.jsx)("p",{className:Tx.text,children:d}),(0,bv.jsx)("p",{className:Tx.text,children:p}),(0,bv.jsxs)("div",{className:Tx.buttons,children:[(0,bv.jsx)(Oy,{name:"newLog",btnClassName:Tx.button,content:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043b\u043e\u0433\u0438\u043d",onClick:m}),(0,bv.jsx)(Oy,{name:"newPass",btnClassName:Tx.button,content:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",onClick:m}),(0,bv.jsx)(Oy,{name:"exit",btnClassName:Tx.button,content:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430",onClick:w})]})]}),(0,bv.jsxs)("div",{children:[(0,bv.jsx)("h2",{className:Tx.tittle,children:"\u041c\u043e\u0438 \u043a\u0443\u0440\u0441\u044b"}),(0,bv.jsxs)("div",{className:Tx.cards,children:[("rejected"===v&&!y.length||"received"===v&&null===y)&&(0,bv.jsx)("p",{children:"\u0421\u043a\u043e\u0440\u0435\u0435 \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043a\u0443\u0440\u0441!!!"}),"loading"===v&&(0,bv.jsx)(yb,{}),"received"===v&&null!==y&&(0,bv.jsx)(kw,{courses:Object.values(y),button:!0,name:"select",onClick:m})]})]}),i&&(0,bv.jsx)(Nb,{onClick:function(){a(!1)},children:c})]})},Rx=function(){return(0,bv.jsx)(Fx,{})},Ox="Login_wrapper__q0gip",Nx="Login_logo__k8oXn",Dx="Login_inputs__AvOb2",jx="Login_input__KGPVH",Lx="Login_buttons__+XTSo",Bx=function(){return(0,bv.jsx)("div",{className:Ox,children:(0,bv.jsxs)(Nb,{children:[(0,bv.jsx)(jy,{colorLogo:"black",className:Nx}),(0,bv.jsxs)("div",{className:Dx,children:[(0,bv.jsx)("input",{className:jx,placeholder:"\u041b\u043e\u0433\u0438\u043d"}),(0,bv.jsx)("input",{className:jx,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"})]}),(0,bv.jsxs)("div",{className:Lx,children:[(0,bv.jsx)(Oy,{content:"\u0412\u043e\u0439\u0442\u0438"}),(0,bv.jsx)(Oy,{content:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",colorBtn:"white"})]})]})})},Mx="SignUp_wrapper__mJJF2",Hx="SignUp_logo__+Flv1",Vx="SignUp_inputs__AK9MR",Ux="SignUp_input__vlBoF",qx=function(){return(0,bv.jsx)("div",{className:Mx,children:(0,bv.jsxs)(Nb,{children:[(0,bv.jsx)(jy,{colorLogo:"black",className:Hx}),(0,bv.jsxs)("div",{className:Vx,children:[(0,bv.jsx)("input",{className:Ux,placeholder:"\u041b\u043e\u0433\u0438\u043d"}),(0,bv.jsx)("input",{className:Ux,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"}),(0,bv.jsx)("input",{className:Ux,placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"})]}),(0,bv.jsx)(Oy,{content:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})})},Kx=function(){return(0,bv.jsxs)(Tg,{children:[(0,bv.jsx)(Pg,{path:"*",element:(0,bv.jsx)(Xb,{})}),(0,bv.jsx)(Pg,{path:"/about/:title",element:(0,bv.jsx)(Wb,{})}),(0,bv.jsx)(Pg,{path:"/",element:(0,bv.jsx)(Pw,{})}),(0,bv.jsx)(Pg,{path:"workout/:id",element:(0,bv.jsx)(vx,{})}),(0,bv.jsx)(Pg,{path:"profile",element:(0,bv.jsx)(Rx,{})}),(0,bv.jsx)(Pg,{path:"login",element:(0,bv.jsx)(Bx,{})}),(0,bv.jsx)(Pg,{path:"signup",element:(0,bv.jsx)(qx,{})})]})};var zx=function(){return(0,bv.jsx)(Kx,{})};i.createRoot(document.getElementById("app-root")).render((0,bv.jsx)(t.StrictMode,{children:(0,bv.jsx)(_v,{children:(0,bv.jsx)(ry,{store:mv,children:(0,bv.jsx)(Lg,{children:(0,bv.jsx)(zx,{})})})})})),window.store=mv}()}();
//# sourceMappingURL=main.37705c47.js.map